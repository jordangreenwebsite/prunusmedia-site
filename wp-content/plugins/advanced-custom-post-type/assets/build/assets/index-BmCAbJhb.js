import{j as a}from"./fields-GHpMjljq.js";import{a as o}from"./vendor-BmsXziqF.js";import{P as r}from"./index-N_DirKM7.js";import{e as u,f as c,s as g,K as p,M as b,P as f,g as m,h,S as R,v as x,i as S}from"./sortable.esm-FQQt9Bz4.js";const C=s=>{let{transform:i}=s;return{...i,x:0}},v=({items:s,onDragEnd:i,mode:t="vertical",children:n})=>{const e=u(c(f),c(b),c(p,{coordinateGetter:g}));return a.jsx(m,{sensors:e,collisionDetection:h,modifiers:t==="vertical"?[C]:[],onDragEnd:i,children:a.jsx(R,{items:s,strategy:t==="vertical"?x:S,children:n})})};v.propTypes={items:r.array.isRequired,mode:r.oneOf(["vertical","horizontal"]),onDragEnd:r.func.isRequired};const y=s=>{const[i,t]=o.useState(!1),n=o.useMemo(()=>new IntersectionObserver(([e])=>{e.boundingClientRect.x===0&&e.boundingClientRect.y===0&&e.boundingClientRect.bottom===0&&e.boundingClientRect.left===0&&e.boundingClientRect.right===0&&e.boundingClientRect.top===0&&e.boundingClientRect.width===0&&e.boundingClientRect.height===0?t(!0):t(e.isIntersecting)}),[]);return o.useEffect(()=>{if(s.current)return n.observe(s.current),()=>{n.disconnect()}},[s,n]),i},q=({id:s,element:i,size:t,isClosed:n})=>{const e=o.useRef(),d=y(e),l=()=>{if(n)return 85;if(t&&t.type)switch(t.type){case"field":return 398;case"page":return 628+491*t.children;case"child-page":return 537;case"product-data-field":return 276;case"dataset-item":return 46}return 20};return a.jsx("div",{id:`lazy-${s}`,ref:e,children:d?i:a.jsx("div",{style:{display:"flex",alignItems:"center",padding:"0 24px",height:`${l()}px`},children:"Loading..."})})};q.propTypes={id:r.string.isRequired,element:r.element.isRequired,isClosed:r.bool.isRequired,size:r.shape({type:r.string.isRequired,children:r.number.isRequired}).isRequired};export{q as L,v as S};
