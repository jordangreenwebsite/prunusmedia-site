import{j as e,u as s}from"./fields-GHpMjljq.js";import{M as u}from"./Layout-6tbtb2_L.js";import{a as l,R as p,L as g}from"./vendor-BmsXziqF.js";import{P as c,w as b,u as E,a as R,J as A,A as C,s as S}from"./index-N_DirKM7.js";import{T,a as j}from"./index-BjKxxx07.js";import{C as m}from"./index-DGyIIeiD.js";const v=({belongsTo:o,find:n})=>{const[h,x]=l.useState({}),[i,a]=l.useState(!1);return l.useEffect(()=>{i===!0&&b("exportCodeAction",{belongsTo:o,find:n}).then(t=>{x(t)}).catch(t=>{console.error(t.message)})},[i]),e.jsxs(p.Fragment,{children:[e.jsx(u,{title:s("Export code"),visible:i,textAlign:"left",children:e.jsxs(T,{children:[e.jsx(j,{title:"WORDPRESS",children:e.jsx(m,{code:h.wordpress,editable:!1})}),e.jsx(j,{title:"ACPT",children:e.jsx(m,{code:h.acpt,editable:!1})})]})}),e.jsx("a",{href:"#",onClick:t=>{t.preventDefault(),a(!i)},children:s("Export code")})]})};v.propTypes={belongsTo:c.string.isRequired,find:c.string.isRequired};const M=({belongsTo:o,find:n})=>{const x=document.globals.globals,i=E(),{data:a,loading:t}=R(r=>r.fetchMeta),[d,f]=l.useState(!1);return l.useEffect(()=>{d&&i(A({belongsTo:o,find:n}))},[d,o,n]),e.jsxs(p.Fragment,{children:[e.jsx(u,{title:s("Associated meta fields"),visible:d,textAlign:"left",children:t?e.jsx("div",{children:s("Loading...")}):e.jsx(p.Fragment,{children:a.records&&a.records.length>0?e.jsx("div",{className:"responsive",children:e.jsxs("table",{className:`acpt-table with-border b-rounded ${x.is_rtl?"rtl":""}`,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:s("Group name")}),e.jsx("th",{children:s("Fields count")}),e.jsx("th",{children:s("Actions")})]})}),e.jsx("tbody",{children:a.records.map(r=>e.jsxs("tr",{children:[e.jsx("td",{children:r.name}),e.jsx("td",{children:r.fieldsCount}),e.jsx("td",{children:e.jsx("div",{className:"i-flex-center s-8",children:e.jsx(g,{to:`/edit_meta/${r.id}`,children:s("Edit")})})})]}))})]})}):e.jsx(C,{style:S.SECONDARY,children:s("No meta group found.")})})}),e.jsx("a",{href:"#",onClick:r=>{r.preventDefault(),f(!d)},children:s("Show")})]})};M.propTypes={belongsTo:c.string.isRequired,find:c.string.isRequired};export{v as E,M as F};
