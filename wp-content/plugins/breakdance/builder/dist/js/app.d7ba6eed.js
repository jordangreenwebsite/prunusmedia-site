(()=>{"use strict";var e={42406:(e,t,n)=>{n.r(t),n.d(t,{default:()=>qe});var s=n(36968),a=n.n(s),i=n(27361),o=n.n(i),r=n(23279),l=n.n(r),c=n(70655),d=n(20144),u=n(38085),p=n(18076),h=n(25970),g=n(67505),m=n(85450),v=n(71035);const f=1,y=3;function b(e,t,n,{enableContentEditableAndFocus:s,saveContentEditable:a}){const i=e=>{const o=[];return e.forEach((e=>{if(e.nodeType===y){const t=e.nodeValue;"%%CHILDREN%%"===t?.trim()?o.push(n()):t&&o.push(t)}else if(e.nodeType===f&&e instanceof Element){const n=e.attributes,r=e.nodeName,l={},c={},d={},u=[];let p,h;for(let t=0;t<n.length;t++){const i=n.item(t);if(i){const t=i.name;"class"===t?p=i.value:"style"===t?h=i.value:l[t]=i.value,"data-content-editable-property-path"===t&&(d.dblclick=s,d.blur=a,c.innerHTML=e.innerHTML)}}!c.innerHTML&&e.hasChildNodes()&&u.push(...i(e.childNodes)),o.push(t(r,{class:p,style:h,attrs:{...l},on:{...d},domProps:c},u))}})),o},o=new DOMParser,r=o.parseFromString(e,"text/html").body,l=(new XMLSerializer).serializeToString(r),c=l.replace(/<body.*?>/,"").replace("</body>",""),d=o.parseFromString("<root>"+c+"</root>","application/xhtml+xml");return i(d.documentElement.childNodes)}var _=n(98851),x=n(32521),S=n(63842);x.r$({globalSettingsCssFilePath:x.Z_,globalSelectorsCssFilePath:x.Z_,defaultCssForAllElementsFilePath:x.Z_});const P=x.r$({postCssFilePath:x.Z_,postDefaultsCssFilePath:x.Z_}),C=x.dt({postsGeneratedCssFilePaths:x.IM(x.Z_,P)}),w=x.jV([C,x.dt({dependencies:S.D})]),I=x.jV([x.dt({html:x.Z_}),w]);var k=n(85902),D=n(65669),E=n(31381);const T={};function Z(e,t,n){let s,a=[];return async(...i)=>{if(s=i,T[n])return clearTimeout(T[n]),new Promise((i=>{a.push(i),T[n]=setTimeout((()=>{const t=e(...s);a.forEach((e=>e(t))),a=[],delete T[n]}),t)}));{const o=e(...i);return T[n]=setTimeout((()=>{if(a.length>0){const t=e(...s);a.forEach((e=>e(t))),a=[]}delete T[n]}),t),o}}}function A(e,t,n,s){const a=(0,E.Aq)(m.Hb.document.tree.root,[e]),i=a.length,o=a.findIndex((e=>e.id===n)),r=()=>(0,_.D)({action:"breakdance_server_side_render",overrideAjaxUrl:(0,k.j)(),dataToPost:{properties:(0,D.J)(t),parentProperties:(0,D.J)(s),elementSlug:e,triggeringDocument:m.Hb.document.documentMeta.id,totalMatchingElements:i,currentIndexInMatchingElements:o},decoder:I});return Z(r,1e3,n)()}var B=n(30902),M=n(45974),O=n(3565),L=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns"},[t("div",{staticClass:"breakdance-empty-columns-choices-heading"},[e._v(" Choose a column structure ")]),t("div",{staticClass:"breakdance-empty-columns-choices"},[t("div",{staticClass:"breakdance-empty-columns-choices-row"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,2)}}},[e._m(0)]),t("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,3)}}},[e._m(1)]),t("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,4)}}},[e._m(2)])]),t("div",{staticClass:"breakdance-empty-columns-choices-row"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,2,[35,65])}}},[e._m(3)]),t("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,2,[65,35])}}},[e._m(4)])])])])},R=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns-column-icon"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"})])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns-column-icon"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"})])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns-column-icon"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column"})])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns-column-icon"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"35%"}}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"65%"}})])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-columns-column-icon"},[t("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"65%"}}),t("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"35%"}})])}],N=n(884),F=n(94550),$=n(95690),V=n(69137),W=n(28684),H=n(38020);let z=class extends d.ZP{addColumns(e,t,n){e.preventDefault(),e.stopPropagation();const s=[],i=n?n.map((e=>{const t=(0,H.v)(e);return a()({},N.cp,{number:t,unit:"%",style:`${t}%`})})):[];for(let a=0;a<t;a++)s.push({id:a,data:{type:F.Wz,properties:n?i[a]:{}},children:[]});V.n.transaction((()=>{m.Hb.addMultipleNodes({nodes:s,parentId:this.id}),n||(0,W.t)(this.id)}),`Set amount of columns to ${t}`),(0,$.oM)("elementproperties")}};(0,c.gn)([(0,u.fI)()],z.prototype,"id",void 0),z=(0,c.gn)([(0,u.wA)({})],z);const U=z,K=U;var G=n(1001),q=(0,G.Z)(K,L,R,!1,null,null,null);const j=q.exports;var Y=n(86592),X=n(565),Q=n(43195),J=n(58172),ee=n(39664);const te=["jquery","wp-polyfill-js"];function ne(){const e=window.Breakdance.canvas.document,t=e.querySelectorAll("script");for(const n of t){if(te.find((e=>n.id.toLowerCase().includes(e)||n.src.toLowerCase().includes(e))))continue;const t=se(n);n.remove(),e.querySelector("body")?.appendChild(t)}}function se(e){const t=document.createElement("script");return Array.from(e.attributes).forEach((e=>{t.setAttribute(e.name,e.value)})),e.src?t.src=e.src:t.innerHTML=e.innerHTML,t}var ae=n(12721);const ie='\n<div class="breakdance-empty-ssr-message">\n    This element has no content.\n\n    <small>Hide this notice at <i>Preferences / UI Settings / Disable Notice For Empty SSR Elements</i></small>\n</div>',oe='\n<div class="breakdance-empty-ssr-message breakdance-empty-ssr-message-error">\n    There was an error on the server when rendering this element.\n</div>',re=(e,t)=>`\n<div class="breakdance-empty-ssr-message breakdance-empty-ssr-message-error">\n    The <strong>"${e}"</strong> element requires the plugins <em>"${t.join(", ")}"</em>. Please check that they are installed and activated from the Plugins page of the WP admin.\n</div>`;var le=n(98374),ce=n(13635),de=n(20210),ue=n(9950),pe=n(25001),he=n(84274),ge=n(40681),me=n(92361),ve=n(17209),fe=n(23128),ye=n(8773),be=n(35941),_e=n(16734),xe=n(54120),Se=n(16068),Pe=n(87615),Ce=n(3735),we=n(48973);function Ie(e){return e?.parentElement?.classList?.contains("oxy-component")&&e?.children?.length?e.children[0]?.getBoundingClientRect():e?.parentElement?.getBoundingClientRect()}function ke(e){const t=Ie(e);t&&m.kD.setInlineEditingContext({...m.kD.inlineEditingContext,rect:{top:t.top,left:t.left,bottom:t.bottom,right:t.right,width:t.width,height:t.height,y:t.y,x:t.x}})}function De(e){const t=()=>ke(e),n=window.Breakdance?.canvas?.document;n.addEventListener("scroll",t,{passive:!0});const s=n.defaultView?.ResizeObserver,a=s?new s(t):null;return a?.observe(e.parentElement??e),t(),()=>{n.removeEventListener("scroll",t),a?.disconnect()}}var Ee=n(87950),Te=n(33356);let Ze=class extends u.w3{constructor(){super(...arguments),this.loading=!1,this.saving=!1,this.resizeObserver=null,this.blockId=null,this.block=null,this.nextNodeId=100,this.nodes=[],this.stopListeners=()=>{}}onContextChange(e){e.nextNodeId&&(this.nextNodeId=e.nextNodeId)}onElementChange(){this.$nextTick((()=>{ke(this.$refs.container)}))}get postId(){return m.Hb.document.documentMeta.id}get selector(){return`[data-inline-editable-node="${this.postId}-${this.element.id}"]`}get parsedSsrTemplate(){if(!this.ssrTemplate)return null;const e=new DOMParser;return e.parseFromString(this.ssrTemplate,"text/html")}get ssrNodePlaceholders(){const e=this.parsedSsrTemplate?.querySelectorAll(this.selector);return e?Array.from(e).slice(1).map((e=>({tag:e.tagName.toLowerCase(),className:e.className||"",innerHTML:e.innerHTML}))):[]}wrapEditorInSsrNode(e,t=[]){const n=this.$createElement;if(!this.ssrTemplate)return e;const s=new DOMParser,a=s.parseFromString(this.ssrTemplate,"text/html"),i=e=>{const t=[];let n=e.parentElement;while(n&&"body"!==n.tagName.toLowerCase())t.push({tag:n.tagName.toLowerCase(),className:n.className||""}),n=n.parentElement;return t},o=a.querySelector(this.selector);if(!o)return e;const r=i(o),l=o.tagName.toLowerCase(),c=n(l,{class:o.className},[e]);return r.reverse().reduceRight(((e,t)=>{const s=t.tag.toLowerCase();return n(s,{class:t.className},[e])}),[c,...t])}get context(){return m.kD.inlineEditingContext}get blocks(){return m.PK.globalBlocks}async maybeLoadBlock(){const e=this.context?.blockId;if(!e)return;let t=this.blocks.find((t=>t.id===e));t||(t=await this.loadRemoteBlock(e)),this.blockId=e,this.block=t,this.nextNodeId=this.getCurrentNextNodeId(),m.kD.setInlineEditingContext({...m.kD.inlineEditingContext,nextNodeId:this.nextNodeId}),(0,Ee.ln)(this.element.id,t)}getCurrentNextNodeId(){return!1!==this.block?.tree?this.block?.tree._nextNodeId:void 0}async loadRemoteBlock(e){return this.loading=!0,(0,Ce.zG)(await(0,Pe.m9)(e),(0,we.g_)((()=>{this.loading=!1}),(e=>(this.loading=!1,e))))}async saveBlock(){if(!this.block)return;const e=this.nodes.length?this.nodes:(0,Ee.wl)(this.element);e.length?await(0,Ee.y9)(this.block,this.element.id,e,this.nextNodeId):console.log("No nodes found 🤔")}beforePageSave(){this.nodes=(0,Ee.wl)(this.element),m.kD.resetInlineEditingContext()}async mounted(){const e=this.$refs.container;this.stopListeners=De(e),await this.maybeLoadBlock(),this.$nextTick((()=>(0,Te.es)())),document.addEventListener("breakdanceSaveButtonClicked",this.beforePageSave)}async beforeDestroy(){m.kD.activateElement(this.element.id),await this.saveBlock(),this.stopListeners(),document.removeEventListener("breakdanceSaveButtonClicked",this.beforePageSave)}render(){const e=arguments[0],t=e("div",{class:"breakdance-inline-editor__loader"},["Loading Block..."]),n=e("div",{class:"breakdance-inline-editor",ref:"container"},[this.loading?t:this.$slots.default]),s=this.ssrNodePlaceholders.map(((t,n)=>{const s=t.tag;return e(s,{key:`placeholder-${n}`,class:`breakdance-inline-editor-placeholder ${t.className}`,domProps:{innerHTML:t.innerHTML}})}));return this.ssrTemplate?this.wrapEditorInSsrNode(n,s):n}};(0,c.gn)([(0,u.fI)()],Ze.prototype,"element",void 0),(0,c.gn)([(0,u.fI)()],Ze.prototype,"ssrTemplate",void 0),(0,c.gn)([(0,u.RL)("context",{deep:!0})],Ze.prototype,"onContextChange",null),(0,c.gn)([(0,u.RL)("element",{deep:!0})],Ze.prototype,"onElementChange",null),Ze=(0,c.gn)([(0,u.wA)({components:{BuilderElement:()=>Promise.resolve().then(n.bind(n,42406))}})],Ze);const Ae=Ze,Be=Ae;var Me,Oe,Le=(0,G.Z)(Be,Me,Oe,!1,null,null,null);const Re=Le.exports;function Ne(e){return e.data.type===F.PZ||!!Fe(e)}function Fe(e){const t=(0,E.X4)(m.Hb.document.tree,e);if(!t)return!1;if(t.data.type!==F.JZ)return!1;const n=t.children.every((t=>t.data.type===e.data.type));return!!n}var $e;const Ve=l()(v.Z,500);let We=$e=class extends d.ZP{constructor(){super(...arguments),this.isActive=!1,this.isUpdating=!1,this.currentlyDragging=!1,this.lastModifiedPropertyPath=null,this.uniqueId=(0,ye.Z)(),this.ssrInnerHtml=null,this.oldSsrParentProperties=(0,fe.Z)(this.ssrParentProperties),this.oldTwigProps=(0,fe.Z)(this.elementProps),this.dragMouseStartX=!1,this.dragMouseStartY=!1,this.easyEvent=new ae.hF,this.debouncedLoadDynamicData=l()(this.loadDynamicData,500,{leading:!0})}get isEmptyContainer(){const e=(0,ue.V9)(this.element.data.type).type,t="popup"===e||"container"===e||"container-link"===e||"section"===e;return t&&0===this.element.children.length}get isEmptyColumns(){return this.element.data.type===F.Cc&&0===this.element.children.length}get parentProps(){const e=this.baseElement.settings&&this.baseElement.settings.sharePropsWithSSRChildren,{design:t,...n}=this.elementProps||{};return(e?n:this.ssrParentProperties)||{}}get builderMode(){return m.PK.builderMode}get isEditingInline(){return m.kD.inlineEditingContext?.elementId===this.element.id}__render(e){const t=this.rootTag;if(!this.shouldShow)return!1;if(this.isEmptyColumns)return e(t,{attrs:{...{...this.attributes},id:this.htmlId},on:{mousedown:this.activateAndMaybeStartDrag,dragstart:this.disableDefaultDrag,click:this.maybePreventDefault},class:this.classList},[e(j,{attrs:{id:this.element.id}})]);const n=(0,Y.as)((0,Y.as)(this.processedTemplate,{ssr:this.ssrValueOrMessage}),this.tags),s=this.isEmptyContainer?e(O.Z,{attrs:{id:this.element.id}}):this.element.children.map((t=>e($e,{key:t.id,attrs:{element:t,parentId:this.element.id,ssrParentProperties:this.parentProps}}))),a=!this.isEditingInline&&(this.contentEditablePropertyPath||null!==this.ssrValueOrMessage&&!this.ssrValueOrMessage.includes("%%CHILDREN%%")),i={};a&&(i.innerHTML=n);const o=a?[]:b(n,e,(()=>s),{enableContentEditableAndFocus:this.enableContentEditableAndFocus,saveContentEditable:this.saveContentEditable});return e(this.rootTag,{class:this.classList,attrs:{...this.attributes,id:this.htmlId},domProps:i,on:{mousedown:this.activateAndMaybeStartDrag,dragstart:this.disableDefaultDrag,click:this.maybePreventDefault,dblclick:this.handleDoubleClick,blur:this.contentEditablePropertyPath?this.saveContentEditable:()=>{}}},this.isEditingInline?[e(Re,{attrs:{element:this.element,ssrTemplate:(0,Y.as)(this.ssrInnerHtml||"",this.tags)}},[o])]:o)}render(e){return this.__render(e)}get processedTemplate(){if(this.isEditingInline)return"%%CHILDREN%%";if(!this.hasRequiredPluginsAndTheyAreAvailable&&this.baseElement.settings&&this.baseElement.settings.requiredPlugins)return re(this.baseElement.name,this.baseElement.settings.requiredPlugins);const e=(0,Y.yz)(this.baseElement.template,this.twigPropsAndPreset,(0,Y.bb)(this.baseElement));return e?(0,Y.as)(e,this.tags):""}get shouldSsr(){const e=this.processedTemplate.includes("%%SSR%%");if(!e)return!1;if(this.refreshSsr)return!0;if(null===this.lastModifiedPropertyPath)return!0;const t=this.baseElement.propertyPathsToSsrElementWhenValueChanges,n=!t;return!!n||t.some((e=>this.lastModifiedPropertyPath?.startsWith(e)))}get refreshSsr(){return!!m.kD.refreshSsrElementId&&m.kD.refreshSsrElementId===this.element.id}get hasRequiredPluginsAndTheyAreAvailable(){if(!this.baseElement.settings||!this.baseElement.settings.requiredPlugins)return!0;const e=this.baseElement.settings.requiredPlugins.filter((e=>m.PK.availableWordpressPlugins.includes(e)));return e.length===this.baseElement.settings.requiredPlugins.length}get ssrValueOrMessage(){return""===this.ssrInnerHtml?m.kD.settings.disableNoticeForEmptySSRElements?"":ie:this.shouldSsr||this.ssrInnerHtml?this.isUpdating?this.ssrInnerHtml||"":this.ssrInnerHtml:null}get tags(){return{id:this.element.id,selector:this.elementSelector,uniqueSlug:this.uniqueClassName,postId:this.postId,elementName:this.baseElement.name}}async rerenderFromServeOnParentPropertyChange(){this.shouldSsr&&((0,be.v)(this.ssrParentProperties,this.oldSsrParentProperties)||(this.oldSsrParentProperties=(0,fe.Z)(this.ssrParentProperties),await this.maybeRerenderFromServer()))}async rerenderFromServerOnRefreshSsr(){this.refreshSsr&&(await this.maybeRerenderFromServer(),m.kD.setRefreshSsrElementId(null),this.runActionsAfterSsr())}get presets(){return m.cr.presets}async maybeRerenderFromServerOnPropertyChange(){await this.$nextTick(),this.isEditingInline||(this.shouldSsr?(0,be.v)(this.twigProps,this.oldTwigProps)||(this.oldTwigProps=this.twigProps,await this.maybeRerenderFromServer(),this.runActionsAfterSsr()):this.processedTemplate.includes("%%SSR%%")||(null!==this.ssrInnerHtml&&(this.ssrInnerHtml=null),this.updateSsrDependenciesAndStyles()))}runActionsAfterSsr(){X.w.run.onBeforeDeletingElement({elementId:this.element.id}),this.element._parentId&&X.w.run.onAfterDeletedElement({deletedElementNodeType:this.element.data.type,parentIdOfDeletedElement:this.element._parentId,transactionKey:void 0}),X.w.run.onMountedElement({elementId:this.element.id})}async maybeRerenderFromServer(){if(!this.shouldSsr)return;m.kD.setElementUpdatingState({elementId:this.element.id,isUpdating:!0});const e=(0,B.pipe)(await A(this.baseElement.slug,this.elementProps,this.element.id,this.parentProps),(0,M.fold)((e=>(e.forEach((e=>{ee.Z.log.message(e.msg)})),{html:oe,postsGeneratedCssFilePaths:{},dependencies:{}})),(e=>e)));m.kD.setElementUpdatingState({elementId:this.element.id,isUpdating:!1}),this.ssrInnerHtml=e.html,this.updateSsrDependenciesAndStyles(e.dependencies,e.postsGeneratedCssFilePaths)}maybeRerunAllScriptsInCanvasDocumentBody(){const e=this.baseElement.settings&&this.baseElement.settings.dependsOnGlobalScripts;e&&ne()}updateSsrDependenciesAndStyles(e,t){this.maybeRerunAllScriptsInCanvasDocumentBody(),e&&(0,v.Z)((0,ce.RY)(),{dependencies:[e],addInlineScriptsAsUnique:!1,element:this.element}),(0,le.xg)((0,ce.RY)(),this.element.id,t)}get shouldShow(){return(0,g.O)("elementShouldShow",!0,this.elementProps,{currentBreakpoint:m.kD.currentBreakpoint})}get breakpoints(){return m.PK.breakpoints}onBreakpointsChange(){this.generateElementsCSS()}onTwigPropsChange(){this.generateElementsCSS()}onPresetChange(){this.generateElementsCSS()}onVariablesChange(){this.generateElementsCSS()}onCssTemplateChange(){this.generateElementsCSS()}onDefaultCssChange(){this.generateElementsCSS()}onInternalDependenciesChange(){if(this.baseElement.dependencies){const e=this.baseElement.dependencies.map((e=>({...e,inlineScripts:[]})));Ve((0,ce.RY)(),{dependencies:e,tags:this.tags,element:this.element})}}get globalSettings(){return m.cr.globalSettings}refreshIfTypographyPresetsChange(){this.generateElementsCSS()}get elementChildrenCount(){return this.element.children.length}elementChildrenCountChanged(){this.generateElementsCSS()}generateElementsCSS(){(0,le.df)((0,ce.RY)(),this.baseElement.slug,this.baseElement.defaultCss);const e=this.presetId?(0,xe.wV)(this.baseElement):this.baseElement.cssTemplate,t=(0,p.a)(this.twigProps,this.breakpoints,e,this.tags,this.baseElement.propertyPathsToWhitelistInFlatProps,this.elementChildrenCount,(0,Y.g)(this.baseElement));(0,le.ts)((0,ce.RY)(),this.element.id,t,this.uniqueId)}async mounted(){this.updateSsrDependenciesAndStyles(),await Promise.all([this.loadDependencies(),this.maybeRerenderFromServer()]),X.w.run.onMountedElement({elementId:this.element.id})}destroyed(){const e=0===(0,E.KT)(m.Hb.document.tree.root,this.baseElement.slug);e&&(0,le.xU)((0,ce.RY)(),this.baseElement.slug),(0,le.AC)((0,ce.RY)(),this.element.id,this.uniqueId),(0,le.SR)((0,ce.RY)(),this.element.id),this.element._parentId&&X.w.run.onAfterDeletedElement({deletedElementNodeType:this.element.data.type,parentIdOfDeletedElement:this.element._parentId,transactionKey:`DocumentDeleteElement:ID:${this.element.id}`})}loadDependencies(){return(0,v.Z)((0,ce.RY)(),{dependencies:[...this.baseElement.dependencies||[],...m.PK.elementsExternalAttrsDepsAndActions.dependencies||[]],element:this.element,tags:this.tags})}get elementSelector(){const e=`.${this.uniqueClassName}`,t=`.breakdance ${e}`;return"oxygen"===this.builderMode?this.element.data.type.startsWith("EssentialElements\\")?t:e:t}get rootTag(){const e=this.baseElement.htmlTag.pathToControl?o()(this.element.data.properties,this.baseElement.htmlTag.pathToControl):this.element.data.properties?.settings?.advanced?.tag;return"string"===typeof e&&e||this.baseElement.htmlTag.default}get baseElement(){return m.PK.element(this.element.data.type)}get elementProps(){if(m.kD.inlineEditingElement&&m.kD.inlineEditingElement.data.type===F.Hw&&(0,ue.l0)(m.Hb.document.tree,this.element,m.kD.inlineEditingElement)){const e=m.kD.inlineEditingElementPropertyOverrides,t=e[this.element.id]||{};if(Object.keys(t).length>0){const e=(0,fe.Z)(this.element.data.properties);for(const[n,s]of Object.entries(t))s&&a()(e,n,s);return e}}return this.element.data.properties}get twigProps(){if((0,J.Kn)(this.elementProps)&&0!==Object.entries(this.elementProps).length){const e=m.PK.dynamicDataCache.data,t=(0,h.Ko)(this.elementProps,e),n=t.filter((t=>!Object.keys(e).includes((0,h.Ev)(t))));n.length&&this.debouncedLoadDynamicData(n);const s=!!m.PK.previewedItem;return(0,J.xV)(this.elementProps,(t=>(0,Q.ro)(t)?(0,Q.Ax)(t,e,s):t))}return{}}get designPropsAndPreset(){const e=(0,fe.Z)(this.twigProps?.design),t=(0,fe.Z)(this.preset?.design);return(0,xe.lb)(t,e)}get twigPropsAndPreset(){return{...this.twigProps,design:this.designPropsAndPreset}}get postId(){return m.Hb.document.documentMeta.id}get htmlId(){return(0,de.Cc)(this.element)}get uniqueClassName(){return(0,de.P0)(this.element,this.postId)}get baseClassName(){return(0,de.MO)(this.baseElement)}get presetId(){return this.element.data.properties?.meta?.preset}get preset(){return m.cr.presets.find((e=>e.id===this.presetId))}get variables(){return m.cr.variables}get isSectionCurrentlyRewritingWithAi(){return m.fz.aiJobs.filter((e=>e.affectedElement===this.element.id&&"running"===e.status)).length>0}get classList(){const e=[this.uniqueClassName,"builder-element",this.baseClassName];this.isSectionCurrentlyRewritingWithAi&&e.push("section-currently-rewriting-with-ai"),this.isActive&&e.push("breakdance--active-element"),this.currentlyDragging&&e.push("breakdance--currently-dragging"),this.isEmptyContainer&&e.push("breakdance--empty-container");const t=this.element.data.properties?.settings?.advanced?.classes??!1;t&&e.push(...t),this.baseElement.settings&&this.baseElement.settings.bypassPointerEvents&&e.push("breakdance-children-pointer-events-none"),this.isUpdating&&e.push("breakdance-element-is-updating"),this.presetId&&e.push(`bde-preset-${this.presetId}`);const n=(0,Se.Xn)(this.element);return n&&e.push(...n.map((e=>e.name))),e.push(...this.additionalClasses),e}get additionalClasses(){return this.baseElement.additionalClasses?this.baseElement.additionalClasses.map((e=>{const t=(0,Y.yz)(e.template,this.twigProps,(0,Y.l0)(this.baseElement,e));if(t)return{name:e.name,include:t}})).filter(pe.$K).filter((e=>!!e.include)).map((e=>e.name)):[]}renderAttributeValue(e){return"template"in e?(0,Y.yz)(e.template,this.twigProps,(0,Y.H5)(this.baseElement,e)):"propertyPath"in e?String(o()(this.elementProps,e.propertyPath,"")):"rawValue"in e?e.rawValue:null}get attributes(){const e={},t=[...this.baseElement.attributes||[],...m.PK.elementsExternalAttrsDepsAndActions.attributes||[]];t.forEach((t=>{const n=this.renderAttributeValue(t);n&&(e[t.name]=(0,Y.as)(n,this.tags))}));const n=this.element.data.properties?.settings?.advanced?.attributes??[];n.forEach((t=>{e[t.name]=t.value})),e["data-node-id"]=`${this.element.id}`;const s={};return Object.keys(e).forEach((t=>{"%%OUTPUTBLANKATTRIBUTE%%"===e[t]?.trim()?s[t]="":e[t]&&(s[t]=e[t])})),s}get contentEditablePropertyPath(){return this.attributes["data-content-editable-property-path"]}get isDragAndDropEnabled(){return m.kD.isSingularityMode&&m.kD.hasFullAccess?Ne(this.element):m.kD.hasFullAccess}get isPreviewMode(){return m.kD.isPreviewMode}get isOnboardingMode(){return window.Breakdance.isOnboarding}get lastModifiedTreeNodePropertyForWatcher(){return m.kD.lastModifiedElementProperty}handleLastModifiedTreeNodePropertyChange(e){e.elementId===this.element.id?this.lastModifiedPropertyPath=e.path:null!==this.lastModifiedPropertyPath&&(this.lastModifiedPropertyPath=null)}get currentlyDraggingForWatcher(){return m.kD.currentlyDraggingCanvasElementId===this.element.id}handleCurrentlyDraggingChange(e){this.currentlyDragging=e}get activeElementIdForWatcher(){return m.kD.activeElementId}handleActiveElementIdChange(e){this.isActive=e===this.element.id}get isElementUpdatingForWatcher(){return Boolean(m.kD.elementsThatAreUpdating[this.element.id])}handleLoadingElementIdChange(e){this.isUpdating!==e&&(this.isUpdating=e)}get behaviorModeEnabled(){const e=m.kD.builderBehaviorElementId;return!!e&&(0,E.SG)(m.Hb.document.tree,e,this.element.id)}activateElement(){this.behaviorModeEnabled||(m.kD.activateElement(this.element.id),(0,$.oM)("elementproperties"))}canDrag(e){if(!this.isDragAndDropEnabled)return!1;const t=e.target,n=["textarea","input","select"],s=t.tagName.toLowerCase();return!n.includes(s)&&!m.kD.elementWithContentEditable}disableDefaultDrag(e){e.preventDefault()}maybePreventDefault(e){const t=e.target,n=["a","button"],s=n.join(", "),a=n.some((e=>t.closest(e)));(t.matches(s)||a)&&e.preventDefault()}activateAndMaybeStartDrag(e){this.isPreviewMode||this.isOnboardingMode||(e.stopPropagation(),this.activateElement(),this.canDrag(e)&&(this.behaviorModeEnabled||(this.dragMouseStartX=e.clientX,this.dragMouseStartY=e.clientY,this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.removeDragListeners))))}removeDragListeners(){this.easyEvent.removeAll(),this.dragMouseStartX=!1,this.dragMouseStartY=!1}dragging(e){if(this.behaviorModeEnabled)return;if(!(0,ae.Pm)(e))return;if(!1===this.dragMouseStartX||!1===this.dragMouseStartY)return;const t=e.clientX,n=e.clientY;(Math.abs(t-this.dragMouseStartX)>3||Math.abs(n-this.dragMouseStartY)>3)&&(m.kD.setCanvasElementDraggedId(this.element.id),this.removeDragListeners())}handleDoubleClick(e){const t=this.element.data.type,n=[F.Sn,F.K1,F.i6];if(this.contentEditablePropertyPath)this.enableContentEditableAndFocus(e);else if(t===F.qu)(0,_e.of)("CMD_E");else if(n.includes(t))document.dispatchEvent(new CustomEvent("open-media-dialog",{cancelable:!0}));else if(this.isInlineEditable){const e=this.inlineBlockId;if(e){if(this.isAlreadyEditingInline)return;V.n.transaction((()=>{m.kD.setInlineEditingContext({elementId:this.element.id,blockId:e})}),"Start Inline Editing",`inline-editing:${this.element.id}`)}}}get isAlreadyEditingInline(){const e=m.kD.inlineEditingContext?.blockId;return this.isInlineEditable&&e===this.inlineBlockId}get isInlineEditable(){return this.baseElement.nestingRule.inlineEditable&&this.baseElement.nestingRule.inlineEditableBlockPath}get inlineBlockId(){const e=this.baseElement.nestingRule.inlineEditableBlockPath;return e?o()(this.twigProps,e):null}enableContentEditableAndFocus(e){const t=e.target;let n=null;if(n=t.dataset.contentEditablePropertyPath||t.dataset.nodeId?t:t.closest("[data-content-editable-property-path]"),!n)return;const s=n.dataset.contentEditablePropertyPath;if(s){const e=o()(this.twigProps,(0,Q.k2)(s)),t=!!e&&(0,Q.Tc)(e);if(t)return}const a="true"===n.getAttribute("contenteditable");if(a)return;m.kD.setContentEditableElementId(this.element.id);const i=t.dataset.contentEditablePropertyPath||this.contentEditablePropertyPath;i&&m.fz.setTextEditorPanelState({elementId:this.element.id,contentEditablePropertyPath:i}),n.setAttribute("contenteditable","true"),n.focus(),window.Breakdance.canvas.document.addEventListener("keydown",this.handleKeydownInsideContentEditable),n.addEventListener("paste",this.pasteWithoutFormatting)}saveContentEditable(e){const t=e.target;window.Breakdance.canvas.document.removeEventListener("keydown",this.handleKeydownInsideContentEditable),t.removeEventListener("paste",this.pasteWithoutFormatting),t.setAttribute("contenteditable","false"),m.kD.setContentEditableElementId(null);const n=t.dataset.contentEditablePropertyPath||this.contentEditablePropertyPath;if(!n)return;t.innerHTML=t.innerHTML.trim();const s=t.childNodes[t.childNodes.length-1];s&&"BR"===s.tagName&&s.remove();const a=document.createElement("textarea");a.innerHTML=t.innerHTML;const i=a.value,r=o()(this.element.data.properties,n);r!==i&&m.Hb.throttledPropertyChanged({elementId:this.element.id,path:n,value:i,meta:{snapshotLabel:he.AZ.forElementBasingOnChangedStorePropertyPath(this.baseElement,n,ge.P.CHANGE)}})}pasteWithoutFormatting(e){const t=e.clipboardData?.getData("text/plain");t&&(window.Breakdance.canvas.document.execCommand("insertHTML",!1,(0,ve.h)(t)),e.preventDefault())}handleKeydownInsideContentEditable(e){return"Space"===e.code?(e.preventDefault(),e.stopPropagation(),void window.Breakdance.canvas.document.execCommand("insertText",!1," ")):"Enter"===e.code?(window.Breakdance.canvas.document.execCommand("insertLineBreak"),void e.preventDefault()):"Escape"===e.code||(e.ctrlKey||e.metaKey)&&"s"===e.key?(e.preventDefault(),void this.saveContentEditable(e)):void 0}loadDynamicData(e){(0,h.y9)(e).then((e=>{m.PK.setNewDynamicDataCacheEntries(e)}))}};(0,c.gn)([(0,u.fI)()],We.prototype,"element",void 0),(0,c.gn)([(0,u.fI)()],We.prototype,"parentId",void 0),(0,c.gn)([(0,u.fI)()],We.prototype,"ssrParentProperties",void 0),(0,c.gn)([(0,u.RL)("ssrParentProperties",{deep:!0})],We.prototype,"rerenderFromServeOnParentPropertyChange",null),(0,c.gn)([(0,u.RL)("refreshSsr")],We.prototype,"rerenderFromServerOnRefreshSsr",null),(0,c.gn)([(0,u.RL)("twigProps")],We.prototype,"maybeRerenderFromServerOnPropertyChange",null),(0,c.gn)([(0,u.RL)("breakpoints",{deep:!0})],We.prototype,"onBreakpointsChange",null),(0,c.gn)([(0,u.RL)("twigProps",{deep:!0,immediate:!0})],We.prototype,"onTwigPropsChange",null),(0,c.gn)([(0,u.RL)("preset",{deep:!0,immediate:!0})],We.prototype,"onPresetChange",null),(0,c.gn)([(0,u.RL)("variables",{deep:!0,immediate:!0})],We.prototype,"onVariablesChange",null),(0,c.gn)([(0,u.RL)("baseElement.cssTemplate")],We.prototype,"onCssTemplateChange",null),(0,c.gn)([(0,u.RL)("baseElement.defaultCss")],We.prototype,"onDefaultCssChange",null),(0,c.gn)([(0,u.RL)("baseElement.dependencies",{deep:!0})],We.prototype,"onInternalDependenciesChange",null),(0,c.gn)([(0,u.RL)(`globalSettings.${me.r.typographyPresets}`,{deep:!0})],We.prototype,"refreshIfTypographyPresetsChange",null),(0,c.gn)([(0,u.RL)("elementChildrenCount",{})],We.prototype,"elementChildrenCountChanged",null),(0,c.gn)([(0,u.RL)("lastModifiedTreeNodePropertyForWatcher",{immediate:!0})],We.prototype,"handleLastModifiedTreeNodePropertyChange",null),(0,c.gn)([(0,u.RL)("currentlyDraggingForWatcher",{immediate:!0})],We.prototype,"handleCurrentlyDraggingChange",null),(0,c.gn)([(0,u.RL)("activeElementIdForWatcher",{immediate:!0})],We.prototype,"handleActiveElementIdChange",null),(0,c.gn)([(0,u.RL)("isElementUpdatingForWatcher",{immediate:!0})],We.prototype,"handleLoadingElementIdChange",null),We=$e=(0,c.gn)([(0,u.wA)({})],We);const He=We,ze=He;var Ue,Ke,Ge=(0,G.Z)(ze,Ue,Ke,!1,null,null,null);const qe=Ge.exports},3565:(e,t,n)=>{n.d(t,{Z:()=>v});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-empty-container",attrs:{id:"breakdance-empty-container"}},[t("div",{staticClass:"breakdance-empty-container__add-element",class:{"breakdance-empty-container__add-element--disabled":!e.canAddElement},on:{click:e.openAddPanel}},[t("Icon",{attrs:{icon:"PlusIcon",size:"22"}})],1)])},a=[],i=n(70655),o=n(85450),r=n(20144),l=n(38085),c=n(95690),d=n(85283);let u=class extends r.ZP{get canAddElement(){return o.kD.hasFullAccess}openAddPanel(e){e.preventDefault(),e.stopPropagation(),this.canAddElement&&((0,c.oM)("add"),o.kD.activateElement(this.id))}};(0,i.gn)([(0,l.fI)({default:null})],u.prototype,"id",void 0),u=(0,i.gn)([(0,l.wA)({components:{Icon:d.Z}})],u);const p=u,h=p;var g=n(1001),m=(0,g.Z)(h,s,a,!1,null,null,null);const v=m.exports},67389:(e,t,n)=>{n.d(t,{Z:()=>w});var s=n(1387),a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e._v(" Default Children "),t("Repeater",{attrs:{value:e.value||[],"default-new-value":e.defaultValue,control:e.repeaterOptions},on:{input:function(t){return e.updateDefaultElements(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:a}){return[t(s.Z,{staticClass:"mb-2",attrs:{value:a.slug,items:e.elementsAvailableForThisElementNestingType,hint:"Element that will be automatically added inside this current element","persistent-hint":"",clearable:""},on:{input:function(t){return e.updatePath(t,n,"slug")}}}),a.slug&&e.canHaveChildren(a.slug)?t("ElementStudioDefaultElements",{staticClass:"mb-2",attrs:{value:a.children,"parent-element-slug":a.slug,"allow-import":!1},on:{input:function(t){return e.updatePath(t,n,"children")}}}):e._e(),a.slug?t("ElementStudioDefaultProperties",{attrs:{value:a.defaultProperties||!1,"element-slug":a.slug},on:{input:function(t){return e.updatePath(t,n,"defaultProperties")}}}):e._e()]}}])}),e.allowImport?t("div",[t("br"),t("div",{staticClass:"mb-2"},[e._v(" Import all children of the currently active element ")]),t("NiceButton",{attrs:{disabled:!e.canImport},on:{click:e.importChildren}},[e._v(" Import Children ")])],1):e._e()],1)},i=[],o=n(70655),r=n(20144),l=n(38085),c=n(34680),d=n.n(c),u=n(31044),p=n(16888),h=n(15133),g=n(81878),m=n(23128),v=n(9950),f=n(41571),y=n(6184),b=n(39889);let _=class extends r.ZP{constructor(){super(...arguments),this.defaultValue={},this.repeaterOptions={options:{repeaterOptions:{defaultTitle:"Default Element",titleTemplate:"{slug}",buttonName:"Add new default element"}}}}beforeCreate(){this.$options.components.ElementStudioDefaultElements=n(67389).Z}updateDefaultElements(e){this.$emit("input",e)}canHaveChildren(e){if(!e)return!1;const t=u.PK.element(e),n=t.nestingRule.type;return!n.startsWith("final")}get canImport(){return!!u.kD.activeElement&&u.kD.activeElement.data.type===this.context.element().slug}importChildren(){if(!u.kD.activeElement)return;const e=t=>({slug:t.data.type,defaultProperties:t.data.properties,children:t.children.map(e)}),t=(0,m.Z)(u.kD.activeElement),n=t.children.map(e);this.updateDefaultElements(n)}get elementsAvailableForThisElementNestingType(){return Object.keys(u.PK.elements).filter((e=>{const t=u.PK.element(this.parentElementSlug),n=u.PK.element(e).nestingRule;return(0,v.V4)(n,t.nestingRule,t.slug)}))}updatePath(e,t,n){const s=(0,m.Z)(this.value)||{};s[t][n]=e,this.$emit("input",s)}};(0,o.gn)([(0,l.fI)()],_.prototype,"value",void 0),(0,o.gn)([(0,l.fI)()],_.prototype,"parentElementSlug",void 0),(0,o.gn)([(0,l.fI)({default:!0})],_.prototype,"allowImport",void 0),(0,o.gn)([(0,l.tB)("context")],_.prototype,"context",void 0),_=(0,o.gn)([(0,l.wA)({components:{NiceButton:b.Z,ElementStudioDefaultProperties:y.Z,TextInput:f.Z,Repeater:g.Z,Dropdown:h.Z,Accordion:p.Z,draggable:d()}})],_);const x=_,S=x;var P=n(1001),C=(0,P.Z)(S,a,i,!1,null,null,null);const w=C.exports},6184:(e,t,n)=>{n.d(t,{Z:()=>_});var s=n(37179),a=n(73385),i=n(75223),o=n(12570),r=n(55234),l=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("h3",{staticClass:"mb-1"},[e._v("Default Properties")]),t(s.Z,{staticClass:"mr-2",attrs:{small:"",text:"",disabled:!e.canImport,outlined:""},on:{click:e.importDefaultProperties}},[e._v("import")]),e.value?t(s.Z,{attrs:{color:"red darken-1",text:"",small:"",outlined:""},on:{click:e.clearDefaultProperties}},[e._v("clear")]):e._e(),t("div",{staticClass:"element-studio-default-properties-instructions"},[e._v(" Click IMPORT to set the default properties to the properties of the currently active element. Active element must be a "),t("b",[e._v(e._s(e.elementSlug))]),e._v(". ")]),t("h5",[e._v("Current Default Properties")]),t("pre",{staticClass:"element-studio-default-properties-preview"},[e._v(e._s(e.value))]),t(o.Z,{attrs:{"max-width":"500"},model:{value:e.dialogOpen,callback:function(t){e.dialogOpen=t},expression:"dialogOpen"}},[t(a.Z,[t(i.EB,{staticClass:"headline"},[e._v(" Set Default Properties ")]),t(i.ZB,[e._v(" Set default properties for "+e._s(e.elementSlug)+" to:"),t("br"),t("br"),e._v(" "+e._s(e.defaultProperties)+" ")]),t(i.h7,[t(s.Z,{attrs:{color:"red darken-1",text:""},on:{click:e.cancel}},[e._v(" cancel ")]),t(r.Z),t(s.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.confirmDefaultProperties}},[e._v(" confirm ")])],1)],1)],1)],1)},c=[],d=n(70655),u=n(20144),p=n(38085),h=n(85450),g=n(23128);let m=class extends u.ZP{constructor(){super(...arguments),this.dialogOpen=!1,this.defaultProperties=this.value}get canImport(){return!!h.kD.activeElement&&h.kD.activeElement.data.type===this.elementSlug}cancel(){this.dialogOpen=!1}importDefaultProperties(){if(!h.kD.activeElement)return;if(h.kD.activeElement.data.type!==this.elementSlug)return;const e=(0,g.Z)(h.kD.activeElement.data.properties);e&&("settings"in e&&delete e.settings,"meta"in e&&delete e.meta),this.defaultProperties=e,this.dialogOpen=!0}confirmDefaultProperties(){this.dialogOpen=!1,this.$emit("input",this.defaultProperties)}clearDefaultProperties(){confirm("are you sure?")&&this.$emit("input",!1)}};(0,d.gn)([(0,p.fI)()],m.prototype,"value",void 0),(0,d.gn)([(0,p.fI)()],m.prototype,"elementSlug",void 0),m=(0,d.gn)([(0,p.wA)({components:{}})],m);const v=m,f=v;var y=n(1001),b=(0,y.Z)(f,l,c,!1,null,null,null);const _=b.exports},71600:(e,t,n)=>{n.d(t,{Z:()=>B});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"structure-node-children"},[e._l(e.nodes,(function(n){return[t("StructureNode",{key:n.id,attrs:{element:n,depth:e.depth}})]}))],2)},a=[],i=n(70655),o=n(20144),r=n(38085),l=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"structure-node":!0,"breakdance--currently-dragging":this.currentlyDragging,"is-opened":"oxygen"===e.builderMode&&e.shouldShowChildrenNodes},style:"oxygen"===e.builderMode?e.indentAsCssVariableStyle:null,attrs:{"data-element-id":e.element.id}},[t("div",{staticClass:"structure-node-title-wrapper"},[t("div",{staticClass:"structure-node-title",class:e.activeClass,style:e.indentStyle,on:{click:e.activateElement}},[t("div",{staticClass:"structure-node-title-real"},[t("div",{staticClass:"structure-node-toggle-wrapper"},[e.element.children.length?t("Icon",{staticClass:"structure-node-action__icon",attrs:{icon:"breakdance"===e.builderMode?"CaretDownIcon":"ChevronDownSolidIcon",size:"10",rotate:e.shouldShowChildrenNodes?void 0:"270"},on:{click:function(t){return t.stopPropagation(),e.toggleChildren.apply(null,arguments)}}}):e._e()],1),t("div",{class:{"structure-node-title-real-real":!0,"structure-panel-editing-friendly-name":e.editingFriendlyName}},[t("ElementIcon",{staticClass:"structure-node-icon",attrs:{icon:e.getElementIcon(e.element),size:"12"}}),t("div",{staticClass:"element-title-text",attrs:{title:e.getElementName(e.element)}},[e.editingFriendlyName?e._e():t("span",{staticClass:"element-title-name ellipsis-text",on:{dblclick:e.enableEditingFriendlyName}},[e._v(" "+e._s(e.getElementName(e.element))+" ")]),e.editingFriendlyName?t("input",{ref:"friendlyNameInputRef",staticClass:"element-custom-name-input",attrs:{size:e.friendlyNameInputValue,spellcheck:"false"},domProps:{value:e.friendlyNameInputValue},on:{input:function(t){return e.updateFriendlyName(t.target.value)},keyup:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"]))return null;e.showElementNameFallback=!1},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.disableEditing.apply(null,arguments)}],blur:e.disableEditing,mousedown:function(t){return t.stopPropagation(),e.noop.apply(null,arguments)},contextmenu:function(t){return t.stopPropagation(),e.noop.apply(null,arguments)}}}):e._e(),e.isDraftSection&&!e.editingFriendlyName?t("span",{staticClass:"element-title__meta"},[e._v(" (Draft) ")]):e._e(),e.isShowingIdsInStructurePanel&&!e.editingFriendlyName?t("span",{staticClass:"element-title__meta"},[e._v(" #"+e._s(e.element.id)+" ")]):e._e()]),e.editingFriendlyName?e._e():t("div",{staticClass:"structure-node-actions__wrapper"},[t("Icon",{staticClass:"structure-node-action__icon mr-2",attrs:{size:"12",icon:"breakdance"===e.builderMode?"BarsIcon":"GripDotsVerticalIcon",title:"Open menu"},on:{click:e.showContextMenu}}),t("Icon",{staticClass:"structure-node-action__icon mr-2",attrs:{icon:"breakdance"===e.builderMode?"DuplicateIcon":"DuplicateSolidIcon",title:"Duplicate element"},on:{click:e.duplicate}}),t("Icon",{staticClass:"structure-node-action__icon mr-2",attrs:{size:"12",icon:"breakdance"===e.builderMode?"TrashIcon":"TrashSolidIcon",title:"Delete element"},on:{click:e.remove}})],1)],1)])]),t("div",{staticClass:"nest-deeper",style:e.nestDeeperStyle,attrs:{"data-element-id":e.element.id}}),t("div",{staticClass:"nest-shallower",style:e.nestShallowerStyle,attrs:{"data-element-id":e.element.id}}),t("div",{staticClass:"top-half",attrs:{"data-element-id":e.element.id,"data-depth":e.depth}}),t("div",{staticClass:"bottom-half",attrs:{"data-element-id":e.element.id,"data-depth":e.depth}})]),e.shouldShowChildrenNodes?t("ChildStructureNodes",{attrs:{nodes:e.element.children,depth:e.depth+1}}):e._e()],1)},c=[],d=n(27361),u=n.n(d),p=n(85450),h=n(23128),g=n(85283),m=n(78),v=n(95690),f=n(98992),y=n(94550),b=n(34676),_=n(20210),x=n(21115);const S=16;let P=class extends o.ZP{constructor(){super(...arguments),this.showElementNameFallback=!0,this.editingFriendlyName=!1}get builderMode(){return p.PK.builderMode}get indentAsCssVariableStyle(){return{"--indent-amount":this.depth*S+"px"}}get shouldShowChildrenNodes(){return(0,f.sF)(this.element.id)}beforeCreate(){this.$options.components.ChildStructureNodes=n(71600).Z}activateElement(){p.kD.activateElement(this.element.id),(0,v.iN)("elementproperties")!==(0,v.iN)("structure")&&(0,v.oM)("elementproperties")}get baseElement(){return p.PK.element(this.element.data.type)}get activeClass(){return{"breakdance--active-element":p.kD.activeElementId===this.element.id}}get indentStyle(){const e=this.depth*S;return{marginLeft:`${e}px`,width:`calc(100% - 1px - ${e}px`}}get nestDeeperStyle(){const e=(this.depth+1)*S;return{left:`${e}px`}}get nestShallowerStyle(){const e=this.depth*S;return{width:`${e}px`}}get elementName(){return p.PK.element(this.element.data.type).name}get currentlyDragging(){return p.kD.currentlyDraggingCanvasElementId===this.element.id}get isShowingIdsInStructurePanel(){return p.kD.settings.showElementIdInStructurePanel}duplicate(){p.Hb.duplicateElementAndActivateIt(this.element.id)}getElementIcon(e){return(0,_.Ff)(e)}getElementName(e){return(0,_.mH)(e)}showContextMenu(e){const t=(0,x.n)(e.clientX,e.clientY);p.kD.setOnStructurePanelRightClickMenuState({elementId:this.element.id,position:t})}remove(){p.Hb.deleteElement({nodeId:this.element.id})}toggleChildren(){const e=(0,h.Z)(p.kD.structurePanelNodesExpandedState);e[this.element.id]=!this.shouldShowChildrenNodes,p.kD.setStructurePanelNodesExpandedState(e)}get isDraftSection(){return this.element.data.type===y.PZ&&u()(this.element.data.properties,"settings.advanced.draft")}get friendlyNameInputValue(){return void 0===this.element.data.properties?.meta?.friendlyName&&this.showElementNameFallback?(this.showElementNameFallback=!1,this.elementName):(this.editingFriendlyName&&(this.showElementNameFallback=!1),this.element.data.properties?.meta?.friendlyName&&this.element.data.properties?.meta?.friendlyName.trim())}enableEditingFriendlyName(){this.editingFriendlyName=!0,(0,b.n)((()=>{this.$refs.friendlyNameInputRef.focus(),this.$refs.friendlyNameInputRef.select()}))}updateFriendlyName(e){p.Hb.unthrottledPropertyChanged({elementId:this.element.id,path:"meta.friendlyName",meta:{snapshotLabel:`Updated friendly name for element "${this.elementName}"`},value:e?.trim()||void 0})}disableEditing(){this.editingFriendlyName=!1,this.showElementNameFallback=!0}noop(e){return e.stopPropagation(),{}}};(0,i.gn)([(0,r.fI)()],P.prototype,"element",void 0),(0,i.gn)([(0,r.fI)()],P.prototype,"depth",void 0),P=(0,i.gn)([(0,r.wA)({name:"StructureNode",components:{ElementIcon:m.Z,Icon:g.Z}})],P);const C=P,w=C;var I=n(1001),k=(0,I.Z)(w,l,c,!1,null,null,null);const D=k.exports;let E=class extends o.ZP{};(0,i.gn)([(0,r.fI)()],E.prototype,"nodes",void 0),(0,i.gn)([(0,r.fI)()],E.prototype,"depth",void 0),E=(0,i.gn)([(0,r.wA)({components:{StructureNode:D},name:"ChildStructureNodes"})],E);const T=E,Z=T;var A=(0,I.Z)(Z,s,a,!1,null,null,null);const B=A.exports},3225:(e,t,n)=>{n.r(t),n.d(t,{default:()=>us});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-control",class:{[`oxy-control--${e.control.type}`]:!0,[`oxy-control--${e.control.positionLabel}`]:e.control.positionLabel,["oxy-control--hide-label"]:e.control.hideLabel,["oxy-control--disabled"]:e.disabled,["is-control-filled"]:e.filled},style:{gridColumnStart:e.control.width?`span ${e.control.width}`:""},attrs:{"data-name":e.control.slug}},[e.showLabel?t("OxygenControlName",{on:{reset:e.resetControl}},[e._v(" "+e._s(e.control.name)+" ")]):e._e(),e.isVariableSupported?t("VariableBoundInput",{attrs:{name:e.control.name,"color-type":e.control.colorType,type:e.variableType,small:!0,path:e.fullPath},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}},[t(e.componentName,{tag:"component",attrs:{control:e.control,path:e.fullPath,context:e.context},on:{"update-context":function(t){return e.$emit("update-context",t)}},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1):t(e.componentName,{tag:"component",attrs:{control:e.control,path:e.fullPath,context:e.context},on:{"update-context":function(t){return e.$emit("update-context",t)}},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},a=[],i=n(70655),o=n(38085),r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-gap-input",class:{"oxy-gap-input--expand":e.isGlobalVariable&&!e.bothSides}},[e.bothSides?[t("OxygenControl",{staticClass:"oxy-gap-input__unit",attrs:{value:e.syncedValue?.row,control:e.rowControl},on:{input:e.updateRow}}),t("OxygenControl",{staticClass:"oxy-gap-input__unit",attrs:{value:e.syncedValue?.column,control:e.columnControl},on:{input:e.updateColumn}})]:[e.isGlobalVariable?e._e():t("div",[t("Slider",{attrs:{value:e.syncedValue?.column?.number,min:0,max:100,step:1,expanded:!0},on:{input:e.updateSlider}})],1),t("OxygenControl",{staticClass:"oxy-gap-input__unit",attrs:{value:e.syncedValue?.column,control:e.unitControl},on:{input:e.updateAllSides}})],t("Icon",{staticClass:"oxy-gap-input__toggle",attrs:{icon:e.bothSides?"UnlockIcon":"LockIcon"},on:{click:function(t){e.bothSides=!e.bothSides}}})],2)},l=[],c=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-unit-input"},[t("UnitInput",{attrs:{options:e.options,"range-options":e.rangeOptions},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},d=[],u=n(62634);let p=class extends o.w3{get options(){return{defaultType:this.control.defaultType,types:this.control.types}}get rangeOptions(){return{min:this.control.min,max:this.control.max,step:this.control.step}}};(0,i.gn)([(0,o.fI)()],p.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input")],p.prototype,"syncedValue",void 0),p=(0,i.gn)([(0,o.wA)({components:{UnitInput:u.Z}})],p);const h=p,g=h;var m=n(1001),v=(0,m.Z)(g,c,d,!1,null,null,null);const f=v.exports;var y=n(85283),b=n(90133),_=n(20282),x=n(42274),S=n(90889);let P=class extends o.w3{constructor(){super(...arguments),this.bothSides=!1,this.unitControl={type:"unit",name:"Gap",slug:"unit",hideLabel:!0},this.rowControl={type:"unit",name:"Row",slug:"row",positionLabel:"bottom"},this.columnControl={type:"unit",name:"Column",slug:"column",positionLabel:"bottom"}}get isGlobalVariable(){return(0,S.Hk)(this.syncedValue?.column)||(0,S.Hk)(this.syncedValue?.row)}beforeCreate(){this.$options.components.OxygenControl=n(3225)["default"]}onBothSidesChange(){this.bothSides&&(this.syncedValue={row:this.syncedValue?.column,column:this.syncedValue?.column})}updateSlider(e){const t=this.syncedValue?.column?.unit||"px",n=(0,x.r)(e,t)||"",s={number:e,unit:t,style:`${n}`};this.syncedValue={column:s,row:s}}updateAllSides(e){this.syncedValue={column:e,row:e}}updateRow(e){this.syncedValue={column:this.syncedValue?.column,row:e}}updateColumn(e){this.syncedValue={row:this.syncedValue?.row,column:e}}};(0,i.gn)([(0,o.fI)()],P.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input")],P.prototype,"syncedValue",void 0),(0,i.gn)([(0,o.RL)("bothSides")],P.prototype,"onBothSidesChange",null),P=(0,i.gn)([(0,o.wA)({components:{Icon:y.Z,Slider:_.Z,IconButton:b.Z,OxygenUnitInput:f}})],P);const C=P,w=C;var I=(0,m.Z)(w,r,l,!1,null,null,null);const k=I.exports;var D=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-font-input"},[t("FontFamilyInput",{model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},E=[],T=n(40616);let Z=class extends o.w3{};(0,i.gn)([(0,o.fI)()],Z.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input",{type:String})],Z.prototype,"syncedValue",void 0),Z=(0,i.gn)([(0,o.wA)({components:{FontFamilyInput:T.Z}})],Z);const A=Z,B=A;var M=(0,m.Z)(B,D,E,!1,null,null,null);const O=M.exports;var L=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-group",style:e.style},[t("OxygenControls",{attrs:{controls:e.control.controls,path:e.fullPath},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},R=[];let N=class extends o.w3{get fullPath(){return`${this.path}.${this.control.slug}`}beforeCreate(){this.$options.components.OxygenControls=n(51613).Z}get style(){return this.control.columns?{"--controls-columns":this.control.columns}:{}}};(0,i.gn)([(0,o.fI)()],N.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input")],N.prototype,"syncedValue",void 0),(0,i.gn)([(0,o.fI)()],N.prototype,"path",void 0),N=(0,i.gn)([(0,o.wA)({components:{Icon:y.Z}})],N);const F=N,$=F;var V=(0,m.Z)($,L,R,!1,null,null,null);const W=V.exports;var H=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-color-input"},[t("ColorInput",{attrs:{"color-options":e.options,inline:e.control.inline,"show-input":!e.control.inline,small:!0,position:"left","show-global":!1},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},z=[],U=n(71821),K=n(57194);let G=class extends o.w3{get options(){return{type:this.control?.colorType||"solidOnly"}}};(0,i.gn)([(0,o.fI)()],G.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input")],G.prototype,"syncedValue",void 0),G=(0,i.gn)([(0,o.wA)({components:{ColorPicker:K.Z,ColorInput:U.Z}})],G);const q=G,j=q;var Y=(0,m.Z)(j,H,z,!1,null,null,null);const X=Y.exports;var Q=n(25770),J=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"container",staticClass:"oxy-margin-padding-input",class:{["oxy-margin-padding-input--disable-margin"]:"padding"===e.draggingType,["oxy-margin-padding-input--disable-padding"]:"margin"===e.draggingType},on:{mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave}},[t("div",{staticClass:"oxy-margin-oxy-padding-drag-bars-wrapper"},[t("div",{staticClass:"oxy-margin-drag-bars"},[t("span",{staticClass:"oxy-margin-label"},[e._v("Margin")]),t("MarginPaddingInputDragBar",{attrs:{value:e.value?.margin?.top,type:"margin",side:"top",active:e.isSideActive("margin","top")},on:{input:function(t){return e.updateProperty("margin","top",t)},mouseenter:function(t){return e.setHoveredType("margin","top")},dragging:function(t){return e.setDragging(t,"margin")}}}),t("MarginPaddingInputDragBar",{attrs:{value:e.value?.margin?.left,type:"margin",side:"left",active:e.isSideActive("margin","left")},on:{input:function(t){return e.updateProperty("margin","left",t)},mouseenter:function(t){return e.setHoveredType("margin","left")},dragging:function(t){return e.setDragging(t,"margin")}}}),t("MarginPaddingInputDragBar",{attrs:{value:e.value?.margin?.right,type:"margin",side:"right",active:e.isSideActive("margin","right")},on:{input:function(t){return e.updateProperty("margin","right",t)},mouseenter:function(t){return e.setHoveredType("margin","right")},dragging:function(t){return e.setDragging(t,"margin")}}}),t("MarginPaddingInputDragBar",{attrs:{value:e.value?.margin?.bottom,type:"margin",side:"bottom",active:e.isSideActive("margin","bottom")},on:{input:function(t){return e.updateProperty("margin","bottom",t)},mouseenter:function(t){return e.setHoveredType("margin","bottom")},dragging:function(t){return e.setDragging(t,"margin")}}})],1),t("div",{staticClass:"oxy-padding-drag-bars",on:{mouseenter:function(t){return e.setHoveredType("padding")}}},[t("span",{staticClass:"oxy-margin-label"},[e._v("Padding")]),t("MarginPaddingInputDragBar",{attrs:{value:e.value?.padding?.top,type:"padding",side:"top",active:e.isSideActive("padding","top")},on:{input:function(t){return e.updateProperty("padding","top",t)},mouseenter:function(t){return e.setHoveredType("padding","top")},dragging:function(t){return e.setDragging(t,"padding")}}}),t("MarginPaddingInputDragBar",{attrs:{value:e.value?.padding?.left,type:"padding",side:"left",active:e.isSideActive("padding","left")},on:{input:function(t){return e.updateProperty("padding","left",t)},mouseenter:function(t){return e.setHoveredType("padding","left")},dragging:function(t){return e.setDragging(t,"padding")}}}),t("MarginPaddingInputDragBar",{attrs:{value:e.value?.padding?.right,type:"padding",side:"right",active:e.isSideActive("padding","right")},on:{input:function(t){return e.updateProperty("padding","right",t)},mouseenter:function(t){return e.setHoveredType("padding","right")},dragging:function(t){return e.setDragging(t,"padding")}}}),t("MarginPaddingInputDragBar",{attrs:{value:e.value?.padding?.bottom,type:"padding",side:"bottom",active:e.isSideActive("padding","bottom")},on:{input:function(t){return e.updateProperty("padding","bottom",t)},mouseenter:function(t){return e.setHoveredType("padding","bottom")},dragging:function(t){return e.setDragging(t,"padding")}}})],1)])])},ee=[],te=n(20144),ne=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dropdown",{attrs:{"max-width":e.width,"min-width":e.width,transition:!1,absolute:!0,"position-y":e.menuPosition.y,"position-x":e.menuPosition.x,"close-on-content-click":!1,"content-class":"margin-padding-input-dropdown"},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t("div",{ref:"activator",class:e.classList,on:{mousedown:e.dragStart,mouseenter:function(t){return e.$emit("mouseenter",t)},dblclick:function(t){return t.stopPropagation(),e.handleDoubleClick.apply(null,arguments)}}},[t("div",e._g(e._b({staticClass:"margin-padding-input-drag-bar-click-area"},"div",s,!1),n),[t("div",{staticClass:"margin-padding-input-drag-bar-value",class:{"margin-padding-input-drag-bar-value--filled":!!e.value,"margin-padding-input-drag-bar-value--global-variable":e.isGlobalVariable}},[e._v(" "+e._s(e.displayValue)+" ")])])])]}}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[t("div",{ref:"container",staticClass:"margin-padding-input-dropdown__content"},[t("OxygenControl",{attrs:{control:e.dropdownUnitControl,value:e.value},on:{input:function(t){return e.$emit("input",{value:t,modifierKey:e.dropdownModifierKey})}}}),t("div",{staticClass:"margin-padding-input-presets"},e._l(e.modifiers,(function(n){return t("button",{key:n.value,staticClass:"margin-padding-input-preset",class:{"margin-padding-input-preset--active":e.dropdownModifier===n.value},attrs:{type:"button"},on:{click:function(t){return e.setDropdownModifier(n.value)}}},[e._v(" "+e._s(n.label)+" ")])})),0)],1)])},se=[],ae=n(23493),ie=n.n(ae),oe=n(15133),re=n(12721),le=n(85450),ce=n(95690),de=n(39889);let ue=class extends te.ZP{constructor(){super(...arguments),this.open=!1,this.mouseDragInfo=!1,this.numberWhenDragStarted=!1,this.dropdownModifier="",this.easyEvent=new re.hF,this.transitionKey=void 0,this.throttledDragging=ie()(this.dragging,60),this.menuPosition={x:0,y:0}}onOpenChange(){this.updateMenuPosition(),this.open?(le.kD.setPanelState({...le.kD.panelState,oxyPanelIsMasked:!0}),this.$nextTick((()=>{this.focusOnInput()}))):le.kD.setPanelState({...le.kD.panelState,oxyPanelIsMasked:!1})}onValueChange(){this.updateMenuPosition(),"center_horizontally"===this.dropdownModifier&&"auto"!==this.value?.unit&&(this.dropdownModifier="")}get dropdownUnitControl(){return{type:"unit",name:`${this.type}-${this.side}`,slug:"unit"}}get displayValue(){return this.isGlobalVariable?this.shorten(this.variableLabel):0!==this.value?.number&&this.value?"custom"===this.value?.unit?this.shorten(this.value.number):this.shorten(this.value?.style):"0"}get isGlobalVariable(){return(0,S.Hk)(this.value)}get variable(){return(0,S.X_)(this.value)}get overrideVariable(){return(0,S.jN)().find((e=>e.id===this.variable?.id))}get variableLabel(){return this.overrideVariable?this.overrideVariable.label:this.variable?.label}get modifiers(){const e=[{value:"apply_all",label:"Apply all (=)"},{value:"apply_opposite",label:"Apply opposite"},{value:"center_horizontally",label:"Center horizontally",type:"margin",sides:["left","right"]}];return e.filter((({type:e,sides:t})=>(!e||e===this.type)&&!(t&&!t.includes(this.side))))}get width(){return ce.eF}get height(){return 43}get classList(){const e="left"===this.side||"right"===this.side;return{"margin-padding-input-drag-bar":!0,[`oxy-drag-cursor oxy-drag-cursor-${this.type}-${this.side}`]:!0,[`${this.type}-${this.side}-drag-bar`]:!0,"margin-padding-input-drag-bar-horizontal":e,"margin-padding-input-drag-bar--active":this.active}}get elementId(){return le.kD.activeElementId}dragCallback(e,t){if(!1===this.numberWhenDragStarted)return;const n="top"===this.side||"bottom"===this.side;let s=n?e.totalYChange:e.totalXChange;const a="padding"===this.type&&("right"===this.side||"bottom"===this.side)||"margin"===this.type&&("left"===this.side||"top"===this.side);a&&(s*=-1);const i=this.value?.unit?this.value.unit:"px";let o;["em"].includes(i)?(s/=10,o=Number(+(this.numberWhenDragStarted+s).toFixed(2))):o=+Number(this.numberWhenDragStarted+s).toFixed(0);const r={unit:i,number:o,style:`${o}${i}`};this.$emit("input",{value:r,modifierKey:t.altKey?"alt":t.shiftKey?"shift":void 0,transactionKey:this.transitionKey})}handleDoubleClick(e){this.$emit("input",{value:null,modifierKey:e.altKey?"alt":e.shiftKey?"shift":void 0})}emit(e){this.$emit("input",{value:e})}dragStart(e){e.stopPropagation(),this.transitionKey=`PropertyChange:Spacing:${this.elementId}:${Date.now()}`,this.mouseDragInfo={startX:e.clientX,startY:e.clientY,currentX:e.clientX,currentY:e.clientY,lastXChange:0,lastYChange:0,totalXChange:0,totalYChange:0},this.$emit("dragging",!0),this.easyEvent.on("mousemove",this.throttledDragging),this.easyEvent.on("mouseup",this.dragEnd),this.numberWhenDragStarted=Number.isNaN(Number(this.value?.number))?0:Number(this.value?.number),document.body.classList.add(`oxy-drag-global-cursor-${this.side}`)}dragging(e){e.preventDefault(),e.stopPropagation(),requestAnimationFrame((()=>this._draggingFunc(e)))}dragEnd(e){e.stopPropagation(),this.easyEvent.off("mousemove",this.throttledDragging),this.easyEvent.off("mouseup",this.dragEnd),this.transitionKey=void 0,this.open=!1,this.mouseDragInfo=!1,this.numberWhenDragStarted=!1;const t=this.side;document.body.classList.remove(`oxy-drag-global-cursor-${t}`),this.$emit("dragging",!1)}_draggingFunc(e){if(!this.mouseDragInfo)return;const t=e.clientX,n=e.clientY,s=t-this.mouseDragInfo.startX,a=n-this.mouseDragInfo.startY,i=1,o=Math.abs(s)>i||Math.abs(a)>i;o&&(this.mouseDragInfo={...this.mouseDragInfo,currentX:t,currentY:n,lastXChange:t-this.mouseDragInfo.currentX,lastYChange:n-this.mouseDragInfo.currentY,totalXChange:s,totalYChange:a},this.dragCallback(this.mouseDragInfo,e))}shorten(e){const t=`${e||""}`,n={margin:{top:30,bottom:30,left:5,right:5},padding:{top:6,bottom:16,left:5,right:5}},s=n[this.type][this.side],a=5,i=10;if(s<=i&&s>=a&&t.length>a)return`${t.slice(0,s)}...`;if(t.length<=s)return t;const o=Math.floor((s-3)/2),r=t.substring(0,o),l=t.substring(t.length-o);return`${r}...${l}`}updateMenuPosition(){const e=this.$refs.activator,t=e.getBoundingClientRect();this.menuPosition.x=t.x+(t.width/2-this.width/2),this.menuPosition.y=t.top+(t.height/2-this.height/2)}focusOnInput(){const e=this.$refs.container;setTimeout((()=>{const t=e.querySelector("input");t&&t.focus()}),100)}get dropdownModifierKey(){return"apply_all"===this.dropdownModifier?"shift":"apply_opposite"===this.dropdownModifier||"center_horizontally"===this.dropdownModifier?"alt":void 0}setDropdownModifier(e){if(e===this.dropdownModifier)return void(this.dropdownModifier="");this.dropdownModifier=e;const t={unit:"auto",number:"",style:"auto"},n="center_horizontally"===this.dropdownModifier?t:this.value;this.$emit("input",{value:n,modifierKey:this.dropdownModifierKey})}maybeToggleAll(e){if("="!==e.key)return;const t=this.$refs.container;t&&t.contains(document.activeElement)&&(e.preventDefault(),this.setDropdownModifier("apply_all"))}mounted(){addEventListener("keydown",this.maybeToggleAll)}beforeDestroy(){removeEventListener("keydown",this.maybeToggleAll)}};(0,i.gn)([(0,o.fI)()],ue.prototype,"value",void 0),(0,i.gn)([(0,o.fI)()],ue.prototype,"type",void 0),(0,i.gn)([(0,o.fI)()],ue.prototype,"side",void 0),(0,i.gn)([(0,o.fI)({default:!1})],ue.prototype,"active",void 0),(0,i.gn)([(0,o.RL)("open")],ue.prototype,"onOpenChange",null),(0,i.gn)([(0,o.RL)("value")],ue.prototype,"onValueChange",null),ue=(0,i.gn)([(0,o.wA)({components:{NiceButton:de.Z,OxygenControl:()=>Promise.resolve().then(n.bind(n,3225)),OxygenUnitInput:f,Dropdown:oe.Z}})],ue);const pe=ue,he=pe;var ge=(0,m.Z)(he,ne,se,!1,null,null,null);const me=ge.exports;let ve=class extends te.ZP{constructor(){super(...arguments),this.easyEvent=new re.hF,this.modifierKey=null,this.hoveredType=null,this.hoveredSide=null,this.dragging=!1,this.draggingType=null}updateProperty(e,t,n){let s;const a=n.value;if("padding"===e&&a&&Number(a.number)<0&&(a.number=0,a.style=`${a.number}${a.unit}`),n.modifierKey)if("alt"===n.modifierKey){const n=ye(t);s={...this.value,[e]:{...this.value?.[e],[t]:a,[n]:a}}}else"shift"===n.modifierKey&&(s={...this.value,[e]:{...this.value?.[e],left:a,right:a,top:a,bottom:a}});else s={...this.value,[e]:{...this.value?.[e],[t]:a}};this.context.setControlValueAt(this.path,le.kD.currentBreakpoint.id,s,n?.transactionKey)}isSideActive(e,t){if("shift"===this.modifierKey&&this.hoveredType===e)return!0;if("alt"===this.modifierKey&&this.hoveredType===e){const e=e=>"top"===e||"bottom"===e,n=e=>"left"===e||"right"===e;if(e(this.hoveredSide))return e(t);if(n(this.hoveredSide))return n(t)}return!1}setHoveredType(e,t){this.hoveredType=e,t&&(this.hoveredSide=t)}setDragging(e,t){e?(this.dragging=!0,this.draggingType=t):(this.dragging=!1,this.draggingType=null)}checkMetaKeys(e){e.altKey?this.modifierKey="alt":e.shiftKey?this.modifierKey="shift":this.modifierKey=null}onMouseEnter(e){this.checkMetaKeys(e),this.easyEvent.on("keyup",this.checkMetaKeys),this.easyEvent.on("keydown",this.checkMetaKeys)}onMouseLeave(){this.dragging||(this.hoveredType=null,this.hoveredSide=null,this.easyEvent.off("keyup",this.checkMetaKeys),this.easyEvent.off("keydown",this.checkMetaKeys))}beforeDestroy(){const e=this.$refs.container;e.removeEventListener("mouseenter",this.onMouseEnter),e.removeEventListener("mouseleave",this.onMouseLeave),this.easyEvent.off("keyup",this.checkMetaKeys),this.easyEvent.off("keydown",this.checkMetaKeys)}};(0,i.gn)([(0,o.tB)({from:"oxyContext"})],ve.prototype,"context",void 0),(0,i.gn)([(0,o.fI)()],ve.prototype,"value",void 0),(0,i.gn)([(0,o.fI)()],ve.prototype,"path",void 0),ve=(0,i.gn)([(0,o.wA)({components:{MarginPaddingInputDragBar:me}})],ve);const fe=ve;function ye(e){return"top"===e?"bottom":"left"===e?"right":"right"===e?"left":"top"}const be=fe;var _e=(0,m.Z)(be,J,ee,!1,null,null,null);const xe=_e.exports;var Se=n(70248),Pe=n(61908),Ce=n(11193),we=n(43432),Ie=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-btn-bar"},[e._l(e.visibleItems,(function(n){return t(we.Z,{key:n.label,attrs:{text:"Tooltip",bottom:"",disabled:!n?.hideLabel,"open-delay":500},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("button",e._g(e._b({ref:"items",refInFor:!0,staticClass:"oxy-btn-bar-item",class:{"oxy-btn-bar-item--active":n.value===e.syncedValue},on:{click:function(t){e.syncedValue=n.value}}},"button",a,!1),s),[n.iconHtml?t("span",{domProps:{innerHTML:e._s(n.iconHtml)}}):n.icon?t("Icon",{attrs:{icon:n.icon,size:12}}):e._e(),n?.hideLabel?e._e():t("span",{domProps:{innerHTML:e._s(n.shortLabel||n.label)}})],1)]}}],null,!0)},[t("span",{domProps:{innerHTML:e._s(n.label)}})])})),t("span",{staticClass:"oxy-btn-bar-indicator",style:e.styles}),e.control.hideAfter&&e.items.length>e.control.hideAfter?t("Dropdown",{attrs:{"offset-y":"","nudge-top":-8},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("button",e._g({staticClass:"oxy-btn-bar-menu"},n),[t("Icon",{attrs:{icon:"EllipsisSolidIcon",size:10}})],1)]}}],null,!1,836075016)},[t(Se.Z,{attrs:{dense:""}},e._l(e.hiddenItems,(function(n,s){return t(Pe.Z,{key:s,on:{click:function(t){e.syncedValue=n.value}}},[t(Ce.V9,[e._v(e._s(n.label))])],1)})),1)],1):e._e()],2)},ke=[],De=n(16068),Ee=n(16747);let Te=class extends o.w3{constructor(){super(...arguments),this.itemX=0,this.itemWidth=null,this.instant=!1}get currentIndex(){return this.visibleItems?.findIndex((e=>e.value===this.syncedValue))}onValueChange(){this.$nextTick((()=>{this.recalculateIndicator()}))}get items(){return this.control.items?.map(De.Kq)}get visibleItems(){if(this.control.hideAfter){const e=this.items?.slice(0,this.control.hideAfter),t=e?.some((e=>e.value===this.syncedValue)),n=this.items?.find((e=>e.value===this.syncedValue));return n&&!t?e?.map(((t,s)=>s===e.length-1?{...n}:t)):e}return this.items}get hiddenItems(){const e=this.items?.slice(this.control.hideAfter-1)||[];return e.length>1&&e.push(e.shift()),e}get styles(){return{transition:this.instant?"none":"",transform:`translateX(${this.itemX}px)`,width:this.itemWidth?`${this.itemWidth}px`:"0px"}}recalculateIndicator(e=!1){this.instant=e,this.$nextTick((()=>{const e=this.$refs.items||[];if(-1===this.currentIndex||void 0==this.currentIndex)return void(this.itemWidth=null);const t=e[this.currentIndex];t&&(this.itemX=t.offsetLeft,this.itemWidth=t.offsetWidth)}))}mounted(){this.recalculateIndicator(!0),setTimeout((()=>this.recalculateIndicator(!0)),100)}};(0,i.gn)([(0,o.fI)()],Te.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input")],Te.prototype,"syncedValue",void 0),(0,i.gn)([(0,o.RL)("syncedValue")],Te.prototype,"onValueChange",null),Te=(0,i.gn)([(0,o.wA)({components:{UnitDropdown:Ee.Z,Dropdown:oe.Z,Icon:y.Z}})],Te);const Ze=Te,Ae=Ze;var Be=(0,m.Z)(Ae,Ie,ke,!1,null,null,null);const Me=Be.exports;var Oe=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-accordion"},[t("OxygenCopyPastContextMenu",{attrs:{name:e.control.name,path:e.path},scopedSlots:e._u([{key:"default",fn:function({openContextMenu:n}){return[t("button",{staticClass:"oxy-accordion-name",on:{click:function(t){e.open=!e.open},contextmenu:n}},[e._v(" "+e._s(e.control.name)+" "),e.filled?t("OxyIndicatorLights",{attrs:{"reset-on-click":!1}}):e._e(),t("Icon",{staticClass:"oxy-accordion-arrow",attrs:{icon:e.open?"ChevronDownIcon":"ChevronRightIcon",size:10}})],1)]}}]),model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}}),e.open?t("div",{staticClass:"oxy-accordion-content"},[t("OxygenControls",{attrs:{controls:e.filteredControls,path:e.fullPath},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}}),e.control.hideAfter?t("NiceButton",{staticClass:"mt-3",attrs:{expanded:!0,size:"small"},on:{click:function(t){e.showAll=!e.showAll}}},[e.showAll?t("Icon",{attrs:{icon:"ChevronDownSolidIcon",rotate:"180"}}):t("Icon",{attrs:{icon:"EllipsisSolidIcon"}})],1):e._e()],1):e._e()],1)},Le=[],Re=n(47256),Ne=n(26472),Fe=n(88806);let $e=class extends o.w3{constructor(){super(...arguments),this.open=!1,this.showAll=!1}onControlChange(){this.open=this.control.open||!1}beforeCreate(){this.$options.components.OxygenControls=n(51613).Z}get fullPath(){return`${this.path}`}get filled(){return(0,Re.vr)(this.syncedValue)}get filteredControls(){const e=this.control.hideAfter;return e&&!this.showAll?this.control.controls?.slice(0,e):this.control.controls}};(0,i.gn)([(0,o.fI)()],$e.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input")],$e.prototype,"syncedValue",void 0),(0,i.gn)([(0,o.fI)()],$e.prototype,"path",void 0),(0,i.gn)([(0,o.RL)("control",{immediate:!0,deep:!0})],$e.prototype,"onControlChange",null),$e=(0,i.gn)([(0,o.wA)({components:{OxygenCopyPastContextMenu:Fe.Z,OxyIndicatorLights:Ne.Z,NiceButton:de.Z,Icon:y.Z}})],$e);const Ve=$e,We=Ve;var He=(0,m.Z)(We,Oe,Le,!1,null,null,null);const ze=He.exports;var Ue=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-number-input"},[t("NumberInput",{attrs:{"range-options":e.rangeOptions,arrows:e.arrows},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},Ke=[],Ge=n(23267);let qe=class extends o.w3{get rangeOptions(){return{min:this.control.min,max:this.control.max,step:this.control.step}}get arrows(){return!1!==this.control.arrows}};(0,i.gn)([(0,o.fI)()],qe.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input",{type:Number})],qe.prototype,"syncedValue",void 0),qe=(0,i.gn)([(0,o.wA)({components:{NumberInput:Ge.Z,UnitInput:u.Z}})],qe);const je=qe,Ye=je;var Xe=(0,m.Z)(Ye,Ue,Ke,!1,null,null,null);const Qe=Xe.exports;var Je=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-text-input"},[t("TextInput",{model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},et=[],tt=n(41571);let nt=class extends o.w3{};(0,i.gn)([(0,o.fI)()],nt.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input",{type:String})],nt.prototype,"syncedValue",void 0),nt=(0,i.gn)([(0,o.wA)({components:{TextInput:tt.Z}})],nt);const st=nt,at=st;var it=(0,m.Z)(at,Je,et,!1,null,null,null);const ot=it.exports;var rt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-code-input"},[t("CodeInput",{attrs:{language:e.control.language},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},lt=[],ct=n(82354);let dt=class extends o.w3{};(0,i.gn)([(0,o.fI)()],dt.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input",{type:String})],dt.prototype,"syncedValue",void 0),dt=(0,i.gn)([(0,o.wA)({components:{CodeInput:ct.Z,TextInput:tt.Z}})],dt);const ut=dt,pt=ut;var ht=(0,m.Z)(pt,rt,lt,!1,null,null,null);const gt=ht.exports;var mt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-align-input"},[t("AlignGrid",{attrs:{display:e.display,direction:e.direction},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}}),t("div",{staticClass:"oxy-align-input-controls"},[t("OxygenControl",{attrs:{control:e.primaryControl,value:e.syncedValue[e.isFlexRow?"primary_axis":"cross_axis"]},on:{input:function(t){return e.updateInnerValue(e.isFlexRow?"primary_axis":"cross_axis",t)}}}),t("OxygenControl",{attrs:{control:e.crossControl,value:e.syncedValue[e.isFlexRow?"cross_axis":"primary_axis"]},on:{input:function(t){return e.updateInnerValue(e.isFlexRow?"cross_axis":"primary_axis",t)}}})],1)],1)},vt=[],ft=n(36968),yt=n.n(ft),bt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-align-grid-container"},[t("div",{staticClass:"oxy-align-grid"},e._l(e.gridOptions,(function([n,s],a){return t("span",{key:a,staticClass:"oxy-align-grid-point",on:{click:function(t){return e.setValue(n,s)},dblclick:function(t){return t.stopPropagation(),e.onDoubleClick(n,s)},mouseenter:function(t){return e.onDotEnter(n,s)},mouseleave:e.onDotLeave}},[e.isDotVisible(n,s)?t("span",{staticClass:"oxy-align-grid-point-dot"}):e._e()])})),0),e.syncedValue.primary_axis||e.syncedValue.cross_axis?t("AlignGridIndicator",{attrs:{display:e.display,direction:e.direction,x:e.syncedValue.primary_axis,y:e.syncedValue.cross_axis}}):e._e(),e.showHoverIndicator?t("AlignGridIndicator",{attrs:{display:e.display,direction:e.direction,x:e.hoverIndicatorX,y:e.hoverIndicatorY,hover:!0}}):e._e()],1)},_t=[],xt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-align-grid-overlay",class:{"oxy-align-grid-overlay--hover":e.hover},style:{flexFlow:e.direction,justifyContent:e.x,alignItems:e.y}},[t("div",{staticClass:"oxy-align-grid-indicator",class:{[`oxy-align-grid-indicator--${e.display}`]:!0,[`oxy-align-grid-indicator--${e.direction}`]:!0,[`oxy-align-grid-indicator--primary-axis-${e.x}`]:!0,[`oxy-align-grid-indicator--cross-axis-${e.y}`]:!0},style:{flexFlow:e.direction,alignItems:e.y,justifyContent:e.x}},["baseline"===e.y?t("div",{staticClass:"oxy-align-grid-indicator-baseline"},[e._v(" A "),t("Icon",{attrs:{icon:"ArrowDownIcon",size:10}})],1):[t("span"),t("span"),t("span"),t("span"),t("span")]],2)])},St=[];let Pt=class extends o.w3{};(0,i.gn)([(0,o.fI)()],Pt.prototype,"display",void 0),(0,i.gn)([(0,o.fI)()],Pt.prototype,"direction",void 0),(0,i.gn)([(0,o.fI)()],Pt.prototype,"x",void 0),(0,i.gn)([(0,o.fI)()],Pt.prototype,"y",void 0),(0,i.gn)([(0,o.fI)()],Pt.prototype,"hover",void 0),Pt=(0,i.gn)([(0,o.wA)({components:{Icon:y.Z}})],Pt);const Ct=Pt,wt=Ct;var It=(0,m.Z)(wt,xt,St,!1,null,null,null);const kt=It.exports;let Dt=class extends o.w3{constructor(){super(...arguments),this.shiftKey=!1,this.altKey=!1,this.columnOptions=[["start","start"],["center","start"],["end","start"],["start","center"],["center","center"],["end","center"],["start","end"],["center","end"],["end","end"]],this.rowOptions=[["start","start"],["start","center"],["start","end"],["center","start"],["center","center"],["center","end"],["end","start"],["end","center"],["end","end"]],this.hoveredValue={primary_axis:null,cross_axis:null}}get invert(){return["row","wrap"].includes(this.direction)}get gridOptions(){return this.invert?this.columnOptions:this.rowOptions}get showHoverIndicator(){const{primary_axis:e,cross_axis:t}=this.syncedValue,{primary_axis:n,cross_axis:s}=this.hoveredValue;if(e===this.hoverIndicatorX&&"stretch"===this.hoverIndicatorY)return!0;if("space-between"===e&&"stretch"===t)return!1;const a=n&&s,i=this.hoverIndicatorX!==e||s!==t,o=!(this.isDistributionAlignment(e)&&s===t);return a&&i&&o}get hoverIndicatorX(){return"flex"!==this.display||!this.shiftKey&&"space-between"!==this.syncedValue.primary_axis?this.hoveredValue.primary_axis:"space-between"}get hoverIndicatorY(){return this.altKey||"stretch"===this.syncedValue.cross_axis?"stretch":this.hoveredValue.cross_axis}isDistributionAlignment(e){return["space-between","space-around"].includes(e)}setValue(e,t){this.shiftKey&&"flex"===this.display?this.syncedValue.primary_axis="space-between":this.isDistributionAlignment(this.syncedValue.primary_axis)||(this.syncedValue.primary_axis=e),this.altKey?this.syncedValue.cross_axis="stretch":"stretch"!==this.syncedValue.cross_axis&&(this.syncedValue.cross_axis=t),this.syncedValue={...this.syncedValue}}onDoubleClick(e,t){const n="flex"===this.display?"space-between":"stretch";this.syncedValue.primary_axis===n?this.syncedValue.primary_axis=e:this.syncedValue.primary_axis=n,"stretch"===this.syncedValue.cross_axis&&(this.syncedValue.cross_axis=t),this.syncedValue={...this.syncedValue}}onKeyDown(e){this.shiftKey=e.shiftKey,this.altKey=e.altKey}onDotEnter(e,t){this.hoveredValue={primary_axis:e,cross_axis:t}}onDotLeave(){this.hoveredValue={primary_axis:null,cross_axis:null}}resetKeysOnTabOut(){this.shiftKey=!1,this.altKey=!1}isDotVisible(e,t){const{primary_axis:n,cross_axis:s}=this.syncedValue,a=this.hoveredValue.primary_axis,i=this.hoveredValue.cross_axis;return("space-between"!==n||"stretch"!==s)&&(!("space-between"===n&&t===s||"space-between"===this.hoverIndicatorX&&t===i)&&((e!==n||t!==s)&&(e!==a||t!==i)))}mounted(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyDown),document.addEventListener("visibilitychange",this.resetKeysOnTabOut)}beforeDestroy(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyDown),document.removeEventListener("visibilitychange",this.resetKeysOnTabOut)}};(0,i.gn)([(0,o.yU)("value","input",{default:()=>({primary_axis:null,cross_axis:null})})],Dt.prototype,"syncedValue",void 0),(0,i.gn)([(0,o.fI)()],Dt.prototype,"display",void 0),(0,i.gn)([(0,o.fI)()],Dt.prototype,"direction",void 0),Dt=(0,i.gn)([(0,o.wA)({components:{AlignGridIndicator:kt}})],Dt);const Et=Dt,Tt=Et;var Zt=(0,m.Z)(Tt,bt,_t,!1,null,null,null);const At=Zt.exports;var Bt=n(31044);let Mt=class extends o.w3{constructor(){super(...arguments),this.verticalAlignment=[{value:"start",label:"Left"},{value:"center",label:"Center"},{value:"end",label:"Right"}],this.horizontalAlignment=[{value:"start",label:"Top"},{value:"center",label:"Center"},{value:"end",label:"Bottom"}],this.positionAlignment=[{value:"stretch",label:"Stretch"},{value:"baseline",label:"Baseline"}],this.distributionAlignment=[{value:"space-between",label:"Space Between"},{value:"space-around",label:"Space Around"}]}beforeCreate(){this.$options.components.OxygenControl=n(3225)["default"]}get layout(){return this.context.getParentControlValueAt(this.path,this.breakpoint)}get breakpoint(){return Bt.kD.currentBreakpoint.id}get display(){return this.layout?.display||"flex"}get direction(){return"grid"===this.display?"column":this.layout?.flex_direction||"row"}get isFlexRow(){return"flex"===this.display&&["row","wrap"].includes(this.direction)}get primaryControl(){const e=this.isFlexRow?[...this.verticalAlignment,...this.distributionAlignment]:[...this.verticalAlignment,...this.positionAlignment];return{slug:"primary_axis",name:"X",type:"select",items:e}}get crossControl(){const e=this.isFlexRow||"grid"===this.display?[...this.horizontalAlignment,...this.positionAlignment]:[...this.horizontalAlignment,...this.distributionAlignment];return{slug:"cross_axis",name:"Y",type:"select",items:e}}updateInnerValue(e,t){this.syncedValue=yt()(this.syncedValue,e,t)}};(0,i.gn)([(0,o.fI)()],Mt.prototype,"control",void 0),(0,i.gn)([(0,o.fI)()],Mt.prototype,"path",void 0),(0,i.gn)([(0,o.yU)("value","input",{default:()=>({})})],Mt.prototype,"syncedValue",void 0),(0,i.gn)([(0,o.tB)({from:"oxyContext"})],Mt.prototype,"context",void 0),Mt=(0,i.gn)([(0,o.wA)({components:{AlignGrid:At}})],Mt);const Ot=Mt,Lt=Ot;var Rt=(0,m.Z)(Lt,mt,vt,!1,null,null,null);const Nt=Rt.exports;var Ft=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-border-input"},[t("BorderComplex",{attrs:{"accepts-variable":!0},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},$t=[],Vt=n(26356);let Wt=class extends o.w3{};(0,i.gn)([(0,o.fI)()],Wt.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input")],Wt.prototype,"syncedValue",void 0),Wt=(0,i.gn)([(0,o.wA)({components:{BorderComplex:Vt.Z}})],Wt);const Ht=Wt,zt=Ht;var Ut=(0,m.Z)(zt,Ft,$t,!1,null,null,null);const Kt=Ut.exports;var Gt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-border-radius-input"},[t("BorderRadius",{attrs:{"accepts-variable":!0},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},qt=[],jt=n(90801);let Yt=class extends o.w3{};(0,i.gn)([(0,o.fI)()],Yt.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input")],Yt.prototype,"syncedValue",void 0),Yt=(0,i.gn)([(0,o.wA)({components:{BorderRadius:jt.Z,BorderComplex:Vt.Z}})],Yt);const Xt=Yt,Qt=Xt;var Jt=(0,m.Z)(Qt,Gt,qt,!1,null,"58c4d6ca",null);const en=Jt.exports;var tn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-text-input"},[t("FocusPointInput",{attrs:{options:{gridMode:!0}},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},nn=[],sn=n(78127);let an=class extends o.w3{};(0,i.gn)([(0,o.fI)()],an.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input",{type:Object})],an.prototype,"syncedValue",void 0),an=(0,i.gn)([(0,o.wA)({components:{FocusPointInput:sn.Z,TextInput:tt.Z}})],an);const on=an,rn=on;var ln=(0,m.Z)(rn,tn,nn,!1,null,null,null);const cn=ln.exports;var dn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-repeater-input"},[t("Repeater",{attrs:{control:{options:{repeaterOptions:e.options}}},scopedSlots:e._u([{key:"default",fn:function({value:n,index:s}){return[t("OxygenControls",{attrs:{controls:e.control.controls,value:n,path:`${e.path}[${s}]`},on:{input:function(t){return e.updateItem(t,s)}}})]}}]),model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},un=[],pn=n(81878),hn=n(23128);let gn=class extends te.ZP{beforeCreate(){this.$options.components.OxygenControls=n(51613).Z}get isDisabled(){return""}get options(){return{popupMode:!0,itemIcon:this.control.itemIcon,itemColorPath:this.control.itemColorPath,titleTemplate:this.control.titleTemplate,defaultTitle:this.control.defaultTitle,buttonName:this.control.buttonName,defaultNewValue:this.control.defaultNewValue,duplicateNewValue:this.control.duplicateNewValue,deleteText:this.control.deleteText,noDuplicate:this.control.noDuplicate,noDisable:this.control.noDisable,noDataMessage:this.control.noDataMessage,noExpand:this.control.noExpand}}updateItem(e,t){const n=(0,hn.Z)(this.syncedValue)||[];n[t]=e,this.$emit("input",n)}};(0,i.gn)([(0,o.fI)()],gn.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input")],gn.prototype,"syncedValue",void 0),(0,i.gn)([(0,o.fI)()],gn.prototype,"path",void 0),gn=(0,i.gn)([(0,o.wA)({components:{Repeater:pn.Z}})],gn);const mn=gn,vn=mn;var fn=(0,m.Z)(vn,dn,un,!1,null,null,null);const yn=fn.exports;var bn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-media-input"},[t("WPMediaInput",{model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},_n=[],xn=n(90308);let Sn=class extends o.w3{};(0,i.gn)([(0,o.fI)()],Sn.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input")],Sn.prototype,"syncedValue",void 0),Sn=(0,i.gn)([(0,o.wA)({components:{WPMediaInput:xn.Z,TextInput:tt.Z}})],Sn);const Pn=Sn,Cn=Pn;var wn=(0,m.Z)(Cn,bn,_n,!1,null,null,null);const In=wn.exports;var kn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("VideoInput",{model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})},Dn=[],En=n(30360);let Tn=class extends o.w3{};(0,i.gn)([(0,o.fI)()],Tn.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input")],Tn.prototype,"syncedValue",void 0),Tn=(0,i.gn)([(0,o.wA)({components:{VideoInput:En.Z}})],Tn);const Zn=Tn,An=Zn;var Bn=(0,m.Z)(An,kn,Dn,!1,null,"97cfc5b4",null);const Mn=Bn.exports;var On=n(78306),Ln=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("MediaSizeInput",{attrs:{"raw-image":e.image},on:{"update-image":e.updateImage},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})},Rn=[],Nn=n(10128);let Fn=class extends o.w3{get breakpoint(){return Bt.kD.currentBreakpoint.id}get background(){return this.context.getParentControlValueAt(this.path,this.breakpoint)}get image(){return this.background?.[this.imagePath]}get imagePath(){return this.control.imagePath||"image"}updateImage(e){const t=this.path.split(".").slice(0,-1).join("."),n=`${t}.${this.imagePath}`;this.context.setControlValueAt(n,this.breakpoint,e)}};(0,i.gn)([(0,o.fI)()],Fn.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input")],Fn.prototype,"syncedValue",void 0),(0,i.gn)([(0,o.tB)({from:"oxyContext"})],Fn.prototype,"context",void 0),(0,i.gn)([(0,o.fI)()],Fn.prototype,"path",void 0),Fn=(0,i.gn)([(0,o.wA)({components:{MediaSizeInput:Nn.Z}})],Fn);const $n=Fn,Vn=$n;var Wn=(0,m.Z)(Vn,Ln,Rn,!1,null,"7ab6489a",null);const Hn=Wn.exports;var zn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(we.Z,{attrs:{"content-class":"oxy-tab-tooltip",bottom:"","open-delay":500,transition:"0"},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("button",e._g({staticClass:"oxy-button-input",class:{"oxy-button-input--true":e.syncedValue,"oxy-button-input--false":!e.syncedValue,"oxy-button-input--disabled":e.control.disabled},on:{click:function(t){e.syncedValue=!e.syncedValue}}},n),[e.control.icon?t("Icon",{attrs:{icon:e.control.icon}}):e._e(),e.control.hideButtonLabel?e._e():t("span",[e._v(" "+e._s(e.syncedValue?e.control.trueValue:e.control.falseValue)+" ")])],1)]}}])},[t("span",[e._v(e._s(e.control.name))])])},Un=[];let Kn=class extends o.w3{};(0,i.gn)([(0,o.fI)()],Kn.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input",{type:Boolean})],Kn.prototype,"syncedValue",void 0),Kn=(0,i.gn)([(0,o.wA)({components:{IconButton:b.Z,Icon:y.Z}})],Kn);const Gn=Kn,qn=Gn;var jn=(0,m.Z)(qn,zn,Un,!1,null,null,null);const Yn=jn.exports;var Xn=n(59810),Qn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-variables-input"},[t("OverrideVariablesInput",{model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},Jn=[],es=n(47876);let ts=class extends o.w3{};(0,i.gn)([(0,o.fI)()],ts.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input",{type:Array})],ts.prototype,"syncedValue",void 0),ts=(0,i.gn)([(0,o.wA)({components:{OverrideVariablesInput:es.Z}})],ts);const ns=ts,ss=ns;var as=(0,m.Z)(ss,Qn,Jn,!1,null,null,null);const is=as.exports;var os=n(66969);let rs=class extends o.w3{get showLabel(){return!this.control.hideLabel&&!["accordion"].includes(this.control.type)}get filled(){return(0,Re.vr)(this.syncedValue)}get disabled(){if(!this.path)return!1;if(!this.control.disabledConditions)return!1;const e=this.context.getParentControlValueAt("",le.kD.currentBreakpoint.id);return(0,Xn.kq)(this.control.disabledConditions,e)}get isVariableSupported(){return(0,S.lZ)(this.control)}get componentName(){return`oxygen-${this.control.type}-input`}get variableType(){return(0,S.Zp)(this.control)}get fullPath(){return this.path?`${this.path}.${this.control.slug}`:this.control.slug}resetControl(){this.syncedValue=void 0}};(0,i.gn)([(0,o.fI)()],rs.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input")],rs.prototype,"syncedValue",void 0),(0,i.gn)([(0,o.fI)()],rs.prototype,"path",void 0),(0,i.gn)([(0,o.tB)({from:"oxyContext"})],rs.prototype,"context",void 0),rs=(0,i.gn)([(0,o.wA)({components:{OxygenControlName:os.Z,OxygenVariablesInput:is,OxygenGapInput:k,OxygenTextInput:ot,OxygenUnitInput:f,OxygenCodeInput:gt,OxygenGroupInput:W,OxygenAlignInput:Nt,OxygenColorInput:X,OxygenMediaInput:In,OxygenVideoInput:Mn,OxygenSelectInput:Q.Z,OxygenNumberInput:Qe,OxygenBorderInput:Kt,OxygenButtonInput:Yn,OxygenSpacingInput:xe,OxygenRepeaterInput:yn,OxygenButtonBarInput:Me,OxygenAccordionInput:ze,OxygenFocusPointInput:cn,OxygenFontFamilyInput:O,OxygenBorderRadiusInput:en,OxygenMediaSizeInput:Hn,VariableBoundInput:On.Z}})],rs);const ls=rs,cs=ls;var ds=(0,m.Z)(cs,s,a,!1,null,null,null);const us=ds.exports},51613:(e,t,n)=>{n.d(t,{Z:()=>m});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-controls",class:{"oxy-controls-root":e.root}},e._l(e.filteredControls,(function(n){return t("OxygenControl",{key:n.slug,attrs:{control:n,path:e.path,value:e.syncedValue?.[n.slug]},on:{input:function(t){return e.updateControlValue(n,t)}}})})),1)},a=[],i=n(70655),o=n(38085),r=n(3225),l=n(23128),c=n(59810);let d=class extends o.w3{get filteredControls(){return this.controls.filter((e=>(0,c.kq)(e.conditions,this.syncedValue)))}updateControlValue(e,t){const n=(0,l.Z)(this.syncedValue);this.$emit("input",{...n,[e.slug]:t})}updateContext(e){this.$emit("input",e)}};(0,i.gn)([(0,o.fI)({default:()=>[]})],d.prototype,"controls",void 0),(0,i.gn)([(0,o.fI)({default:!1})],d.prototype,"root",void 0),(0,i.gn)([(0,o.fI)()],d.prototype,"path",void 0),(0,i.gn)([(0,o.yU)("value","input")],d.prototype,"syncedValue",void 0),d=(0,i.gn)([(0,o.wA)({components:{OxygenControl:r["default"]}})],d);const u=d,p=u;var h=n(1001),g=(0,h.Z)(p,s,a,!1,null,null,null);const m=g.exports},25770:(e,t,n)=>{n.d(t,{Z:()=>m});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-select-input"},[t("DropdownInput",{attrs:{items:e.items,placeholder:e.control.placeholder},model:{value:e.syncedValue,callback:function(t){e.syncedValue=t},expression:"syncedValue"}})],1)},a=[],i=n(70655),o=n(38085),r=n(56125),l=n(16068),c=n(85283);let d=class extends o.w3{get items(){return this.control.items?.map(l.Nd)}};(0,i.gn)([(0,o.fI)()],d.prototype,"control",void 0),(0,i.gn)([(0,o.yU)("value","input")],d.prototype,"syncedValue",void 0),d=(0,i.gn)([(0,o.wA)({components:{Icon:c.Z,DropdownInput:r.Z}})],d);const u=d,p=u;var h=n(1001),g=(0,h.Z)(p,s,a,!1,null,"5e60ba52",null);const m=g.exports},88806:(e,t,n)=>{n.d(t,{Z:()=>_});var s=n(70248),a=n(61908),i=n(11193),o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"copy-paste-context-menu"},[e._t("default",null,{openContextMenu:e.openContextMenu}),t("Dropdown",{attrs:{"position-x":e.contextMenuX,"position-y":e.contextMenuY,absolute:"","offset-y":"","close-on-click":""},model:{value:e.contextMenu,callback:function(t){e.contextMenu=t},expression:"contextMenu"}},[t(s.Z,{ref:"list"},[t(a.Z,{attrs:{dense:"",disabled:!e.canCopy},on:{click:e.copyData}},[t(i.V9,[e._v(" Copy "),e.name?t("em",[e._v(e._s(e.name))]):e._e()])],1),t(a.Z,{attrs:{dense:"",disabled:!e.canPaste},on:{click:e.pasteData}},[t(i.V9,[e._v(" Paste "),e.name?t("em",[e._v(e._s(e.name))]):e._e()])],1),t(a.Z,{attrs:{dense:"",disabled:!e.canClear},on:{click:e.clearData}},[t(i.V9,[e._v(" Clear "),e.name?t("em",[e._v(e._s(e.name))]):e._e()])],1)],1)],1)],2)},r=[],l=n(70655),c=n(38085),d=n(15133),u=n(3735),p=n(65669),h=n(48973),g=n(89028);let m=class extends c.w3{constructor(){super(...arguments),this.dataToPaste=null,this.contextMenu=!1,this.contextMenuX=0,this.contextMenuY=0}get canCopy(){return null!==this.syncedValue&&void 0!==this.syncedValue}get canPaste(){return!!this.dataToPaste&&(this.dataToPaste.path===this.path&&this.dataToPaste.data)}get canClear(){return null!==this.syncedValue&&void 0!==this.syncedValue}onContextMenuChange(){this.contextMenu||document.removeEventListener("mousedown",this.closeIfRightClick)}openContextMenu(e){e.preventDefault(),this.contextMenu=!1,this.contextMenuX=e.clientX,this.contextMenuY=e.clientY,this.$nextTick((()=>{this.contextMenu=!0,this.updateCanPaste(),document.addEventListener("mousedown",this.closeIfRightClick)}))}closeIfRightClick(e){2===e.button&&(this.contextMenu=!1)}copyData(){console.log("Copy data",this.syncedValue);const e={oxy:{path:this.path,data:this.syncedValue}};(0,u.zG)(e,p.J,(0,h.g_)((e=>console.error("Failed to copy",...e.map((e=>e.toString())))),(e=>(0,g.l9)(e)))),this.updateCanPaste()}pasteData(){this.dataToPaste&&(this.syncedValue=this.dataToPaste.data)}clearData(){this.syncedValue=null}async updateCanPaste(){this.dataToPaste=(await(0,g.ij)())?.oxy||null}beforeDestroy(){document.removeEventListener("mousedown",this.closeIfRightClick)}};(0,l.gn)([(0,c.yU)("value","input")],m.prototype,"syncedValue",void 0),(0,l.gn)([(0,c.fI)()],m.prototype,"name",void 0),(0,l.gn)([(0,c.fI)()],m.prototype,"path",void 0),(0,l.gn)([(0,c.RL)("contextMenu")],m.prototype,"onContextMenuChange",null),m=(0,l.gn)([(0,c.wA)({components:{Dropdown:d.Z}})],m);const v=m,f=v;var y=n(1001),b=(0,y.Z)(f,o,r,!1,null,null,null);const _=b.exports},5502:(e,t,n)=>{function s(e,t,n,s,i){function o(e,r){if(a(e)){const s={};for(const a in e){if(a===t)return e[a];if(n.includes(a))continue;const i=o(e[a],`${r?`${r}.`:""}${a}`);void 0!==i&&(s[a]=i)}return Object.keys(s).length?s:void 0}if(Array.isArray(e)){const t=[];if(e.forEach((e=>{t.push(o(e,`${r}[]`))})),0===t.filter((e=>void 0!==e)).length)return;return t.length?t:void 0}const l=r&&i?.some((e=>r.startsWith(e)));return t===s||l?e:void 0}return o(e,"")}function a(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}n.d(t,{A:()=>s,S:()=>a})},89028:(e,t,n)=>{n.d(t,{Ku:()=>V,us:()=>W,NA:()=>L,wp:()=>O,ij:()=>M,Wm:()=>N,HR:()=>F,qb:()=>$,gR:()=>B,uV:()=>E,l9:()=>A});var s=n(27361),a=n.n(s),i=n(31381),o=n(85450),r=n(45974),l=n(30902),c=n(9950),d=n(69137),u=n(23128),p=n(65118),h=n(65669),g=n(84274),m=n(565),v=n(8773),f=n(12721),y=n(31737),b=n(31549),_=n(75031),x=n(32521);const S=x.G0([_.NM,x.IX(_.NM)]),P=x.dt({controlSectionShapeHash:x.Z_,propertiesData:x.dt({propertiesData:x._4})}),C=x.dt({path:x.Z_,data:x._4}),w=x.r$({element:S,controlSectionPropertiesData:P,oxy:C});var I=n(39715),k=n(98949);const D=new f.hF;function E(){return{register(){D.on("copy",T),D.on("cut",T),D.on("paste",T)},unbind(){D.removeAll()}}}function T(e){const t=window.Breakdance.canvas.document,n=(0,y.SD)(t)||(0,y.SD)(document);n||(e.preventDefault(),"copy"===e.type&&o.kD.activeElementId?L(o.kD.activeElementId):"cut"===e.type&&o.kD.activeElementId?R(o.kD.activeElementId):"paste"===e.type&&N(o.kD.activeElementId,e))}async function Z(e){const{secure:t,permission:n}=await(0,y.fn)();return e&&!window.safari?"event":t?null===n||"denied"===n.state?"localstorage":"clipboard":"localstorage"}async function A(e){try{await navigator.clipboard.writeText(e),console.debug("Writing to clipboard")}catch(t){(0,y._G)(e),console.debug("Fallback: Writing to clipboard")}(0,b.r)("breakdance_clipboard",e)}async function B(e){const t=e?.clipboardData?.getData("text"),n=await Z(e);return console.debug(`Reading clipboard from ${n}`),"event"===n?t:"localstorage"===n?(0,b.z)("breakdance_clipboard"):await navigator.clipboard.readText()}async function M(e){const t=await B(e);if(!t)return null;const n=(0,p.Z)(t,w);return(0,l.pipe)(n,(0,r.fold)((()=>null),(e=>e??null)))}function O(e){const t=[];e.forEach((e=>{const n=(0,i.DY)(o.Hb.document.tree,e);n&&t.push((0,i.HC)(n))}));const n=(0,I.G)(t);(0,l.pipe)(n,h.J,(0,r.fold)((e=>console.error("Failed to copy element",...e.map((e=>e.toString())))),(e=>{A(e)})))}function L(e){const t=(0,i.DY)(o.Hb.document.tree,e);if(!t)return;const n=(0,i.HC)(t),s=(0,I.G)(n);(0,l.pipe)(s,h.J,(0,r.fold)((e=>console.error("Failed to copy element",...e.map((e=>e.toString())))),(e=>{A(e)})))}function R(e){L(e),o.Hb.deleteElement({nodeId:e})}async function N(e,t){if("success"!==o.PK.elementsLoadingState)return;const n=(await M(t))?.element;n&&(Array.isArray(n)?(0,k.AE)(n,"pasting"):F(e,n))}function F(e,t){const n=(0,c.Z)(o.Hb.document.tree,e,(0,c.kE)(t)),s=(0,v.Z)(),a=`Paste:${s}`;(0,l.pipe)(n,(0,r.fold)((()=>{}),(e=>{"TOP_LEVEL"===e?d.n.transaction((()=>{const e={nodeId:void 0};o.Hb.addElementMutation({elementSlug:(0,c.zV)(),parentNodeId:o.Hb.document.tree.root.id,index:!1,pointer:e}),void 0!==e.nodeId&&(o.Hb.pasteCopiedElementMutation({element:t,placeToAddId:e.nodeId,placeToAddIndex:0}),m.w.run.onCreatedElement({elementId:t.id,transactionKey:a}))}),`Paste copied ${(0,g.JC)(t.data.type)} into a new section`,a):d.n.transaction((()=>{const n={nodeId:void 0};o.Hb.pasteCopiedElementMutation({element:t,placeToAddId:e.place.id,placeToAddIndex:e.index||e.place.children.length,pointer:n}),n.nodeId&&m.w.run.onCreatedElement({elementId:n.nodeId,transactionKey:a})}),`Paste copied ${(0,g.JC)(t.data.type)}`,a)})))}async function $(e,t="design"){const n=(await M())?.element;if(Array.isArray(n))return;if(!n)return;const s=(0,i.DY)(o.Hb.document.tree,e);if(!s)return;const r=a()(n.data.properties,t,null);n.data.type===s.data.type&&o.Hb.throttledPropertyChanged({elementId:s.id,path:t,value:(0,u.Z)(r),meta:{snapshotLabel:`Paste properties of ${(0,g.JC)(n.data.type)} to ${(0,g.JC)(s.data.type)}`}})}async function V(e){if("success"!==o.PK.elementsLoadingState)return!1;const t=(await M())?.element;if(Array.isArray(t))return!0;if(!t)return!1;const n=(0,c.Z)(o.Hb.document.tree,e,(0,c.kE)(t));return(0,r.isRight)(n)}async function W(e){const t=(await M())?.element;if(Array.isArray(t))return!1;if(!t)return!1;const n=(0,i.DY)(o.Hb.document.tree,e);return t.data.type===n?.data.type}},39715:(e,t,n)=>{function s(e){return{element:e}}n.d(t,{G:()=>s})},31737:(e,t,n)=>{async function s(){try{return await navigator.permissions.query({name:"clipboard-read",allowWithoutGesture:!1})}catch(e){return null}}async function a(){const e=await s();return{secure:window.isSecureContext,permission:e}}function i(e){const t=document.createElement("textarea");let n;t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",t.classList.add("breakdance-offscreen-input"),document.body.appendChild(t),t.focus(),t.select();try{n=document.execCommand("copy")}catch(s){n=!1}return document.body.removeChild(t),n}function o(e){return"INPUT"===e?.nodeName}function r(e){const t=["button","checkbox","hidden","file","radio","image","range","reset","submit","number","email","time"];return o(e)&&e.type&&!t.includes(e.type)||"TEXTAREA"===e.nodeName||"true"===e.contentEditable}function l(e){const t=e?.defaultView?.getSelection(),n=t?.rangeCount?t.getRangeAt(0):null;return!!n&&!n.collapsed}function c(e){const t=e.activeElement;return t&&(o(t)||r(t)||l(e))}n.d(t,{SD:()=>c,_G:()=>i,fn:()=>a})},11815:(e,t,n)=>{function s({namespace:e,phpClassName:t,uiIcon:n,tag:s,tagOptions:a,tagControlPath:i,name:o,className:r,category:l,badge:c,defaultProperties:d,defaultChildrenElements:u,designControls:p,contentControls:h,settingsControls:g,dependencies:m,settings:v,addPanelRules:f,actions:y,nestingRules:b,spacingBars:_,attributes:x,experimental:S,availableIn:P,order:C,additionalClasses:w,projectManagement:I,propertyPathsToWhitelistInFlatProps:k,propertyPathsToSsrElementWhenValueChanges:D}){return`<?php\n\nnamespace ${e};\n\nuse function Breakdance\\Elements\\c;\nuse function Breakdance\\Elements\\PresetSections\\getPresetSection;\n\n\n\\Breakdance\\ElementStudio\\registerElementForEditing(\n    "${e}\\\\${t}",\n    \\Breakdance\\Util\\getdirectoryPathRelativeToPluginFolder(__DIR__)\n);\n\nclass ${t} extends \\Breakdance\\Elements\\Element\n{\n    static function uiIcon()\n    {\n        return '${n}';\n    }\n\n    static function tag()\n    {\n        return '${s}';\n    }\n\n    static function tagOptions()\n    {\n        return ${a};\n    }\n\n    static function tagControlPath()\n    {\n        return ${i};\n    }\n\n    static function name()\n    {\n        return '${o}';\n    }\n\n    static function className()\n    {\n        return '${r}';\n    }\n\n    static function category()\n    {\n        return '${l}';\n    }\n\n    static function badge()\n    {\n        return ${c};\n    }\n\n    static function slug()\n    {\n        return __CLASS__;\n    }\n\n    static function template()\n    {\n        return file_get_contents(__DIR__ . '/html.twig');\n    }\n\n    static function defaultCss()\n    {\n        return file_get_contents(__DIR__ . '/default.css');\n    }\n\n    static function defaultProperties()\n    {\n        return ${d};\n    }\n\n    static function defaultChildren()\n    {\n        return ${u};\n    }\n\n    static function cssTemplate()\n    {\n        $template = file_get_contents(__DIR__ . '/css.twig');\n        return $template;\n    }\n\n    static function designControls()\n    {\n        return ${p};\n    }\n\n    static function contentControls()\n    {\n        return ${h};\n    }\n\n    static function settingsControls()\n    {\n        return ${g};\n    }\n\n    static function dependencies()\n    {\n        return ${m};\n    }\n\n    static function settings()\n    {\n        return ${v};\n    }\n\n    static function addPanelRules()\n    {\n        return ${f};\n    }\n\n    static public function actions()\n    {\n        return ${y};\n    }\n\n    static function nestingRule()\n    {\n        return ${b};\n    }\n\n    static function spacingBars()\n    {\n        return ${_};\n    }\n\n    static function attributes()\n    {\n        return ${x};\n    }\n\n    static function experimental()\n    {\n        return ${S};\n    }\n\n    static function availableIn()\n    {\n        return ${P};\n    }\n\n\n    static function order()\n    {\n        return ${C};\n    }\n\n    static function dynamicPropertyPaths()\n    {\n        return false;\n    }\n\n    static function additionalClasses()\n    {\n        return ${w};\n    }\n\n    static function projectManagement()\n    {\n        return ${I};\n    }\n\n    static function propertyPathsToWhitelistInFlatProps()\n    {\n        return ${k};\n    }\n\n    static function propertyPathsToSsrElementWhenValueChanges()\n    {\n        return ${D};\n    }\n}\n`}n.d(t,{i:()=>s})},17231:(e,t,n)=>{function s(e,t,n,s){return`<?php\n\nnamespace ${n};\n\nuse function Breakdance\\Elements\\c;\nuse function Breakdance\\Elements\\PresetSections\\getPresetSection;\n\n\\Breakdance\\Elements\\PresetSections\\PresetSectionsController::getInstance()->register(\n    "${e}",\n    ${t},\n    true,\n    ${s}\n);\n\n`}n.d(t,{C:()=>s})},1073:(e,t,n)=>{n.d(t,{T:()=>h,_:()=>p});var s=n(98851),a=n(75031),i=n(30902),o=n(45974),r=n(51168),l=n(31044),c=n(32521),d=n(65669),u=n(69137);async function p(){const e=await(0,s.D)({action:"breakdance_load_global_settings",decoder:a.az});return(0,i.pipe)(e,(0,o.fold)((e=>((0,r.UE)(e.map((e=>({...e,customNotificationToShow:e.customNotificationToShow?"INTERNAL_SERVER_ERROR"===e.customNotificationToShow.type?{...e.customNotificationToShow,keepOpen:!0}:e.customNotificationToShow:void 0})))),!1)),(e=>(u.n.ignore((()=>{l.cr.setGlobalSettings(e.globalSettings),l.cr.markCurrentGlobalSettingsAsUntouched()})),!0))))}async function h(){return(0,i.pipe)(await(0,s.D)({friendlyName:"Saving global settings to WordPress",action:"breakdance_save_global_settings",dataToPost:{globalSettings:(0,d.J)(l.cr.globalSettings)},decoder:c._4}),(0,o.fold)((e=>((0,r.UE)(e),!1)),(()=>(u.n.ignore((()=>l.cr.markCurrentGlobalSettingsAsUntouched())),!0))))}},93709:(e,t,n)=>{function s(e=!1){const t=document.querySelector(".properties-panel-search-box-wrap input");if(t?.focus(),e){const e=document.querySelector(".properties-panel-search-box-wrap .properties-panel-search-settings-toggle");if(e){const t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}}}function a(){const e=document.querySelector(".properties-panel-search-box-wrap .properties-panel-search-modified");if(e){const t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}}n.d(t,{O:()=>s,p:()=>a})},21115:(e,t,n)=>{n.d(t,{e:()=>a,n:()=>i});var s=n(13635);function a(e,t){const{x:n,y:a}=(0,s.eq)(),i=document.getElementById("iframe"),r=window.Breakdance.canvas.document.querySelector(".breakdance-canvas-right-click-menu");if(!r||!i)return;const{width:l,height:c}=i.getBoundingClientRect(),{menuWidth:d,menuHeight:u}=o(r),p=e+d+15>l?e-n-d:e-n,h=t+u+15>c?t-a-u:t-a;return{x:p,y:h}}function i(e,t){const n=document.querySelector(".breakdance-canvas-right-click-menu"),{menuWidth:s,menuHeight:a}=o(n),i=window.innerWidth,r=window.innerHeight,l=Math.min(e,i-s-10),c=Math.min(t,r-a-10);return{x:l,y:c}}function o(e){e.style.display="block";const{width:t,height:n}=e.getBoundingClientRect();return{menuWidth:t,menuHeight:n}}},37982:(e,t,n)=>{n.d(t,{DQ:()=>b,Fr:()=>y,_S:()=>v,c3:()=>_,y8:()=>m,zF:()=>x});var s=n(45974),a=n(21516),i=n(98851),o=n(3735),r=n(48973),l=n(51168),c=n(31044),d=n(65669),u=n(32521),p=n(95690),h=n(69137),g=n(39664);function m(e){return/^-?[.]+[_a-zA-Z]+[_a-zA-Z0-9-]*$/.test(e)}function v(e){try{document.createDocumentFragment().querySelector(e)}catch{return!1}return!0}function f(e){if("class"===e.type){if(!m(e.name))return void g.Z.log.message(`${e.name} is not a valid CSS class name.`)}else if(!v(e.name))return void g.Z.log.message(`${e.name} is not a valid CSS selector.`);c.cr.cssSelectors.find((t=>t.name===e.name))?g.Z.log.message(`${e.name} is already present.`):h.n.transaction((()=>c.cr.setSelectors([...c.cr.cssSelectors,e])),"Add Selector")}function y(e){f(e),(0,p.O_)("selectors")||x()}function b(e){if(!v(e))return(0,s.left)([`"${e}" is not a valid CSS selector.`]);const t=!!m(e);return(0,s.right)({name:e,type:t?"class":"custom",properties:{}})}async function _(){const e=await(0,i.D)({action:"breakdance_load_selectors",decoder:a.Ng});return(0,o.zG)(e,(0,r.g_)((e=>((0,l.UE)(e.map((e=>({...e,customNotificationToShow:e.customNotificationToShow?"INTERNAL_SERVER_ERROR"===e.customNotificationToShow.type?{...e.customNotificationToShow,keepOpen:!0}:e.customNotificationToShow:void 0})))),!1)),(e=>(h.n.ignore((()=>{c.cr.setSelectors(e),c.cr.markCurrentSelectorsAsUntouched()})),!0))))}async function x(){return(0,o.zG)(await(0,i.D)({friendlyName:"Saving selectors to WordPress",action:"breakdance_save_selectors",dataToPost:{selectors:(0,d.J)(c.cr.cssSelectors)},decoder:u._4}),(0,r.g_)((e=>((0,l.UE)(e),!1)),(()=>(h.n.ignore((()=>c.cr.markCurrentSelectorsAsUntouched())),!0))))}},98992:(e,t,n)=>{n.d(t,{FM:()=>o,nx:()=>r,sF:()=>l,u3:()=>i});var s=n(31381),a=n(31044);function i(e,t){return(0,s.K1)(((e,n)=>(n[e.id]=t,n)),e.root,{})}function o(e,t){const n=(0,s.DY)(e,t);if(n)return(0,s.J9)(((e,t)=>(t[e.id]=!0,t)),e,n,{})}function r(e){return!1===a.kD.structurePanelNodesExpandedState[e]}function l(e){return void 0===a.kD.structurePanelNodesExpandedState[e]||!0===a.kD.structurePanelNodesExpandedState[e]}},56658:(e,t,n)=>{n(86702);var s=n(20144),a=n(31096),i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(a.Z,{class:e.classList},[t("Notifications"),e.isBrowseModeEnabled?[t("BrowseMode",{key:"browser"})]:[t("Builder",{key:"builder"})]],2)},o=[],r=n(70655),l=n(38085),c=n(85450),d=n(44226),u=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-builder"},[e.errorsPresent?t("UnrecoverableErrors"):"normal"===e.interfaceState?t("BuilderLayout"):"loading"===e.interfaceState?t("Loading"):e._e()],1)},p=[],h=n(48403),g=n.n(h),m=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("AppLayout",{class:e.classList,scopedSlots:e._u([{key:"topbar",fn:function(){return[e.isPreviewMode||e.isSingularityMode?e._e():t("BuilderTopBar"),e.isPreviewMode?t("PreviewModeCloseButton"):e._e()]},proxy:!0},{key:"body",fn:function(){return[t("ClosingConfirmations"),t("DesignLibraryModal"),"breakdance"==e.builderMode?t("FirstTimeVisit"):e._e(),e.isSingularityMode?e._e():t("SidebarPanels",{directives:[{name:"show",rawName:"v-show",value:!e.isPreviewMode,expression:"!isPreviewMode"}],attrs:{panelState:e.leftSidebarPanelState,position:"left"}}),t("ComponentRootTagWarning"),e.isSingularityMode?e._e():t("IframeCanvasWrapper",{on:{loaded:e.onIframeLoaded}}),e.showTemplateDialog?t("TemplateDialog",{attrs:{"template-id":e.templateId,"template-name":e.templateName,templateIsFallback:e.isTemplateFallback,templatesPageUrl:e.templatesPageUrl}}):e._e(),e.showInvalidPostDialog?t("InvalidPostDialog"):e._e(),e.preferencesModalOpen?t("PreferencesModal",{attrs:{open:e.preferencesModalOpen},on:{"update:dialog":e.updatePreferencesModal}}):e._e(),e.keyboardShortcutsHelpModalOpen?t("KeyboardShortcutsHelpModal",{attrs:{open:e.keyboardShortcutsHelpModalOpen},on:{"update:dialog":e.updateKeyboardShortcutsHelpModal}}):e._e(),e.isSingularityMode?e._e():t("SidebarPanels",{directives:[{name:"show",rawName:"v-show",value:!e.isPreviewMode,expression:"!isPreviewMode"}],attrs:{panelState:e.rightSidebarPanelState,position:"right"}}),e.isSingularityMode?t("Singularity",{on:{loaded:e.onIframeLoaded}}):e._e(),e.elementStudioOpen?t("div",{staticClass:"breakdance-app-far-right-area vscroll-wrap"},[t("ElementStudio")],1):e._e()]},proxy:!0}])})},v=[],f=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"iframe-canvas-wrapper"},[t("IframeCanvas",{on:{loaded:function(t){return e.$emit("loaded")}}})],1)},y=[],b=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.iframeURL?t("IframeWrapper",{attrs:{"iframe-url":e.iframeURL,"iframe-preview-width":e.canvasPreviewWidth,"iframe-exited":e.iframeExited,"iframe-state":e.canvasState,"min-width":e.iframeMinWidth,"current-breakpoint":e.currentBreakpoint,"iframe-id":"iframe"},on:{previewWidthChange:e.handlePreviewWidthChange,previewWidthChangeWithAdjustmentBar:e.handlePreviewWidthChangeWithAdjustmentBar,iframeLoaded:e.mountCanvasInIframe,iframeUnloaded:e.setIframeAsExited,reloadWanted:e.reloadIframe,resetPreviewWidth:e.handleResetPreviewWidth}}):e._e()},_=[];const x='/* Copied from globals.scss, don\'t modify here directly */\n:root {\n  --white: #ffffff;\n  --black: #000000;\n\n  --blue50: #eff6ff;\n  --blue100: #dbeafe;\n  --blue200: #bfdbfe;\n  --blue300: #93c5fd;\n  --blue400: #60a5fa;\n  --blue500: #3b82f6;\n  --blue600: #2563eb;\n  --blue700: #1d4ed8;\n  --blue800: #1e40af;\n  --blue900: #1e3a8a;\n\n  --neutral-50: #f9fafb;\n  --neutral-100: #f4f5f7;\n  --neutral-200: #e5e7eb;\n  --neutral-300: #d2d6dc;\n  --neutral-400: #9fa6b2;\n  --neutral-500: #6b7280;\n  --neutral-600: #4b5563;\n  --neutral-700: #374151;\n  --neutral-800: #1f2937;\n  --neutral-900: #111827;\n\n  --red600: #dc2626;\n\n  --bde-canvas-font-family: system-ui, -apple-system, "Segoe UI", Roboto,\n    Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";\n\n  --bde-app-font-family: "Avenir", Helvetica, Arial, sans-serif;\n\n  --bde-onboarding-app-font-family: "Inter", Helvetica, Arial, sans-serif;\n}\n\n/* everything here should be prefixed with breakdance because\nthese styles are mixed with any fuckery from their theme */\n\n#breakdance_canvas {\n  position: relative;\n  /* note that .breakdance { position: relative { is loaded by default on the frontend,\n  therwise if the user uses absolute positioning, things could look different in the builder */\n  /* this is necessary cuz our outlines, titlebars, etc. are positioned relative to this element */\n}\n\n#breakdance_canvas.dragging,\n#breakdance_canvas.dragging * {\n  cursor: grabbing;\n}\n\n#iframe {\n  margin: 4px;\n  border: 1px solid #eee;\n  background-color: white;\n  width: 100%;\n  padding: 2px;\n  font-family: var(--bde-canvas-font-family);\n  position: relative;\n}\n\n.breakdance-icon {\n  display: flex;\n  justify-content: center;\n}\n\n.breakdance-icon > svg {\n  fill: currentColor;\n  width: 100%;\n  height: 100%;\n}\n\n@-moz-document url-prefix() {\n  .breakdance-icon > svg {\n    width: auto;\n    height: auto;\n  }\n}\n\n.dragTaller {\n  height: 6px;\n  width: 6px;\n  border: 2px solid grey;\n  border-radius: 50%;\n  background-color: white;\n  z-index: 2000;\n}\n\n.drag-dot {\n  width: 11px;\n  height: 11px;\n  border-radius: 50%;\n  background-color: rgb(32, 43, 67);\n  cursor: move;\n  position: absolute;\n  z-index: 100000;\n  pointer-events: auto;\n}\n\n.drag-dots-wrapper {\n  position: absolute;\n  pointer-events: none;\n}\n\n.drag-dot-top-left {\n  top: -5px;\n  left: -5px;\n}\n\n.drag-dot-top-middle {\n  top: -5px;\n  left: calc(50% - 5px);\n}\n\n.drag-dot-top-right {\n  top: -5px;\n  left: calc(100% - 5px);\n}\n\n.drag-dot-bottom-left {\n  top: calc(100% - 5px);\n  left: -5px;\n}\n\n.drag-dot-bottom-middle {\n  top: calc(100% - 5px);\n  left: calc(50% - 5px);\n}\n\n.drag-dot-bottom-right {\n  top: calc(100% - 5px);\n  left: calc(100% - 5px);\n}\n\n.drag-dot-middle-left {\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.drag-dot-middle-right {\n  top: 50%;\n  transform: translate(50%, -50%);\n  right: 0;\n}\n\n.spacing-bar {\n  background-color: rgba(0, 0, 255, 0.2);\n  opacity: 0;\n  position: absolute;\n  transition: 0.3s ease-in-out opacity;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10000;\n  min-height: 5px;\n}\n\n.spacing-bar:hover {\n  transition-delay: 0.2s;\n}\n\n.spacing-bar .spacing-bar-current-value {\n  font-family: monospace;\n  color: white;\n  font-size: 13px;\n  font-weight: 500;\n  background-color: #5555aa;\n  line-height: 1;\n  padding: 6px;\n  border-radius: 4px;\n  pointer-events: none;\n}\n\n.spacing-bar-inside-top {\n  min-height: 5px;\n  top: 0;\n  left: 0;\n  right: 0;\n}\n\n/* column drag */\n.drag-dots-left-width {\n  margin-right: 22px;\n}\n\n.drag-dots-column-widths-values {\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  left: -66px;\n  top: -8px;\n}\n\n.drag-dots-left-width,\n.drag-dots-right-width {\n  font-family: monospace;\n  color: white;\n  font-size: 13px;\n  font-weight: 500;\n  background-color: #5555aa;\n  line-height: 1;\n  padding: 6px;\n  border-radius: 4px;\n  width: 48px;\n}\n\n/* Node Chrome */\n\n.node-chrome,\n.node-titlebar-wrapper,\n.node-hover-controls {\n  transition: 0.3s opacity ease;\n}\n\n.node-chrome--hide-all,\n.node-chrome--hide-titlebar .node-titlebar-wrapper,\n.node-chrome--hide-hover .node-hover-controls {\n  opacity: 0;\n}\n\n/* Titlebars */\n\n.node-titlebar-wrapper {\n  position: absolute;\n  pointer-events: none;\n  direction: ltr;\n  z-index: 10000;\n  outline: 1px solid rgb(32, 43, 67);\n  user-select: none;\n}\n\n.node-titlebar {\n  pointer-events: auto;\n\n  display: flex;\n  align-items: center;\n  position: absolute;\n\n  bottom: 100%;\n  height: 28px;\n  padding: 0 10px;\n  border-radius: 4px 4px 0 0;\n\n  font-family: var(--bde-app-font-family);\n  font-size: 12px;\n  font-weight: 500;\n\n  letter-spacing: normal;\n  font-style: normal;\n  text-transform: none;\n\n  background-color: rgb(32, 43, 67);\n  color: white;\n  z-index: 1000000;\n\n  left: -1px;\n}\n\n.node-titlebar-is-draft-section {\n  background-color: rgb(122, 125, 133);\n}\n\n/*\n * Moving you mouse over the node titlebar or spacing bars\n * will trigger an erroneous mouseleave event on the element\n * you are dragging, when your mouse is not outside of it yet.\n */\n.dragging .spacing-bar,\n.dragging .node-titlebar {\n  pointer-events: none;\n}\n\n.node-titlebar-is-dragging,\n.breakdance--currently-dragging,\n.builder-element.breakdance--currently-dragging {\n  cursor: grabbing;\n}\n\n.breakdance--currently-dragging,\n.builder-element.breakdance--currently-dragging {\n  opacity: 0.5;\n}\n\n.node-titlebar-is-dragging {\n  /* color: rgb(32, 43, 67); */\n  background-color: rgb(167, 170, 177) !important;\n}\n\n.node-titlebar-wrapper-is-dragging {\n  outline: 1px solid rgb(167, 170, 177) !important;\n}\n\n.node-titlebar-wrapper .node-titlebar-button {\n  color: rgba(255, 255, 255, 0.85);\n  cursor: pointer;\n}\n\n.node-titlebar-button:hover {\n  color: rgba(255, 255, 255, 1);\n}\n\n.node-titlebar-title {\n  white-space: nowrap;\n  cursor: grab;\n  display: flex;\n  align-items: center;\n  font-style: normal;\n  letter-spacing: normal;\n}\n\n.node-titlebar-title .node-titlebar-button {\n  margin-right: 4px;\n  margin-left: 0px;\n}\n\n.node-titlebar-title .node-titlebar-button svg {\n  cursor: grab;\n}\n\n.node-titlebar-button-activate-parent {\n  margin-left: 6px;\n}\n\n.node-titlebar-button.node-titlebar-button-activate-parent > svg {\n  width: 10px;\n  height: 10px;\n}\n\n.node-titlebar-button {\n  margin-left: 9px;\n}\n\n.node-titlebar-button > svg {\n  width: 13px;\n  height: 13px;\n}\n\n.node-titlebar-margin-left {\n  margin-left: 20px;\n}\n\n/* Other */\n.breakdance-drag-placeholder-wrapper {\n  pointer-events: none;\n}\n\n.breakdance-drag-placeholder {\n  /* this won\'t work if something other than the window has position relative on it,\n  maybe we could mount the overlaid ui chrome inside the body, not in the canvas */\n\n  /* some months later\n  ... really? The above sounds like bullshit. I can put position relative\n  on all sorts of stuff and this works fine\n  so maybe we are already mounting the overlaid UI chrome in the right place?\n  */\n\n  position: absolute;\n  /* ---- */\n  background-color: var(--blue500);\n  z-index: 100001;\n  display: none;\n  border-radius: 2px;\n}\n\n.breakdance-drag-target-outline {\n  outline: 6px solid var(--blue300);\n  outline-offset: -6px;\n  z-index: 100000;\n  display: none;\n}\n\n.breakdance-children-pointer-events-none > * {\n  pointer-events: none;\n}\n\n/* global blocks */\n.breakdance-themeless-global-block {\n  cursor: default;\n}\n\n.breakdance-themeless-global-block::selection {\n  background-color: transparent;\n}\n\n.breakdance-themeless-global-block *::selection {\n  background-color: transparent;\n}\n\n.breakdance-foreign-documents-overlay {\n  font-family: var(--bde-canvas-font-family);\n  position: fixed;\n  z-index: 9999;\n  outline: 1px solid rgb(255 182 216);\n  outline-offset: -1px;\n  cursor: not-allowed;\n  background-color: rgba(0, 0, 0, 0.1);\n  display: none;\n}\n.breakdance-foreign-documents-overlay-titlebar-wrapper {\n  position: absolute;\n  top: 0;\n  left: 50%;\n}\n\n.breakdance-foreign-documents-overlay-titlebar {\n  position: relative;\n  left: -50%;\n  height: 28px;\n  padding: 0 10px;\n  font-family: var(--bde-canvas-font-family);\n  font-size: 12px;\n  font-weight: 500;\n  background-color: rgb(255 182 216);\n  border-radius: 0px 0px 4px 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  user-select: none;\n}\n\n.breakdance-foreign-documents-overlay-titlebar a {\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.breakdance-foreign-documents-overlay-titlebar a svg {\n  margin-left: 5px;\n  width: 14px;\n  height: 14px;\n}\n\n.breakdance-foreign-document-wrapper:hover\n  .breakdance-foreign-document-wrapper__overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n/* node hover controls */\n.node-hover-controls {\n  position: absolute;\n  pointer-events: none;\n  z-index: 9999;\n}\n\n.node-hover-controls--onboarding {\n  pointer-events: auto;\n}\n\n.node-hover-controls--onboarding.node-hover-controls--outline {\n  outline: 1px solid var(--neutral-200);\n}\n\n.node-hover-controls--outline {\n  outline: 1px solid rgb(177, 202, 255);\n}\n\n.node-hover-controls-button {\n  position: absolute;\n  pointer-events: auto;\n  flex-direction: column;\n\n  border-radius: 50%;\n\n  width: 40px;\n  height: 40px;\n\n  font-size: 20px;\n  font-weight: 700;\n  font-family: var(--bde-canvas-font-family);\n  background-color: rgb(32, 43, 67);\n  color: white;\n\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n}\n\n.node-hover-controls-bottom-button {\n  top: calc(100% - 20px);\n  left: calc(50% - 20px);\n}\n\n.node-hover-controls-right-button {\n  top: 50%;\n  left: calc(100% - 48px);\n  transform: translateY(-50%);\n}\n\n.node-hover-controls-menu {\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n  font-family: var(--bde-canvas-font-family);\n  font-size: 13px;\n  font-weight: 500;\n  flex-direction: column;\n  background-color: white;\n  color: black;\n  display: none;\n  position: absolute;\n  top: calc(100% - 20px);\n  left: 50%;\n  transform: translateX(-50%);\n  width: 170px;\n  overflow: hidden;\n}\n\n.node-hover-controls-menu > div {\n  padding: 9px 12px;\n  text-align: center;\n}\n\n.node-hover-controls-menu > div:hover {\n  background-color: #fafafa;\n}\n\n.node-hover-controls-menu--open {\n  display: flex;\n}\n\n/* We do the outlining with JS to add some logic to it*/\n*:focus[contenteditable="true"] {\n  border: none;\n  outline: none;\n}\n\n.node-content-editable {\n  position: absolute;\n  pointer-events: none;\n  z-index: 1000;\n  outline: 1px solid var(--blue500);\n}\n\n/* EMPTY CONTAINER */\n\n.breakdance-empty-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  min-height: 200px;\n}\n\n.breakdance-empty-container__add-element {\n  font-family: var(--bde-canvas-font-family);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n\n  user-select: none;\n\n  background-color: var(--blue50);\n  width: 42px;\n  height: 42px;\n  border-radius: 3px;\n  margin: 10px;\n}\n\n.breakdance-empty-container__add-element {\n  color: var(--blue500);\n}\n\n.breakdance-empty-container__add-element:hover {\n  background-color: var(--blue100);\n}\n\n.breakdance-empty-container__add-element--disabled,\n.breakdance-empty-container__add-element--disabled:hover {\n  cursor: not-allowed;\n  background: var(--grey-100);\n  color: var(--grey-300);\n}\n\n/* COLUMNS */\n\n.breakdance-empty-columns {\n  font-family: var(--bde-canvas-font-family);\n  box-sizing: border-box;\n  width: 100%;\n  overflow: hidden;\n  background-color: white;\n  border-radius: 5px;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1), 0 0 100px rgba(0, 0, 0, 0.1);\n  padding: 50px;\n}\n\n.breakdance-empty-columns-choices-heading {\n  font-weight: 500;\n  font-size: 16px;\n  text-align: center;\n  margin-bottom: 16px;\n  user-select: none;\n}\n\n.breakdance-empty-columns-choices {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.breakdance-empty-columns-choices-row {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n}\n\n.breakdance-empty-columns-column-icon-wrapper {\n  padding: 4px;\n  margin: 16px;\n  cursor: pointer;\n  border-radius: 3px;\n  transition: 0.3s ease-in-out filter;\n  filter: grayscale(90%);\n}\n\n.breakdance-empty-columns-column-icon-wrapper:hover {\n  filter: grayscale(0%);\n}\n\n.breakdance-empty-columns-column-icon {\n  width: 160px;\n  height: 90px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n}\n\n.breakdance-empty-columns-column-icon-column {\n  margin: 4px;\n  width: 100%;\n  background-color: #bfdbfe;\n  border-radius: 3px;\n}\n\n.breakdance--empty-container:not(.breakdance--active-element) {\n  outline: 2px solid #eee;\n  outline-offset: -2px;\n}\n\n/* ELEMENT */\n\n.builder-element {\n  cursor: default;\n}\n\n/* right click menu. This is  duplicated in the styles.iframecss\n\nWe need it also here because this is used both in the canvas and the structure panel\n*/\n\n.breakdance-canvas-right-click-menu {\n  -webkit-font-smoothing: antialiased;\n  position: absolute; /* absolute when in the canvas, fixed when in the structure panel */\n  z-index: 2147483647;\n  font-family: var(--bde-canvas-font-family);\n  background-color: var(--white-fixed, var(--white));\n  box-shadow: 0px 5px 5px -3px rgb(0 0 0 / 20%),\n    0px 8px 10px 1px rgb(0 0 0 / 14%), 0px 3px 14px 2px rgb(0 0 0 / 12%);\n  min-width: 200px;\n  border-radius: 6px;\n  padding: 6px 0px;\n  user-select: none;\n  letter-spacing: normal;\n  font-style: normal;\n  text-transform: none;\n}\n\n.breakdance-canvas-right-click-menu-item {\n  font-size: 13px;\n  font-weight: 400;\n  font-size: 12px;\n  min-height: 33px;\n  padding: 0 18px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  cursor: pointer;\n  color: #333;\n}\n\n.breakdance-canvas-right-click-menu-item-shortcut {\n  margin-left: auto;\n  font-size: 12px;\n  color: var(--grey-400);\n}\n\n.breakdance-canvas-right-click-menu-divider {\n  height: 1px;\n  background-color: #ddd;\n  margin-top: 4px;\n  margin-bottom: 4px;\n}\n\n.breakdance-canvas-right-click-menu-item:hover:not(\n    .breakdance-canvas-right-click-menu-item-disabled\n  ) {\n  background-color: #eee;\n}\n\n.breakdance-canvas-right-click-menu-item-disabled {\n  opacity: 0.5;\n  cursor: default !important;\n}\n\n.breakdance-canvas-right-click-dropdown {\n  position: relative;\n}\n\n.breakdance-canvas-right-click-submenu {\n  position: absolute;\n  left: 100%;\n  top: -20px;\n  z-index: 100000;\n  pointer-events: none;\n  opacity: 0;\n  min-width: 100px;\n  padding-top: 20px;\n  transition: 0.3s opacity ease;\n}\n\n.breakdance-canvas-right-click-submenu__arrow {\n  margin-left: auto;\n}\n\n.breakdance-canvas-right-click-submenu__content {\n  position: static !important;\n  translate: 4px 0;\n  overflow: hidden;\n  min-width: auto;\n}\n\n.breakdance-canvas-right-click-dropdown:hover\n  .breakdance-canvas-right-click-submenu {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.breakdance-canvas-right-click-dropdown--disabled,\n.breakdance-canvas-right-click-dropdown--disabled:hover {\n  pointer-events: none;\n}\n\n@media (prefers-color-scheme: dark) {\n  .breakdance-canvas-right-click-menu {\n    background-color: #1f2229;\n  }\n\n  .breakdance-canvas-right-click-menu-item {\n    color: var(--white-fixed, var(--white));\n  }\n\n  .breakdance-canvas-right-click-menu-item:hover:not(\n      .breakdance-canvas-right-click-menu-item-disabled\n    ) {\n    background-color: #2c3038;\n  }\n\n  .breakdance-canvas-right-click-menu-divider {\n    background-color: #4d535e;\n  }\n}\n\n/* Structure panel */\n.breakdance-canvas-right-click-menu--structure-panel {\n  min-width: 155px;\n}\n\n.breakdance-canvas-right-click-dropdown--inverted\n  .breakdance-canvas-right-click-submenu {\n  left: auto;\n  right: 100%;\n}\n\n.breakdance-canvas-right-click-dropdown--inverted\n  .breakdance-canvas-right-click-submenu__content {\n  translate: -4px 0;\n}\n\n/* Empty State */\n\n.breakdance-canvas-empty-element {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  padding: 30px;\n  text-align: center;\n  border: 2px dashed #c3c4c7;\n}\n\n.breakdance-canvas-empty-element__title {\n  font-size: 18px;\n  font-weight: normal;\n  color: #646970;\n  margin-bottom: 0;\n}\n\n/*** Warning ***/\n\n.bde-ssr-error {\n  background: rgb(254, 242, 242);\n  color: var(--red600);\n  padding: 12px;\n}\n\n/*** Loading ***/\n\n.breakdance-empty-ssr-message {\n  padding: 12px;\n  background: rgb(242, 242, 254);\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  color: black;\n  font-size: 13px;\n  font-weight: 500;\n  margin: 12px 0;\n}\n\n.breakdance-empty-ssr-message-error {\n  background: rgb(254, 242, 242);\n}\n\n.breakdance-empty-ssr-message small {\n  margin-top: 6px;\n  color: black;\n  font-size: 11px;\n  font-weight: 400;\n}\n\n.breakdance-element-is-updating:empty {\n  min-height: 80px;\n  max-width: 100%;\n  width: 400px;\n}\n\n.breakdance-element-is-updating {\n  background: linear-gradient(\n    90deg,\n    rgba(150, 150, 150, 0.1) 0%,\n    rgba(150, 150, 150, 0.3) 50%,\n    rgba(150, 150, 150, 0.1) 100%\n  );\n\n  background-size: 200% 100%;\n  animation: shimmer 1.5s infinite;\n  color: transparent !important;\n  border-radius: 4px;\n}\n\n.breakdance-element-is-updating > * {\n  opacity: 0 !important;\n}\n\n@keyframes shimmer {\n  0% {\n    background-position: -200% 0;\n  }\n  100% {\n    background-position: 200% 0;\n  }\n}\n\n/* Ghost Placeholder */\n\n.breakdance-drag-ghost-element {\n  position: fixed;\n  z-index: 999999;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 130px;\n  height: 40px;\n  padding-left: 5px;\n  padding-right: 5px;\n\n  background-color: var(--white);\n  border: 1px solid var(--blue600);\n  color: var(--blue600);\n  outline: none;\n\n  border-radius: 4px;\n  opacity: 0.8;\n\n  font-size: var(--text-sm);\n  font-weight: 500;\n  line-height: 1;\n\n  pointer-events: none;\n\n  transform: translateX(-50%) translateY(-10%);\n\n  display: none;\n}\n\n/* Right Click Dropdown */\n\n.breakdance-canvas-right-click-dropdown {\n  position: relative;\n}\n\n.breakdance-canvas-right-click-submenu {\n  position: absolute;\n  left: 100%;\n  top: -20px;\n  z-index: 100000;\n  pointer-events: none;\n  opacity: 0;\n  min-width: 100px;\n  padding-top: 20px;\n  transition: 0.3s opacity ease;\n  transition: 0.3s opacity ease;\n}\n\n.breakdance-canvas-right-click-submenu__arrow {\n  margin-left: auto;\n}\n\n.breakdance-canvas-right-click-submenu__content {\n  position: static !important;\n  position: static !important;\n  translate: 4px 0;\n  overflow: hidden;\n  min-width: auto;\n}\n\n.breakdance-canvas-right-click-dropdown:hover\n  .breakdance-canvas-right-click-submenu {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.breakdance-canvas-right-click-dropdown--disabled,\n.breakdance-canvas-right-click-dropdown--disabled:hover {\n  pointer-events: none;\n}\n\n@media (prefers-color-scheme: dark) {\n  .breakdance-canvas-right-click-menu {\n    background-color: #1f2229;\n  }\n\n  .breakdance-canvas-right-click-menu-item {\n    color: var(--white);\n  }\n\n  .breakdance-canvas-right-click-menu-item:hover:not(\n      .breakdance-canvas-right-click-menu-item-disabled\n    ) {\n    background-color: #2c3038;\n  }\n\n  .breakdance-canvas-right-click-menu-divider {\n    background-color: #4d535e;\n  }\n}\n\n.node-hover-onboarding-controls-buttons,\n.node-hover-onboarding-controls-add-section {\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  border: 1px solid var(--neutral-200);\n  border-left: 0;\n  border-radius: 0 0 4px 0;\n  overflow: hidden;\n}\n\n.node-hover-onboarding-controls-add-section {\n  border: 1px solid var(--neutral-200);\n  border-radius: 4px;\n  position: absolute;\n  bottom: -12px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.node-hover-onboarding-controls-buttons__button {\n  /* reset button CSS */\n  background-color: transparent;\n  border: none;\n  color: inherit;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n  padding: 0;\n  margin: 0;\n  text-align: left;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  /* styles */\n  background-color: #fff;\n  font-family: var(--bde-onboarding-app-font-family);\n  padding: 4px 12px;\n  gap: 4px;\n  font-size: 14px;\n  font-weight: 500;\n  border-right: 1px solid var(--neutral-200);\n}\n\n.node-hover-onboarding-controls-buttons__button[disabled] {\n  opacity: 0.5;\n}\n\n@keyframes spin {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.is-spinning {\n  animation: spin 0.8s infinite linear;\n}\n\n.node-hover-onboarding-controls-buttons__button:hover {\n  background-color: var(--neutral-100);\n}\n\n.node-hover-onboarding-controls-buttons__button:last-child {\n  border-right: 0;\n}\n\n.node-onboarding-palette-button__color {\n  width: 20px;\n  height: 16px;\n}\n\n.node-hover-onboarding-controls-palette-buttons {\n  display: flex;\n  border-right: 1px solid var(--neutral-200);\n}\n\n.node-hover-onboarding-controls-buttons__colors-wrap {\n  border: 1px solid var(--neutral-300);\n  border-radius: 4px;\n  overflow: hidden;\n  display: flex;\n}\n\n/* Inline Editor */\n.breakdance-inline-editor {\n  display: contents;\n}\n\n.breakdance-inline-editor__loader {\n  padding: 10px;\n  text-align: center;\n}\n\n.breakdance-inline-editor-backdrop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100vw;\n  background: rgba(0, 0, 0, 0.7);\n  pointer-events: auto;\n  z-index: 9999;\n}',S='.singularity-node-titlebar-wrapper {\n  outline: 4px solid rgb(43, 105, 205);\n}\n\n.node-singularity-hover-controls.node-hover-controls--outline {\n  outline: 4px solid rgba(43, 105, 205, 0.5);\n}\n\n.singularity-node-titlebar-wrapper .node-titlebar {\n  display: none;\n}\n\n.node-singularity-hover-controls {\n  z-index: 10001 !important;\n}\n\n.singularity-canvas-add-section-button {\n  pointer-events: auto;\n  background-color: rgb(43, 105, 205);\n  --addSectionButtonWidth: 160px;\n  --addSectionButtonHeight: 60px;\n  width: var(--addSectionButtonWidth);\n  height: var(--addSectionButtonHeight);\n  position: absolute;\n  bottom: calc(0px - var(--addSectionButtonHeight) / 2 + 2px);\n  left: calc(50% - var(--addSectionButtonWidth) / 2);\n  border-radius: 8px;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20px;\n  cursor: pointer;\n}\n\n.singularity-canvas-add-another-button {\n  pointer-events: auto;\n  background-color: rgb(43, 105, 205);\n  --addAnotherButtonWidth: 160px;\n  --addAnotherButtonHeight: 60px;\n  width: var(--addAnotherButtonWidth);\n  height: var(--addAnotherButtonHeight);\n  position: absolute;\n\n  right: calc(0px - var(--addAnotherButtonWidth) / 2 + 2px);\n  top: calc(50% - var(--addAnotherButtonHeight) / 2);\n\n  border-radius: 8px;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20px;\n  cursor: pointer;\n}\n\n.singularity-canvas-buttons-wrapper {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  transform: translate(-50%, -50%);\n}\n\n.singularity-canvas-edit-image-button,\n.singularity-canvas-edit-icon-button,\n.singularity-canvas-edit-link-button,\n.singularity-canvas-edit-content-properties-button,\n.singularity-canvas-edit-background-image-button {\n  pointer-events: auto;\n  background-color: rgb(43, 105, 205);\n  --addAnotherButtonWidth: 160px;\n  --addAnotherButtonHeight: 60px;\n  width: var(--addAnotherButtonWidth);\n  height: var(--addAnotherButtonHeight);\n  border-radius: 8px;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20px;\n  cursor: pointer;\n}\n\n.section-currently-rewriting-with-ai p,\n.section-currently-rewriting-with-ai h1,\n.section-currently-rewriting-with-ai h2,\n.section-currently-rewriting-with-ai h3,\n.section-currently-rewriting-with-ai h4,\n.section-currently-rewriting-with-ai h5,\n.section-currently-rewriting-with-ai h6,\n.section-currently-rewriting-with-ai span,\n.section-currently-rewriting-with-ai li,\n.section-currently-rewriting-with-ai a,\n.section-currently-rewriting-with-ai [data-content-editable-property-path] {\n  color: transparent !important;\n  pointer-events: none;\n  position: relative;\n}\n\n.section-currently-rewriting-with-ai p::before,\n.section-currently-rewriting-with-ai h1::before,\n.section-currently-rewriting-with-ai h2::before,\n.section-currently-rewriting-with-ai h3::before,\n.section-currently-rewriting-with-ai h4::before,\n.section-currently-rewriting-with-ai h5::before,\n.section-currently-rewriting-with-ai h6::before,\n.section-currently-rewriting-with-ai span::before,\n.section-currently-rewriting-with-ai li::before,\n.section-currently-rewriting-with-ai a::before,\n.section-currently-rewriting-with-ai\n  [data-content-editable-property-path]::before {\n  content: "";\n  display: block;\n  background-color: #d1d1d1;\n  border-radius: 4px;\n  width: 100%;\n  height: 1em;\n  animation: shimmer 1.2s infinite linear;\n  background-image: linear-gradient(\n    90deg,\n    #d1d1d1 0%,\n    #ffffff 40%,\n    #d1d1d1 80%\n  );\n  background-size: 200% 100%;\n}\n\n@keyframes shimmer {\n  0% {\n    background-position: -200% 0;\n  }\n  100% {\n    background-position: 200% 0;\n  }\n}\n\n.breakdance-foreign-documents-overlay--singularity-mode {\n  outline: 4px solid rgb(43, 105, 205);\n  outline-offset: -4px;\n  cursor: pointer;\n}\n\n.breakdance-foreign-documents-overlay--singularity-mode\n  .breakdance-foreign-documents-overlay-titlebar {\n  transform: translate(-50%, -50%);\n  position: absolute;\n  background-color: rgb(43, 105, 205);\n  --addSectionButtonWidth: 160px;\n  --addSectionButtonHeight: 60px;\n  width: var(--addSectionButtonWidth);\n  height: var(--addSectionButtonHeight);\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.breakdance-foreign-documents-overlay--singularity-mode\n  .breakdance-foreign-documents-overlay-titlebar a, .breakdance-foreign-documents-overlay--singularity-mode\n  .breakdance-foreign-documents-overlay-titlebar a:hover {\n  color: white;\n  font-size: 20px;\n\n  }\n\n.breakdance-foreign-documents-overlay--singularity-mode\n  .breakdance-foreign-documents-overlay-titlebar-wrapper {\n  top: 50%;\n  left: 50%;\n}\n\n\n.breakdance-foreign-documents-overlay--singularity-mode .breakdance-icon {\n  display: none;\n}\n\n';var P=n(42406),C=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-chrome",class:e.hideClass},[e.isOnboardingMode?[t("NodeOnboardingHoverControls")]:e.isSingularityMode?[t("NodeSingularityActive"),t("NodeSingularityHover"),t("NodeSingularityContentEditable")]:[t("div",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]},[t("SpacingBars"),t("ColumnDragSizer")],1),t("NodeTitlebar"),t("NodeHoverControls"),t("NodeContentEditable")]],2)},w=[],I=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"drag-dots-wrapper",style:e.dragDotsWrapperPositionStyle},[t("div",{staticClass:"drag-dot drag-dot-top-left",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-top-middle",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-top-right",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-bottom-right",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-bottom-middle",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-bottom-left",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-middle-left",on:{mousedown:e.dragStart}}),t("div",{staticClass:"drag-dot drag-dot-middle-right",on:{mousedown:e.dragStart}})])},k=[],D=n(13635);function E(e){return(t,n)=>{if(c.kD.activeElementId){const s=(e,t)=>e+t>=0?e+t:0;if("xProperty"in e&&e.xProperty){const a=e.xProperty.replace("%%CURRENTMEDIAQUERY%%",c.kD.currentBreakpoint.id),i=s(t.width,n.lastXChange);c.Hb.throttledPropertyChanged({elementId:c.kD.activeElementId,path:a,value:{number:i,unit:"px"},meta:{snapshotLabel:"Resize element"}})}if("yProperty"in e&&e.yProperty){const a=e.yProperty.replace("%%CURRENTMEDIAQUERY%%",c.kD.currentBreakpoint.id),i=s(t.height,n.lastYChange);c.Hb.throttledPropertyChanged({elementId:c.kD.activeElementId,path:a,value:{number:i,unit:"px"},meta:{snapshotLabel:"Resize element"}})}}}}var T=n(34676),Z=n(12721);const A={xProperty:"design.size.width.%%CURRENTMEDIAQUERY%%"};let B=class extends s.ZP{constructor(){super(...arguments),this.mouseDragInfo=!1,this.dragDotsWrapperPositionStyle={display:"none"},this.dragCallback=!1,this.unsubscribeFromStorePositionDotsWrapper=()=>{},this.easyEvent=new Z.hF}nextTickPositionDragDotsWrapper(){(0,T.n)((()=>this.positionDragDotsWrapper()))}beforeMount(){this.positionDragDotsWrapper(),this.unsubscribeFromStorePositionDotsWrapper=this.$store.subscribe(this.nextTickPositionDragDotsWrapper),window.addEventListener("resize",this.nextTickPositionDragDotsWrapper)}beforeDestroy(){this.unsubscribeFromStorePositionDotsWrapper(),window.removeEventListener("resize",this.nextTickPositionDragDotsWrapper)}dragStart(e){e.preventDefault(),e.stopPropagation(),this.mouseDragInfo={startX:e.clientX,startY:e.clientY,currentX:e.clientX,currentY:e.clientY,lastXChange:0,lastYChange:0,totalXChange:0,totalYChange:0},this.dragCallback=E(A),this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd)}dragging(e){if((0,Z.Pm)(e)){e.preventDefault(),e.stopPropagation();const t=(0,D.nX)();if(!t||!this.mouseDragInfo)return;this.mouseDragInfo={...this.mouseDragInfo,currentX:e.clientX,currentY:e.clientY,lastXChange:e.clientX-this.mouseDragInfo.currentX,lastYChange:e.clientY-this.mouseDragInfo.currentY,totalXChange:e.clientX-this.mouseDragInfo.startX,totalYChange:e.clientY-this.mouseDragInfo.startY},this.dragCallback&&this.dragCallback(t,this.mouseDragInfo),this.positionDragDotsWrapper()}}dragEnd(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.mouseDragInfo=!1,this.dragCallback=!1}positionDragDotsWrapper(){c.kD.activeElementId||(this.dragDotsWrapperPositionStyle={display:"none"});const e=(0,D.nX)();if(!e)return;const{x:t,y:n,width:s,height:a}=e;this.dragDotsWrapperPositionStyle={position:"absolute",top:n.toString()+"px",left:t.toString()+"px",width:s.toString()+"px",height:a.toString()+"px"}}};B=(0,r.gn)([(0,l.wA)({})],B);const M=B,O=M;var L=n(1001),R=(0,L.Z)(O,I,k,!1,null,null,null);const N=R.exports;var F=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",e._l(e.bars,(function(n,s){return t("SpacingBar",{key:s,attrs:{bar:n,isDragging:e.isDragging,isActiveBar:e.clickedHandle===n.location},on:{mousedown:function(t){return e.dragStart(t,n.location)}}})})),1)},$=[],V=n(23493),W=n.n(V);let H=class extends s.ZP{constructor(){super(...arguments),this.clickedHandle=!1,this.mouseDragInfo=!1,this.throttledDragging=W()(this.dragging,60),this.unsubscribeFromStorePositionWrapper=()=>{},this.wrapperPositionStyle={display:"none"}}dragCallback(e,t,n){console.warn("To use DragMixin you must implement dragCallback()")}dragEndCallback(){}dragStartCallback(e){}dragStart(e,t){e.stopPropagation(),"string"===typeof t?(c.kD.setDragMixinDragging(!0),this.clickedHandle=t,this.mouseDragInfo={startX:e.clientX,startY:e.clientY,currentX:e.clientX,currentY:e.clientY,lastXChange:0,lastYChange:0,totalXChange:0,totalYChange:0},window.Breakdance.canvas.document.addEventListener("mousemove",this.throttledDragging),window.Breakdance.canvas.document.addEventListener("mouseup",this.dragEnd),this.dragStartCallback(t)):console.warn("To use drag mixin you must specify a handle parameter (string) as the second param of your mousedown=dragStart, i.e. mousedown=dragStart($event, 'myhandle')")}dragging(e){e.preventDefault(),e.stopPropagation(),requestAnimationFrame((()=>this._draggingFunc(e)))}_draggingFunc(e){const t=(0,D.nX)();t&&this.mouseDragInfo&&(this.mouseDragInfo={...this.mouseDragInfo,currentX:e.clientX,currentY:e.clientY,lastXChange:e.clientX-this.mouseDragInfo.currentX,lastYChange:e.clientY-this.mouseDragInfo.currentY,totalXChange:e.clientX-this.mouseDragInfo.startX,totalYChange:e.clientY-this.mouseDragInfo.startY},this.clickedHandle&&this.dragCallback(t,this.mouseDragInfo,this.clickedHandle),this.positionWrapper(),(0,D.a7)())}dragEnd(e){e.preventDefault(),e.stopPropagation(),window.Breakdance.canvas.document.removeEventListener("mousemove",this.throttledDragging),window.Breakdance.canvas.document.removeEventListener("mouseup",this.dragEnd),this.mouseDragInfo=!1,this.clickedHandle=!1,c.kD.setDragMixinDragging(!1),this.dragEndCallback(),(0,D.a7)()}get isDragging(){return!!this.mouseDragInfo}nextTickPositionsWrapper(){(0,T.n)(this.positionWrapper)}beforeMount(){this.positionWrapper(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.nextTickPositionsWrapper),window.addEventListener("resize",this.nextTickPositionsWrapper)}beforeDestroy(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.nextTickPositionsWrapper)}positionWrapper(){if(!c.kD.activeElementId)return void(this.wrapperPositionStyle={display:"none"});const e=(0,D.nX)();if(!e)return;const{x:t,y:n,width:s,height:a}=e;this.wrapperPositionStyle={position:"absolute",top:`${n}px`,left:`${t}px`,width:`${s}px`,height:`${a}px`}}};H=(0,r.gn)([l.wA],H);var z=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"spacing-bar",class:e.classList,style:e.style,on:{mousedown:function(t){return e.$emit("mousedown",t)},mouseover:function(t){e.isHovering=!0},mouseleave:function(t){e.isHovering=!1}}},[t("div",{staticClass:"spacing-bar-current-value"},[e._v(e._s(e.value)+"px")])])},U=[],K=n(27361),G=n.n(K);function q(e,t){const n=j(e,t);return n||0}function j(e,t){if(!c.kD.activeElement)return!1;const n=Y(e,c.kD.currentBreakpoint.id);let s=parseInt(G()(c.kD.activeElement,`data.properties.${n}.number`));s||(s=0);let a=G()(c.kD.activeElement,`data.properties.${n}.unit`);if(a||(a="px"),"px"!==a&&0!==s){const e=(0,D.lx)(c.kD.activeElement);if(!e)return!1;const n=parseInt(e.getPropertyValue(t));return n}return s}function Y(e,t){return e.replace("%%BREAKPOINT%%",t)}var X=n(31044);let Q=class extends s.ZP{constructor(){super(...arguments),this.isHovering=!1,this.resizeObserver=new ResizeObserver(this.onActiveElementResize),this.activeElementPositionAndSize=null,this.valueAtMomentOfElementPositionAndSizeCalculation=null}get value(){return q(this.bar.affectedPropertyPath,this.bar.cssProperty)}get activeElement(){return X.kD.activeElement}updateActiveElementPositionWhenItsPresent(){const e=this.activeElement;if(e){const t=(0,D.dq)(e);if(t)return this.activeElementPositionAndSize=(0,D.o7)(t)||null,void(this.valueAtMomentOfElementPositionAndSizeCalculation=this.value)}this.activeElementPositionAndSize=null,this.valueAtMomentOfElementPositionAndSizeCalculation=null}mounted(){this.intervalHandle=setInterval((()=>{(0,T.n)(this.updateActiveElementPositionWhenItsPresent)}),50)}handleActiveElementChange(){this.updateActiveElementPositionWhenItsPresent(),this.resizeObserver.disconnect();const e=this.activeElement;if(e){const t=(0,D.dq)(e);t&&(this.resizeObserver.observe(t,{box:"border-box"}),t.parentElement&&this.resizeObserver.observe(t.parentElement,{box:"border-box"}))}}onActiveElementResize(){this.updateActiveElementPositionWhenItsPresent()}get classList(){return[`spacing-bar-${this.bar.location}`]}get style(){return this.isDragging&&this.isActiveBar||this.isHovering&&!this.isDragging?{...this.barStyle,opacity:1}:this.barStyle}get barStyle(){const e=this.activeElementPositionAndSize;if(!e)return{};const t=this.valueAtMomentOfElementPositionAndSizeCalculation||this.value,{width:n,height:s,y:a,x:i}=e,o=t>5?t:5;switch(this.bar.location){case"inside-top":return{width:`${n}px`,height:`${o}px`,top:`${a}px`,left:`${i}px`,cursor:"row-resize"};case"outside-top":return{width:`${n}px`,height:`${o}px`,top:`${-o+a}px`,left:`${i}px`,cursor:"row-resize"};case"inside-bottom":return{width:`${n}px`,height:`${o}px`,top:a+s-o+"px",left:`${i}px`,cursor:"row-resize"};case"outside-bottom":return{width:`${n}px`,height:`${o}px`,top:`${a+s}px`,left:`${i}px`,cursor:"row-resize"};case"inside-left":return{width:`${o}px`,top:`${a}px`,height:`${s}px`,left:`${i}px`,cursor:"col-resize"};case"outside-left":return{width:`${o}px`,top:`${a}px`,height:`${s}px`,left:i-o+"px",cursor:"col-resize"};case"inside-right":return{width:`${o}px`,top:`${a}px`,height:`${s}px`,left:i+n-o+"px",cursor:"col-resize"};case"outside-right":return{width:`${o}px`,top:`${a}px`,height:`${s}px`,left:`${i+n}px`,cursor:"col-resize"};default:return{}}}beforeDestroy(){this.resizeObserver.disconnect(),this.intervalHandle&&clearInterval(this.intervalHandle)}};(0,r.gn)([(0,l.fI)()],Q.prototype,"bar",void 0),(0,r.gn)([(0,l.fI)()],Q.prototype,"isDragging",void 0),(0,r.gn)([(0,l.fI)()],Q.prototype,"isActiveBar",void 0),(0,r.gn)([(0,l.RL)("activeElement",{immediate:!0})],Q.prototype,"handleActiveElementChange",null),Q=(0,r.gn)([(0,l.wA)({})],Q);const J=Q,ee=J;var te=(0,L.Z)(ee,z,U,!1,null,null,null);const ne=te.exports;var se=n(84274),ae=n(40681),ie=n(54120);let oe=class extends((0,l.Wr)(H)){constructor(){super(...arguments),this.originalValue=!1}get bars(){return this.activeElementSpacingBars?this.activeElementSpacingBars:[]}get activeElementSpacingBars(){return!!c.kD.activeElement&&(!(0,ie.CO)(c.kD.activeElement.id)&&c.PK.element(c.kD.activeElement.data.type).spacingBars)}dragCallback(e,t,n){const s=this.bars.filter((e=>e.location===n)).pop();if(!c.kD.activeElementId||!s)return;let a=0,i=j(s.affectedPropertyPath,s.cssProperty);switch(i||(i=0),this.originalValue||(this.originalValue=i),n){case"inside-top":case"inside-bottom":case"outside-top":case"outside-bottom":a=this.originalValue+t.totalYChange;break;case"inside-left":case"inside-right":case"outside-left":case"outside-right":a=this.originalValue+t.totalXChange;break}a<0&&(a=0);const o=Y(s.affectedPropertyPath,c.kD.currentBreakpoint.id);c.Hb.throttledPropertyChanged({elementId:c.kD.activeElementId,path:o,value:{number:a,unit:"px",style:`${a}px`},meta:{snapshotLabel:se.AZ.forElementByTreeNodeId(c.kD.activeElementId,o,ae.P.CHANGE)}})}dragEndCallback(){this.originalValue=!1}};oe=(0,r.gn)([(0,l.wA)({components:{SpacingBar:ne}})],oe);const re=oe,le=re;var ce=(0,L.Z)(le,F,$,!1,null,null,null);const de=ce.exports;var ue=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.shouldShow?t("div",{staticClass:"drag-dots-wrapper",style:e.wrapperPositionStyle},[e.isNotFarLeftColumn?t("div",{staticClass:"drag-dot drag-dot-middle-left",on:{mousedown:function(t){return e.dragStart(t,"left")}}},[e.resizedWidths&&"left"in e.resizedWidths?t("div",{staticClass:"drag-dots-column-widths-values"},[t("div",{staticClass:"drag-dots-left-width"},[e._v(" "+e._s(e.resizedWidths.left.siblingWidth)+"% ")]),t("div",{staticClass:"drag-dots-right-width"},[e._v(" "+e._s(e.resizedWidths.left.resizedWidth)+"% ")])]):e._e()]):e._e(),e.isNotFarRightColumn?t("div",{staticClass:"drag-dot drag-dot-middle-right",on:{mousedown:function(t){return e.dragStart(t,"right")}}},[e.resizedWidths&&"right"in e.resizedWidths?t("div",{staticClass:"drag-dots-column-widths-values"},[t("div",{staticClass:"drag-dots-left-width"},[e._v(" "+e._s(e.resizedWidths.right.resizedWidth)+"% ")]),t("div",{staticClass:"drag-dots-right-width"},[e._v(" "+e._s(e.resizedWidths.right.siblingWidth)+"% ")])]):e._e()]):e._e()]):e._e()},pe=[],he=n(31381),ge=n(38020);function me(e){const t=fe(e),n=ye(e);if(!t||!n)return!1;const s=(0,ge.v)(t/n*100);return s||!1}function ve(e,t,n){const s=n,a=ye(e);if(!s||!a)return!1;const i=(s+t)/a*100;return(0,ge.v)(i)}function fe(e){const t=(0,D.Sv)(e);return!!t&&t.width}function ye(e){const t=(0,he.Lf)(c.Hb.document.tree,e.id);if(t){const e=(0,D.Sv)(t);if(e)return e.width}return!1}function be(e){const t=(0,D.lx)(e);if(!t)return!1;const n=parseInt(t.getPropertyValue("padding-left")),s=parseInt(t.getPropertyValue("padding-right"));if(Number.isNaN(n)||Number.isNaN(s))return!1;const a=ye(e);if(!a)return!1;const i=(n+s)/a*100;return Math.ceil(i)}var _e=n(884),xe=n(92277);const Se=20;function Pe(e,t,n,s){const a="right"===s?t+1:t-1,i=e.children[a],o=e.children[t];if(!o||!i)return!1;if(t<0||a<0)return!1;const r=be(o),l=be(i);let c=Se;!1!==r&&!1!==l&&(c=Math.max(r,l));let d=100-(0,_e.IQ)(o)-(0,_e.IQ)(i),u=100-d-n;return n<c&&(n=c,u=100-d-n),u<c&&(u=c,n=100-d-u),d>100-2*c&&(n=(100-d)/2,u=(100-d)/2),n=(0,ge.v)(n),u=(0,ge.v)(u),d=(0,ge.v)(d),n+u+d!==100&&(u=100-d-n,u=(0,ge.v)(u)),(0,xe.l)(o.id,n),(0,xe.l)(i.id,u),(0,_e.wr)(e),{resizedWidth:n,siblingWidth:u}}var Ce=n(69137),we=n(57088);let Ie=class extends((0,l.Wr)(H)){constructor(){super(...arguments),this.resizedWidths=!1,this.widthOnDragStart=!1}get columnsAreNotResizeableAtBaseBreakpoint(){if(!this.activeColumn)return!1;const e=(0,_e.fy)(this.activeColumn);if(!e)return!1;const t="design.layout.stack_vertically",n="design.layout.fifty_percent",s=G()(e.data.properties,t,!1),a=G()(e.data.properties,n,!1);return s===we.Wp||a===we.Wp}get shouldShow(){return c.kD.currentBreakpoint.id===we.Wp&&this.activeColumn&&!this.columnsAreNotResizeableAtBaseBreakpoint}dragStartCallback(){Ce.n.startTransaction()}dragCallback(e,t,n){if(!this.activeColumn||"left"!==n&&"right"!==n)return;const s=(0,he.E)(c.Hb.document.tree,this.activeColumn.id),a=(0,he.Lf)(c.Hb.document.tree,this.activeColumn.id);if(!1===s||!1===a)return;let i=0;if(this.widthOnDragStart||(this.widthOnDragStart=fe(this.activeColumn)),!this.widthOnDragStart)return;i="right"===n?t.totalXChange:-1*t.totalXChange;const o=ve(this.activeColumn,i,this.widthOnDragStart);if(!o)return;const r=Pe(a,s,o,n);r&&(this.resizedWidths={[n]:{resizedWidth:Number(r.resizedWidth.toFixed(2)),siblingWidth:Number(r.siblingWidth.toFixed(2))}})}dragEndCallback(){this.resizedWidths=!1,this.widthOnDragStart=!1,Ce.n.endTransaction("Resizing column")}get isNotFarLeftColumn(){if(!this.activeColumn)return!1;const e=(0,he.E)(c.Hb.document.tree,this.activeColumn.id);return!1!==e&&0!==e}get isNotFarRightColumn(){if(!this.activeColumn)return!1;const e=(0,he.E)(c.Hb.document.tree,this.activeColumn.id),t=(0,he.Lf)(c.Hb.document.tree,this.activeColumn.id);return!1!==e&&!1!==t&&e!==t.children.length-1}get activeColumn(){return!!(0,_e.cG)(c.kD.activeElement)&&c.kD.activeElement}get columnWidthInPercent(){return!!this.activeColumn&&me(this.activeColumn)}};Ie=(0,r.gn)([(0,l.wA)({})],Ie);const ke=Ie,De=ke;var Ee=(0,L.Z)(De,ue,pe,!1,null,null,null);const Te=Ee.exports;var Ze=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"node-titlebar-wrapper":!0,"node-titlebar-wrapper-is-dragging":e.isDragging},style:e.wrapperPositionStyle},[t("div",{staticClass:"node-titlebar",class:e.titlebarClasses,style:e.titlebarPositionStyle,on:{contextmenu:e.openContextMenu}},[e.isDragAndDropEnabled?t("OnCanvasDragHandle",{attrs:{node:e.node}},[t("span",{staticClass:"node-titlebar-title",attrs:{title:"Drag element"}},[t("span",{staticClass:"node-titlebar-button"},[t("Icon",{attrs:{icon:"breakdance"===e.builderMode?"MaximizeIcon":"GripDotsVerticalIcon",size:"breakdance"===e.builderMode?11:12}})],1),t("span",[e._v(" "+e._s(e.elementTitle)+" ")]),e.isDraftSection?t("span",{staticStyle:{"margin-left":"4px"}},[e._v(" (Draft) ")]):e._e()])]):[e._v(e._s(e.elementTitle))],e.hasParent?t("span",{staticClass:"node-titlebar-button node-titlebar-button-activate-parent",attrs:{title:"Select parent"},on:{click:e.activateParent}},[t("Icon",{attrs:{icon:"ChevronDownIcon",rotate:"180",size:"10"}})],1):e._e(),e.hasSSr?t("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],class:{"node-titlebar-button":!0,"node-titlebar-margin-left":!0,"breakdance-node-titlebar-loading-spinner":e.isElementUpdating},attrs:{title:"Refresh element"},on:{click:e.refreshSsr}},[t("Icon",{attrs:{icon:"RotateIcon",size:"13"}})],1):e._e(),t("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],class:{"node-titlebar-button":!0,"node-titlebar-margin-left":!e.hasSSr},attrs:{title:"Duplicate"},on:{click:e.duplicate}},[t("Icon",{attrs:{icon:"breakdance"===e.builderMode?"DuplicateIcon":"DuplicateSolidIcon",size:"13"}})],1),t("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],staticClass:"node-titlebar-button",attrs:{title:"Remove"},on:{click:e.remove}},[t("Icon",{attrs:{icon:"breakdance"===e.builderMode?"TrashIcon":"TrashSolidIcon",size:"12"}})],1)],2)])},Ae=[],Be=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{on:{mousedown:function(t){return t.stopPropagation(),e.updateCurrentlyDraggingElementId.apply(null,arguments)}}},[e._t("default")],2)},Me=[],Oe=n(7824),Le=n(53809),Re=n(9950);let Ne=class extends l.w3{constructor(){super(...arguments),this.lastSubmittedDrag=!1,this.easyEvent=new Z.hF}get nestingPermissions(){return(0,Re.kE)(this.node)}get canvasElementDraggedId(){return c.kD.currentlyDraggingCanvasElementId}watchCanvasElementDraggedId(){this.dragStart()}updateCurrentlyDraggingElementId(){c.kD.setCanvasElementDraggedId(this.node.id)}dragStart(){if(!c.kD.hasFullAccess||!this.canvasElementDraggedId)return;this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd);const e=(0,he.Lf)(c.Hb.document.tree,this.node.id);e&&this.setCanvasDragPlaceholderPosition({nodeIndex:-1,position:"before",parentId:e.id,onlyShowTargetOutline:!0}),(0,D.a7)()}setCanvasDragPlaceholderPosition(e){c.kD.setCanvasDragPlaceholderPosition(e)}dragging(e){if((0,Z.Pm)(e)){e.preventDefault(),e.stopPropagation();const t=e.clientX,n=e.clientY;c.kD.setDragMousePosition({x:t,y:n});const s=(0,Oe.Qf)(t,n);if(void 0===s)return;const a=(0,he.DY)(c.Hb.document.tree,s);if(void 0===a)return;const i=(0,Re.PN)(c.Hb.document.tree,a,this.nestingPermissions);if(!i)return;const o=i.id;if(s===this.node.id||(0,he.K1)(((e,t)=>(t||(t=e.children.find((e=>s===e.id))),t)),this.node,void 0))this.setCanvasDragPlaceholderPosition({nodeIndex:-1,position:"before",parentId:o,onlyShowTargetOutline:!0}),this.setDropPosition(!1);else if(s===o)this.handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget(t,n,s,this.node.id,i);else if(i.children.find((e=>s===e.id)))this.handleDragWhenMouseIsOverAChildOfTheDropTarget(t,n,s,this.node.id,i);else if((0,he.K1)(((e,t)=>(t||(t=e.children.find((e=>s===e.id))),t)),i,void 0)){const e=(0,Oe.dD)(t,n).reduce(((e,t)=>e||i.children.find((e=>e.id===t))),void 0);e&&this.handleDragWhenMouseIsOverAChildOfTheDropTarget(t,n,e.id,this.node.id,i)}}}dragEnd(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.lastSubmittedDrag&&c.Hb.moveElement(this.lastSubmittedDrag),c.kD.setDragMousePosition(null),this.setCanvasDragPlaceholderPosition(null),this.lastSubmittedDrag=!1,c.kD.endCanvasElementDrag(),(0,D.a7)()}handleDragWhenMouseIsOverAChildOfTheDropTarget(e,t,n,s,a,i=!1){const o=(0,Oe.qE)(a),r="before"===(0,Oe.dv)(e,t,n,o)?"before":"after",l=a.children.map((e=>e.id)).filter((e=>e!==s)),c=a.children.map((e=>e.id)).findIndex((e=>e===n));let d=l.findIndex((e=>e===n));"after"===r&&d++,!0===i?(this.setPlaceholder({dropTargetId:a.id,dragPlaceholderIndex:c,beforeOrAfter:r}),this.setDropPosition(!1)):(this.setPlaceholder({dropTargetId:a.id,dragPlaceholderIndex:c,beforeOrAfter:r}),this.setDropPosition({draggedElementId:s,droppedOnElementId:a.id,index:d}))}handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget(e,t,n,s,a){if(0===a.children.length)this.setPlaceholder({dropTargetId:a.id,dragPlaceholderIndex:0,beforeOrAfter:"after"}),this.setDropPosition({draggedElementId:s,droppedOnElementId:a.id,index:0});else{const n=a.children.map(((e,t)=>({positionAndSize:(0,D.Sv)(e,"absolute"),index:t,id:e.id}))).filter((e=>e.positionAndSize)).map((e=>({min:{x:e.positionAndSize.x,y:e.positionAndSize.y},max:{x:e.positionAndSize.x+e.positionAndSize.width,y:e.positionAndSize.y+e.positionAndSize.height},nodeIndex:e.index,id:e.id}))).map((n=>({...n,distance:(0,Le.T)(n,{x:e,y:t})}))),i=n.reduce(((e,t)=>e.distance<t.distance?e:t)),o=(i.min.x+i.max.x)/2,r=(i.min.y+i.max.y)/2,l=o>e?"left":"right",c=r>t?"above":"below",d=(0,Oe.qE)(a);let u;if(u="vertical"===d?"above"===c?"before":"after":"left"===l?"before":"after",i.id===s)return this.setPlaceholder({dropTargetId:a.id,dragPlaceholderIndex:i.nodeIndex,beforeOrAfter:u}),void this.setDropPosition(!1);const p=a.children.map((e=>e.id)).filter((e=>e!==s));let h=p.findIndex((e=>e===i.id));"after"===u&&h++,this.setPlaceholder({dropTargetId:a.id,dragPlaceholderIndex:i.nodeIndex,beforeOrAfter:u}),this.setDropPosition({draggedElementId:s,droppedOnElementId:a.id,index:h})}}setPlaceholder(e){(0,Re.xJ)(c.Hb.document.tree,this.node,e.dropTargetId)&&this.movePlaceholder(e.dropTargetId,e.dragPlaceholderIndex,e.beforeOrAfter)}setDropPosition(e){!1!==e?(0,Re.xJ)(c.Hb.document.tree,this.node,e.droppedOnElementId)&&(this.lastSubmittedDrag=e):this.lastSubmittedDrag=!1}movePlaceholder(e,t,n){let s=!1;const a=(0,he.DY)(c.Hb.document.tree,e);if(a){const e=a.children[t],i=a.children[t-1],o=a.children[t+1];e&&e.id===this.node.id&&(s=!0),i&&i.id===this.node.id&&"before"===n&&(s=!0),o&&o.id===this.node.id&&"after"===n&&(s=!0)}if(c.kD.canvasDragPlaceholderPosition){const s=()=>t===c.kD.canvasDragPlaceholderPosition.nodeIndex+1,a=()=>t===c.kD.canvasDragPlaceholderPosition.nodeIndex-1;if(c.kD.canvasDragPlaceholderPosition.parentId===e){if(s()&&"after"===c.kD.canvasDragPlaceholderPosition.position&&"before"===n)return;if(a()&&"before"===c.kD.canvasDragPlaceholderPosition.position&&"after"===n)return}}this.setCanvasDragPlaceholderPosition({parentId:e,nodeIndex:t,position:n,onlyShowTargetOutline:s})}};(0,r.gn)([(0,l.fI)()],Ne.prototype,"node",void 0),(0,r.gn)([(0,l.RL)("canvasElementDraggedId")],Ne.prototype,"watchCanvasElementDraggedId",null),Ne=(0,r.gn)([l.wA],Ne);const Fe=Ne,$e=Fe;var Ve=(0,L.Z)($e,Be,Me,!1,null,null,null);const We=Ve.exports;var He=n(21115),ze=n(85283),Ue=n(94550),Ke=n(16734),Ge=n(55735),qe=n(20210);let je=class extends l.w3{constructor(){super(...arguments),this.refreshRate=500,this.unsubscribeFromStorePositionWrapper=()=>{},this.titlebarPositionStyle={},this.wrapperPositionStyle={display:"none"},this.elementTitle=""}nextTickPositionsWrapper(){(0,T.n)(this.calculateStylesAndTitle)}openContextMenu(e){e.stopPropagation(),e.preventDefault();const t=(0,He.e)(e.clientX,e.clientY);this.elementId&&t&&c.kD.setOnCanvasRightClickMenuState({elementId:this.elementId,position:t})}get builderMode(){return c.PK.builderMode}mounted(){this.calculateStylesAndTitle(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.nextTickPositionsWrapper),window.addEventListener("resize",this.nextTickPositionsWrapper),this.interval=setInterval(this.nextTickPositionsWrapper,this.refreshRate),Ke.uq.register(Ge.r.SHIFT_ESC,(()=>{this.activateParent()}))}beforeDestroy(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.nextTickPositionsWrapper),clearInterval(this.interval),Ke.uq.unbind(Ge.r.SHIFT_ESC)}get isDraftSection(){if(!this.element)return!1;if(this.element.data.type!==Ue.PZ)return!1;const e=G()(this.element.data.properties,"settings.advanced.draft");return!!e}get isDragAndDropEnabled(){return c.kD.hasFullAccess}get isElementUpdating(){return!!this.elementId&&!!c.kD.elementsThatAreUpdating[this.elementId]}calculateStylesAndTitle(){!c.kD.elementWithContentEditable&&this.element?(this.elementTitle=this.getElementTitle(),this.wrapperPositionStyle=(0,D.Qi)((0,D.dq)(this.element)),this.titlebarPositionStyle=(0,D.A3)(this.element)):this.wrapperPositionStyle={display:"none"}}get titlebarClasses(){return{"node-titlebar-is-dragging":this.isDragging,"node-titlebar-is-draft-section":this.isDraftSection}}get isDragging(){return c.kD.currentlyDraggingCanvasElementId===this.elementId}get element(){return c.kD.activeElement}get elementId(){return c.kD.activeElementId}get elementIcon(){return this.element?(0,qe.Ff)(this.element,!0):"MaximizeIcon"}getElementTitle(){return this.element?(0,qe.mH)(this.element):""}duplicate(){this.elementId&&c.Hb.duplicateElementAndActivateIt(this.elementId)}remove(){null!==this.elementId&&c.Hb.deleteElement({nodeId:this.elementId})}refreshSsr(){c.kD.setRefreshSsrElementId(this.elementId)}get hasSSr(){const e=this.element&&c.PK.element(this.element.data.type);return e?e.template.includes("%%SSR%%"):""}get hasParent(){return this.parentElement&&"root"!==this.parentElement.data.type}get node(){return this.element||!1}activateParent(){this.parentElement&&c.kD.activateElement(this.parentElement.id)}get parentElement(){if(!this.element)return!1;const e=(0,he.Lf)(c.Hb.document.tree,this.element.id);return e||!1}};je=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,OnCanvasDragHandle:We}})],je);const Ye=je,Xe=Ye;var Qe=(0,L.Z)(Xe,Ze,Ae,!1,null,null,null);const Je=Qe.exports;var et=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-hover-controls",class:e.wrapperClassList,style:e.wrapperPositionStyle})},tt=[];let nt=class extends l.w3{constructor(){super(...arguments),this.refreshRate=500,this.shouldShowControls=!1,this.unsubscribeFromStorePositionWrapper=()=>{},this.throttledNextTickPositionWrapper=W()((()=>(0,T.n)((()=>this.positionWrapper()))),100),this.disableMouseHoverOnMouseLeaveCanvas=()=>{setTimeout((()=>c.kD.setLastHoveredOnCanvasElementId(null)),110)},this.throttledShowHoverControlsOnMouseMoveCanvas=W()(this.showHoverControlsOnMouseMoveCanvas,100),this.wrapperPositionStyle={display:"none"}}beforeMount(){this.positionWrapper(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.throttledNextTickPositionWrapper),window.addEventListener("resize",this.throttledNextTickPositionWrapper)}mounted(){const e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");e&&(e.addEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),e.addEventListener("mouseleave",this.disableMouseHoverOnMouseLeaveCanvas),this.interval=setInterval(this.throttledNextTickPositionWrapper,this.refreshRate))}beforeDestroy(){const e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.throttledNextTickPositionWrapper),e?.removeEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),clearInterval(this.interval)}get wrapperClassList(){return{"node-hover-controls-show":this.shouldShowControls&&this.isNotDragging,"node-hover-controls--outline":this.isNotDragging}}get isNotDragging(){return!c.kD.isCanvasElementBeingDragged&&!c.kD.isDragMixinDragging}get element(){if(!c.kD.lastHoveredOnCanvasElementId||c.kD.elementWithContentEditable)return!1;const e=(0,he.DY)(c.Hb.document.tree,c.kD.lastHoveredOnCanvasElementId);return e||!1}setHoveredNode(e,t){const n=(0,Oe.Qf)(e,t);if(void 0!==n){const e=(0,he.DY)(c.Hb.document.tree,n);e&&c.kD.setLastHoveredOnCanvasElementId(e.id)}}showHoverControlsOnMouseMoveCanvas(e){const{clientX:t,clientY:n}=e;if(this.setHoveredNode(t,n),!1===this.element)return;const s=(0,D.Sv)(this.element,"absolute");if(!s)return;const{x:a,y:i,width:o,height:r}=s;this.shouldShowControls=t>a+o-48&&t<a+o&&n>i&&n<i+r}positionWrapper(){!c.kD.elementWithContentEditable&&this.element?this.wrapperPositionStyle=(0,D.Qi)((0,D.dq)(this.element)):this.wrapperPositionStyle={display:"none"}}};nt=(0,r.gn)([(0,l.wA)({})],nt);const st=nt,at=st;var it=(0,L.Z)(at,et,tt,!1,null,null,null);const ot=it.exports;var rt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-content-editable",style:e.wrapperStyle})},lt=[];let ct=class extends l.w3{constructor(){super(...arguments),this.unsubscribeFromStorePositionWrapper=()=>{},this.wrapperStyle={display:"none"},this.lastModifiedDomElement=null}mounted(){this.calculateWrapperStyles(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.calculateWrapperStyles),window.addEventListener("resize",this.calculateWrapperStyles)}beforeDestroy(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.calculateWrapperStyles)}get domElement(){if(!c.kD.elementWithContentEditable)return null;const e=(0,he.DY)(c.Hb.document.tree,c.kD.elementWithContentEditable);if(!e)return null;const t=(0,D.dq)(e);if("true"===t?.contentEditable)return this.lastModifiedDomElement=t,t;const n=t?.querySelector('[contenteditable="true"]');return n?(this.lastModifiedDomElement=n,n):null}calculateWrapperStyles(){(0,T.n)((()=>{!this.domElement&&this.lastModifiedDomElement&&(this.lastModifiedDomElement.removeEventListener("input",this.calculateWrapperStyles),this.lastModifiedDomElement=null),this.wrapperStyle=(0,D.Qi)(this.domElement),this.domElement&&this.domElement.addEventListener("input",this.calculateWrapperStyles)}))}};ct=(0,r.gn)([(0,l.wA)({})],ct);const dt=ct,ut=dt;var pt=(0,L.Z)(ut,rt,lt,!1,null,null,null);const ht=pt.exports;var gt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-hover-controls node-hover-controls--onboarding",class:e.wrapperClassList,style:e.wrapperPositionStyle,on:{click:e.activateElement}},[t("div",{staticClass:"node-hover-onboarding-controls-actions"},[t("div",{staticClass:"node-hover-onboarding-controls-buttons"},[t("NodeOnboardingPaletteButtons",{attrs:{element:e.element}}),t("NodeOnboardingAIRewriteButton",{attrs:{element:e.element}}),t("NodeOnboardingReplaceSectionButton",{attrs:{element:e.element}})],1)]),t("NodeOnboardingAddSectionButton",{attrs:{element:e.element}})],1)},mt=[],vt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-hover-onboarding-controls-palette-buttons"},e._l(e.groupedGlobalColors,(function(n,s){return t("NodeOnboardingPaletteButton",{key:s,attrs:{colorGroup:n,elementId:e.element.id}})})),1)},ft=[],yt=n(6778),bt=n(36240);let _t=class extends l.w3{get groupedGlobalColors(){return(0,yt.xS)(X.cr.globalColors)}};(0,r.gn)([(0,l.fI)()],_t.prototype,"element",void 0),_t=(0,r.gn)([(0,l.wA)({components:{NodeOnboardingPaletteButton:bt.Z}})],_t);const xt=_t,St=xt;var Pt=(0,L.Z)(St,vt,ft,!1,null,null,null);const Ct=Pt.exports;var wt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("button",{staticClass:"node-hover-onboarding-controls-buttons__button",attrs:{disabled:e.rewriteInProgress},on:{click:e.rewrite}},[e.rewriteInProgress?t("Icon",{staticClass:"is-spinning",attrs:{icon:"NotchSolidIcon",title:"Importing the data",size:"14"}}):t("Icon",{attrs:{icon:"SparklesSolidIcon",title:"Success loading the data",size:"14"}}),e._v(" Rewrite ")],1)},It=[],kt=n(65913),Dt=n(47431);let Et=class extends l.w3{constructor(){super(...arguments),this.rewriteInProgress=!1}async rewrite(){if(!this.rewriteInProgress&&this.element){this.rewriteInProgress=!0,(0,Dt.K)("Onboarding",{action:"onboarding_app_ui_interaction",type:"node_rewrite_button"});try{await(0,kt.H2)(this.element.id)}catch(e){console.error("Error during rewrite:",e)}this.rewriteInProgress=!1}}};(0,r.gn)([(0,l.fI)()],Et.prototype,"element",void 0),Et=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z}})],Et);const Tt=Et,Zt=Tt;var At=(0,L.Z)(Zt,wt,It,!1,null,null,null);const Bt=At.exports;var Mt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("button",{staticClass:"node-hover-onboarding-controls-buttons__button",on:{click:e.replaceSection}},[t("Icon",{attrs:{icon:"ArrowsRotateSolidIcon",size:"14"}}),e._v(" Shuffle ")],1)},Ot=[],Lt=n(77622);let Rt=class extends l.w3{replaceSection(){X.kD.activateElement(this.element.id),(0,Lt.R4)(this.element.id),(0,Dt.K)("Onboarding",{action:"onboarding_app_ui_interaction",type:"node_shuffle_section_button"}),window.parent.postMessage({id:"",type:"RESPONSE",payload:{success:!0,payload:{message:"Element activated",elementId:this.element.id,tree:X.Hb.document.tree.root.children,document:X.Hb.document}}},"*")}};(0,r.gn)([(0,l.fI)()],Rt.prototype,"element",void 0),Rt=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z}})],Rt);const Nt=Rt,Ft=Nt;var $t=(0,L.Z)(Ft,Mt,Ot,!1,null,null,null);const Vt=$t.exports;var Wt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-hover-onboarding-controls-add-section"},[t("button",{staticClass:"node-hover-onboarding-controls-buttons__button",on:{click:e.addSection}},[t("Icon",{attrs:{icon:"PlusIconSolid",size:"14"}}),e._v(" Add Section ")],1)])},Ht=[];let zt=class extends l.w3{addSection(){(0,Dt.K)("Onboarding",{action:"onboarding_app_ui_interaction",type:"node_add_section_button"}),(0,Lt.gs)(this.element)}};(0,r.gn)([(0,l.fI)({required:!0})],zt.prototype,"element",void 0),zt=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z}})],zt);const Ut=zt,Kt=Ut;var Gt=(0,L.Z)(Kt,Wt,Ht,!1,null,null,null);const qt=Gt.exports;let jt=class extends l.w3{constructor(){super(...arguments),this.refreshRate=500,this.shouldShowControls=!0,this.unsubscribeFromStorePositionWrapper=()=>{},this.throttledNextTickPositionWrapper=W()((()=>(0,T.n)((()=>this.positionWrapper()))),100),this.disableMouseHoverOnMouseLeaveCanvas=()=>{setTimeout((()=>c.kD.setLastHoveredOnCanvasElementId(null)),110)},this.throttledShowHoverControlsOnMouseMoveCanvas=W()(this.showHoverControlsOnMouseMoveCanvas,100),this.wrapperPositionStyle={display:"none"}}beforeMount(){this.positionWrapper(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.throttledNextTickPositionWrapper),window.addEventListener("resize",this.throttledNextTickPositionWrapper)}mounted(){const e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");e&&(e.addEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),e.addEventListener("mouseleave",this.disableMouseHoverOnMouseLeaveCanvas),this.interval=setInterval(this.throttledNextTickPositionWrapper,this.refreshRate))}beforeDestroy(){const e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.throttledNextTickPositionWrapper),e?.removeEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),clearInterval(this.interval)}get wrapperClassList(){return{"node-hover-controls-show":!0,"node-hover-controls--outline":this.isNotDragging}}get isNotDragging(){return!c.kD.isCanvasElementBeingDragged&&!c.kD.isDragMixinDragging}activateElement(){this.element&&(window.parent.postMessage({id:"",type:"RESPONSE",payload:{success:!0,payload:{message:"Element activated",activeElementId:this.element.id,document:c.Hb.document}}},"*"),c.kD.activateElement(this.element.id))}get element(){if(!c.kD.lastHoveredOnCanvasElementId||c.kD.elementWithContentEditable)return!1;const e=(0,he.DY)(c.Hb.document.tree,c.kD.lastHoveredOnCanvasElementId);return e||!1}setHoveredNode(e,t){const n=(0,Oe.Qf)(e,t);if(void 0!==n){const e=(0,he.DY)(c.Hb.document.tree,n);e&&"EssentialElements\\Section"===e.data.type&&c.kD.setLastHoveredOnCanvasElementId(e.id)}}showHoverControlsOnMouseMoveCanvas(e){const{clientX:t,clientY:n}=e;if(this.setHoveredNode(t,n),!1===this.element)return;const s=(0,D.Sv)(this.element,"absolute");if(!s)return;const{x:a,y:i,width:o,height:r}=s;this.shouldShowControls=t>a+o-48&&t<a+o&&n>i&&n<i+r}positionWrapper(){!c.kD.elementWithContentEditable&&this.element?this.wrapperPositionStyle=(0,D.Qi)((0,D.dq)(this.element)):this.wrapperPositionStyle={display:"none"}}};jt=(0,r.gn)([(0,l.wA)({components:{NodeOnboardingPaletteButtons:Ct,NodeOnboardingAIRewriteButton:Bt,NodeOnboardingReplaceSectionButton:Vt,NodeOnboardingAddSectionButton:qt}})],jt);const Yt=jt,Xt=Yt;var Qt=(0,L.Z)(Xt,gt,mt,!1,null,null,null);const Jt=Qt.exports;var en=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"node-titlebar-wrapper":!0,"singularity-node-titlebar-wrapper":!0,"node-titlebar-wrapper-is-dragging":e.isDragging},style:e.wrapperPositionStyle},[t("div",{staticClass:"node-titlebar node-titlebar",class:e.titlebarClasses,style:e.titlebarPositionStyle,on:{contextmenu:e.openContextMenu}},[e.isDragAndDropEnabled?t("OnCanvasDragHandle",{attrs:{node:e.node}},[t("span",{staticClass:"node-titlebar-title",attrs:{title:"Drag element"}},[t("span",{staticClass:"node-titlebar-button"},[t("Icon",{attrs:{icon:"breakdance"===e.builderMode?"MaximizeIcon":"GripDotsVerticalIcon",size:"breakdance"===e.builderMode?11:12}})],1),t("span",[e._v(" "+e._s(e.elementTitle)+" ")]),e.isDraftSection?t("span",{staticStyle:{"margin-left":"4px"}},[e._v(" (Draft) ")]):e._e()])]):[e._v(e._s(e.elementTitle))],e.hasParent?t("span",{staticClass:"node-titlebar-button node-titlebar-button-activate-parent",attrs:{title:"Select parent"},on:{click:e.activateParent}},[t("Icon",{attrs:{icon:"ChevronDownIcon",rotate:"180",size:"10"}})],1):e._e(),e.hasSSr?t("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],class:{"node-titlebar-button":!0,"node-titlebar-margin-left":!0,"breakdance-node-titlebar-loading-spinner":e.isElementUpdating},attrs:{title:"Refresh element"},on:{click:e.refreshSsr}},[t("Icon",{attrs:{icon:"RotateIcon",size:"13"}})],1):e._e(),t("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],class:{"node-titlebar-button":!0,"node-titlebar-margin-left":!e.hasSSr},attrs:{title:"Duplicate"},on:{click:e.duplicate}},[t("Icon",{attrs:{icon:"breakdance"===e.builderMode?"DuplicateIcon":"DuplicateSolidIcon",size:"13"}})],1),t("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],staticClass:"node-titlebar-button",attrs:{title:"Remove"},on:{click:e.remove}},[t("Icon",{attrs:{icon:"breakdance"===e.builderMode?"TrashIcon":"TrashSolidIcon",size:"12"}})],1)],2)])},tn=[];let nn=class extends l.w3{constructor(){super(...arguments),this.refreshRate=500,this.unsubscribeFromStorePositionWrapper=()=>{},this.titlebarPositionStyle={},this.wrapperPositionStyle={display:"none"},this.elementTitle=""}nextTickPositionsWrapper(){(0,T.n)(this.calculateStylesAndTitle)}openContextMenu(e){e.stopPropagation(),e.preventDefault();const t=(0,He.e)(e.clientX,e.clientY);this.elementId&&t&&c.kD.setOnCanvasRightClickMenuState({elementId:this.elementId,position:t})}get builderMode(){return c.PK.builderMode}mounted(){this.calculateStylesAndTitle(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.nextTickPositionsWrapper),window.addEventListener("resize",this.nextTickPositionsWrapper),this.interval=setInterval(this.nextTickPositionsWrapper,this.refreshRate),Ke.uq.register(Ge.r.SHIFT_ESC,(()=>{this.activateParent()}))}beforeDestroy(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.nextTickPositionsWrapper),clearInterval(this.interval),Ke.uq.unbind(Ge.r.SHIFT_ESC)}get isDraftSection(){if(!this.element)return!1;if(this.element.data.type!==Ue.PZ)return!1;const e=G()(this.element.data.properties,"settings.advanced.draft");return!!e}get isDragAndDropEnabled(){return c.kD.hasFullAccess}get isElementUpdating(){return!!this.elementId&&!!c.kD.elementsThatAreUpdating[this.elementId]}calculateStylesAndTitle(){!c.kD.elementWithContentEditable&&this.element?(this.elementTitle=this.getElementTitle(),this.wrapperPositionStyle=(0,D.Qi)((0,D.dq)(this.element),4),this.titlebarPositionStyle=(0,D.A3)(this.element)):this.wrapperPositionStyle={display:"none"}}get titlebarClasses(){return{"node-titlebar-is-dragging":this.isDragging,"node-titlebar-is-draft-section":this.isDraftSection}}get isDragging(){return c.kD.currentlyDraggingCanvasElementId===this.elementId}get element(){return c.kD.activeElement}get elementId(){return c.kD.activeElementId}get elementIcon(){return this.element?(0,qe.Ff)(this.element,!0):"MaximizeIcon"}getElementTitle(){return this.element?(0,qe.mH)(this.element):""}duplicate(){this.elementId&&c.Hb.duplicateElementAndActivateIt(this.elementId)}remove(){null!==this.elementId&&c.Hb.deleteElement({nodeId:this.elementId})}refreshSsr(){c.kD.setRefreshSsrElementId(this.elementId)}get hasSSr(){const e=this.element&&c.PK.element(this.element.data.type);return e?e.template.includes("%%SSR%%"):""}get hasParent(){return this.parentElement&&"root"!==this.parentElement.data.type}get node(){return this.element||!1}activateParent(){this.parentElement&&c.kD.activateElement(this.parentElement.id)}get parentElement(){if(!this.element)return!1;const e=(0,he.Lf)(c.Hb.document.tree,this.element.id);return e||!1}};nn=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,OnCanvasDragHandle:We}})],nn);const sn=nn,an=sn;var on=(0,L.Z)(an,en,tn,!1,null,null,null);const rn=on.exports;var ln=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-hover-controls node-singularity-hover-controls",class:e.wrapperClassList,style:e.wrapperPositionStyle},[e.isSectionElement&&e.element?[e.element?t("AddSectionButton",{attrs:{sectionId:e.element.id}}):e._e()]:e._e(),e.isChildOfGrid&&e.element?[e.element?t("AddAnotherButton",{attrs:{elementId:e.element.id}}):e._e()]:e._e(),t("div",{staticClass:"singularity-canvas-buttons-wrapper"},[e.isImageElement&&e.element?[e.element?t("EditImageButton",{attrs:{elementId:e.element.id}}):e._e()]:e._e(),e.isSectionElementWithBackgroundImage&&e.element?[e.element?t("EditBackgroundImageButton",{attrs:{elementId:e.element.id}}):e._e()]:e._e(),e.isIconElement&&e.element?[e.element?t("EditIconButton",{attrs:{elementId:e.element.id}}):e._e()]:e._e(),e.isLinkElementOrChildOfLinkElement&&e.element?[e.element?t("EditLinkButton",{attrs:{elementId:e.element.id}}):e._e()]:e._e()],2)],2)},cn=[],dn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-canvas-add-section-button",on:{click:e.addSection}},[e._v(" Add Section ")])},un=[];let pn=class extends l.w3{addSection(){c.fz.setSectionAddOrSwapPanelState({mode:"add",sectionIdToAddAfterOrSwap:this.sectionId}),c.fz.setSingularityLeftPanel("section_add_or_swap")}};(0,r.gn)([(0,l.fI)()],pn.prototype,"sectionId",void 0),pn=(0,r.gn)([(0,l.wA)({components:{}})],pn);const hn=pn,gn=hn;var mn=(0,L.Z)(gn,dn,un,!1,null,null,null);const vn=mn.exports;var fn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-canvas-add-another-button",on:{click:e.addAnother}},[e._v(" Add Another ")])},yn=[];let bn=class extends l.w3{addAnother(){c.Hb.duplicateElement({elementId:this.elementId})}};(0,r.gn)([(0,l.fI)()],bn.prototype,"elementId",void 0),bn=(0,r.gn)([(0,l.wA)({components:{}})],bn);const _n=bn,xn=_n;var Sn=(0,L.Z)(xn,fn,yn,!1,null,null,null);const Pn=Sn.exports;var Cn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-canvas-edit-image-button",on:{click:e.editImage}},[e._v("Edit Image")])},wn=[];let In=class extends l.w3{editImage(){c.fz.setImageEditorPanelState({imageId:this.elementId}),c.fz.setSingularityLeftPanel("image_editor")}};(0,r.gn)([(0,l.fI)()],In.prototype,"elementId",void 0),In=(0,r.gn)([(0,l.wA)({components:{}})],In);const kn=In,Dn=kn;var En=(0,L.Z)(Dn,Cn,wn,!1,null,null,null);const Tn=En.exports;var Zn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-canvas-edit-background-image-button",on:{click:e.editBackgroundImage}},[e._v("Edit Background Image")])},An=[];let Bn=class extends l.w3{editBackgroundImage(){c.fz.setBackgroundImageEditorPanelState({sectionId:this.elementId}),c.fz.setSingularityLeftPanel("background_image_editor")}};(0,r.gn)([(0,l.fI)()],Bn.prototype,"elementId",void 0),Bn=(0,r.gn)([(0,l.wA)({components:{}})],Bn);const Mn=Bn,On=Mn;var Ln=(0,L.Z)(On,Zn,An,!1,null,null,null);const Rn=Ln.exports;var Nn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-canvas-edit-icon-button",on:{click:e.editIcon}},[e._v("Change Icon")])},Fn=[];let $n=class extends l.w3{editIcon(){c.fz.setIconEditorPanelState({iconId:this.elementId}),c.fz.setSingularityLeftPanel("icon_editor")}};(0,r.gn)([(0,l.fI)()],$n.prototype,"elementId",void 0),$n=(0,r.gn)([(0,l.wA)({components:{}})],$n);const Vn=$n,Wn=Vn;var Hn=(0,L.Z)(Wn,Nn,Fn,!1,null,null,null);const zn=Hn.exports;var Un=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-canvas-edit-link-button",on:{click:e.editLink}},[e._v("Edit Link")])},Kn=[];const Gn=[{elementSlug:Ue.KW,linkPropertyPaths:["content.content.link"]},{elementSlug:Ue.Cv,linkPropertyPaths:["content.content.link"]},{elementSlug:Ue.xI,linkPropertyPaths:["content.content.link"]},{elementSlug:"EssentialElements\\PricingTable",linkPropertyPaths:["content.content.button.link"]}];function qn(e){return Gn.some((t=>t.elementSlug===e))}function jn(e){return Gn.find((t=>t.elementSlug===e))?.linkPropertyPaths}function Yn(e){return(0,he.J9)(((e,t)=>!!qn(e.data.type)||t),c.Hb.document.tree,e,!1)}function Xn(e){return(0,he.J9)(((e,t)=>qn(e.data.type)?e:t),c.Hb.document.tree,e,void 0)}let Qn=class extends l.w3{editLink(){var e=(0,he.DY)(c.Hb.document.tree,this.elementId);if(!e)return;if(qn(e.data.type)||(e=Xn(e)),!e)return;if(!qn(e.data.type))return;const t=jn(e.data.type);t&&(c.fz.setLinkEditorPanelState({elementId:e.id,linkPropertyPaths:t}),c.fz.setSingularityLeftPanel("link_editor"))}};(0,r.gn)([(0,l.fI)()],Qn.prototype,"elementId",void 0),Qn=(0,r.gn)([(0,l.wA)({components:{}})],Qn);const Jn=Qn,es=Jn;var ts=(0,L.Z)(es,Un,Kn,!1,null,null,null);const ns=ts.exports;var ss=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-canvas-edit-content-properties-button",on:{click:e.editContentProperties}},[e._v("Edit Content Properties")])},as=[];let is=class extends l.w3{editContentProperties(){c.kD.activateElement(this.elementId),c.fz.setContentPropertiesEditorPanelState(!0),c.fz.setSingularityLeftPanel("content_properties_editor")}};(0,r.gn)([(0,l.fI)()],is.prototype,"elementId",void 0),is=(0,r.gn)([(0,l.wA)({components:{}})],is);const os=is,rs=os;var ls=(0,L.Z)(rs,ss,as,!1,null,null,null);const cs=ls.exports;let ds=class extends l.w3{constructor(){super(...arguments),this.refreshRate=500,this.shouldShowControls=!1,this.unsubscribeFromStorePositionWrapper=()=>{},this.throttledNextTickPositionWrapper=W()((()=>(0,T.n)((()=>this.positionWrapper()))),100),this.disableMouseHoverOnMouseLeaveCanvas=()=>{setTimeout((()=>c.kD.setLastHoveredOnCanvasElementId(null)),110)},this.throttledShowHoverControlsOnMouseMoveCanvas=W()(this.showHoverControlsOnMouseMoveCanvas,100),this.wrapperPositionStyle={display:"none"}}beforeMount(){this.positionWrapper(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.throttledNextTickPositionWrapper),window.addEventListener("resize",this.throttledNextTickPositionWrapper)}mounted(){const e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");e&&(e.addEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),e.addEventListener("mouseleave",this.disableMouseHoverOnMouseLeaveCanvas),this.interval=setInterval(this.throttledNextTickPositionWrapper,this.refreshRate))}beforeDestroy(){const e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.throttledNextTickPositionWrapper),e?.removeEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),clearInterval(this.interval)}get wrapperClassList(){return{"node-hover-controls-show":this.shouldShowControls&&this.isNotDragging,"node-hover-controls--outline":this.isNotDragging}}get isNotDragging(){return!c.kD.isCanvasElementBeingDragged&&!c.kD.isDragMixinDragging}get element(){if(!c.kD.lastHoveredOnCanvasElementId||c.kD.elementWithContentEditable)return null;const e=(0,he.DY)(c.Hb.document.tree,c.kD.lastHoveredOnCanvasElementId);return e||null}setHoveredNode(e,t){const n=(0,Oe.Qf)(e,t);if(void 0!==n){const e=(0,he.DY)(c.Hb.document.tree,n);e&&c.kD.setLastHoveredOnCanvasElementId(e.id)}}showHoverControlsOnMouseMoveCanvas(e){const{clientX:t,clientY:n}=e;if(this.setHoveredNode(t,n),!this.element)return;const s=(0,D.Sv)(this.element,"absolute");if(!s)return;const{x:a,y:i,width:o,height:r}=s;this.shouldShowControls=t>a+o-48&&t<a+o&&n>i&&n<i+r}positionWrapper(){!c.kD.elementWithContentEditable&&this.element?this.wrapperPositionStyle=(0,D.Qi)((0,D.dq)(this.element),4):this.wrapperPositionStyle={display:"none"}}get isSectionElement(){return this.element&&this.element.data.type===Ue.PZ}get isImageElement(){return this.element&&this.element.data.type===Ue.Sn}get isSectionElementWithBackgroundImage(){return this.element&&this.element.data.type===Ue.PZ&&"image"==G()(this.element.data.properties,"design.background.type")}get isIconElement(){return this.element&&this.element.data.type===Ue.PJ}get isChildOfGrid(){if(!this.element)return!1;const e=(0,he.DY)(c.Hb.document.tree,this.element._parentId);return!!e&&e.data.type===Ue.JZ}get isLinkElementOrChildOfLinkElement(){return!!this.element&&(qn(this.element.data.type)||Yn(this.element))}};ds=(0,r.gn)([(0,l.wA)({components:{AddSectionButton:vn,AddAnotherButton:Pn,EditImageButton:Tn,EditBackgroundImageButton:Rn,EditLinkButton:ns,EditIconButton:zn,EditContentPropertiesButton:cs}})],ds);const us=ds,ps=us;var hs=(0,L.Z)(ps,ln,cn,!1,null,null,null);const gs=hs.exports;var ms=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"node-content-editable",style:e.wrapperStyle})},vs=[];let fs=class extends l.w3{constructor(){super(...arguments),this.unsubscribeFromStorePositionWrapper=()=>{},this.wrapperStyle={display:"none"},this.lastModifiedDomElement=null}mounted(){this.calculateWrapperStyles(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.calculateWrapperStyles),window.addEventListener("resize",this.calculateWrapperStyles)}beforeDestroy(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.calculateWrapperStyles)}get domElement(){if(!c.kD.elementWithContentEditable)return null;const e=(0,he.DY)(c.Hb.document.tree,c.kD.elementWithContentEditable);if(!e)return null;const t=(0,D.dq)(e);if("true"===t?.contentEditable)return this.lastModifiedDomElement=t,t;const n=t?.querySelector('[contenteditable="true"]');return n?(this.lastModifiedDomElement=n,n):null}calculateWrapperStyles(){(0,T.n)((()=>{!this.domElement&&this.lastModifiedDomElement&&(this.lastModifiedDomElement.removeEventListener("input",this.calculateWrapperStyles),this.lastModifiedDomElement=null),this.wrapperStyle=(0,D.Qi)(this.domElement),this.domElement&&this.domElement.addEventListener("input",this.calculateWrapperStyles)}))}};fs=(0,r.gn)([(0,l.wA)({})],fs);const ys=fs,bs=ys;var _s=(0,L.Z)(bs,ms,vs,!1,null,null,null);const xs=_s.exports;let Ss=class extends s.ZP{constructor(){super(...arguments),this.hideTitleBar=!1,this.hideHoverControls=!1}get isSingularityMode(){return X.kD.isSingularityMode}get isOnboardingMode(){return window.Breakdance.isOnboarding}get element(){return X.kD.activeElement||!1}get hoveredElement(){return!!X.kD.lastHoveredOnCanvasElementId&&(0,he.DY)(X.Hb.document.tree,X.kD.lastHoveredOnCanvasElementId)}get hideClass(){let e=null;return this.hideTitleBar&&this.hideHoverControls?e="all":this.hideHoverControls?e="hover":this.hideTitleBar&&(e="titlebar"),e?`node-chrome--hide-${e}`:null}onElementSelected(){this.observer?.disconnect(),this.element&&(this.observer=this.observePositionChange(this.element,(e=>{this.hideTitleBar=(0,D.p1)(e)})))}onHoveredElementSelected(){this.hoverObserver?.disconnect(),this.hoveredElement&&(this.hoverObserver=this.observePositionChange(this.hoveredElement,(e=>{this.hideHoverControls=(0,D.p1)(e)})))}beforeDestroy(){this.destroyObserver()}observePositionChange(e,t){if(!e)return;const n=(0,D.dq)(e);if(!n)return;const s=e=>{e.forEach((e=>{const n=e.target;t(n)}))},a=new MutationObserver(s),i={attributes:!0,attributeFilter:["class"]};return a.observe(n,i),a}destroyObserver(){this.observer?.disconnect(),this.hoverObserver?.disconnect()}};(0,r.gn)([(0,l.RL)("element")],Ss.prototype,"onElementSelected",null),(0,r.gn)([(0,l.RL)("hoveredElement")],Ss.prototype,"onHoveredElementSelected",null),Ss=(0,r.gn)([(0,l.wA)({components:{NodeContentEditable:ht,DragDots:N,SpacingBars:de,ColumnDragSizer:Te,NodeTitlebar:Je,NodeHoverControls:ot,NodeOnboardingHoverControls:Jt,NodeSingularityHover:gs,NodeSingularityActive:rn,NodeSingularityContentEditable:xs}})],Ss);const Ps=Ss,Cs=Ps;var ws=(0,L.Z)(Cs,C,w,!1,null,null,null);const Is=ws.exports;var ks=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("DragPlaceholder"),t("RightClickMenu",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]})],1)},Ds=[],Es=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-drag-placeholder-wrapper"},[t("div",{staticClass:"breakdance-drag-placeholder",style:e.dragPlaceholderPositionStyle}),t("div",{staticClass:"breakdance-drag-target-outline",style:e.dragTargetOutlineStyle})])},Ts=[];let Zs=class extends s.ZP{get canvasDragPlaceholderPosition(){return c.kD.canvasDragPlaceholderPosition}get parentNode(){if(!this.canvasDragPlaceholderPosition)return!1;const e=(0,he.DY)(c.Hb.document.tree,this.canvasDragPlaceholderPosition.parentId);return e||!1}get stackingStyle(){return this.canvasDragPlaceholderPosition&&this.parentNode?(0,Oe.qE)(this.parentNode):{}}get dragPlaceholderPositionStyle(){if(!this.canvasDragPlaceholderPosition||!0===this.canvasDragPlaceholderPosition.onlyShowTargetOutline)return{};const e=(0,he.DY)(c.Hb.document.tree,this.canvasDragPlaceholderPosition.parentId);if(!e)return{};const t=8,n=`${t}px`;if(0===e.children.length){const s=e.id===he.uB?(0,D.j3)():(0,D.Sv)(e);if(!s)return{};let{x:a,y:i,width:o,height:r}=s;return o-40>100&&(a+=20,o-=40),{display:"block",top:i+r/2-t/2+"px",left:`${a}px`,width:`${o}px`,height:n}}{const s=e.children[this.canvasDragPlaceholderPosition.nodeIndex],a=(0,D.Sv)(s),i=(0,Oe.qE)(e);if(!a)return{};const{x:o,y:r,width:l,height:c}=a;if("vertical"===i){if("before"===this.canvasDragPlaceholderPosition.position)return{display:"block",top:r-(t/2-1)+"px",left:`${o}px`,width:`${l}px`,height:n};if("after"===this.canvasDragPlaceholderPosition.position)return{display:"block",top:c+r-(t/2+1)+"px",left:`${o}px`,width:`${l}px`,height:n}}else if("horizontal"===i){if("before"===this.canvasDragPlaceholderPosition.position)return{display:"block",top:`${r}px`,left:o-t/2+"px",height:`${c}px`,width:n};if("after"===this.canvasDragPlaceholderPosition.position)return{display:"block",left:l+o-t/2+"px",top:`${r}px`,height:`${c}px`,width:n}}}return{}}get dragTargetOutlineStyle(){if(!this.parentNode)return{};const e=this.parentNode.id===he.uB&&0===c.Hb.document.tree.root.children.length?(0,D.j3)():(0,D.Sv)(this.parentNode);if(!e)return{};const{x:t,y:n,width:s,height:a}=e;return{display:"block",position:"absolute",top:`${n}px`,left:`${t}px`,width:`${s}px`,height:`${a}px`}}};Zs=(0,r.gn)([(0,l.wA)({components:{}})],Zs);const As=Zs,Bs=As;var Ms=(0,L.Z)(Bs,Es,Ts,!1,null,null,null);const Os=Ms.exports;var Ls=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShow,expression:"shouldShow"}],staticClass:"breakdance-canvas-right-click-menu",class:{"breakdance-canvas-right-click-menu--structure-panel":"structure-panel"===e.context},style:e.wrapperPositionStyle},[t("RightClickMenuItem",{attrs:{disabled:!e.elementIdPresent,shortcut:["⌘ C","Ctrl C"]},on:{click:e.copyElement}},[e._v(" Copy ")]),t("RightClickMenuItem",{attrs:{disabled:!e.canPasteElement,shortcut:["⌘ V","Ctrl V"]},on:{click:e.pasteElement}},[e._v(" Paste ")]),"breakdance"===e.builderMode?t("RightClickMenuItem",{attrs:{disabled:!e.canPasteElementProperties},on:{click:function(t){return e.pasteElementProperties("design")}}},[e._v(" Paste Design ")]):e._e(),"breakdance"===e.builderMode?t("RightClickMenuItem",{attrs:{disabled:!e.canPasteElementProperties},on:{click:function(t){return e.pasteElementProperties("settings")}}},[e._v(" Paste Settings ")]):e._e(),t("RightClickWrapMenu",{attrs:{context:e.context},on:{close:e.close}}),t("div",{staticClass:"breakdance-canvas-right-click-menu-divider"}),t("RightClickMenuItem",{attrs:{disabled:!e.elementIdPresent,shortcut:["⌫","Del"]},on:{click:e.deleteElement}},[e._v(" Delete ")]),t("div",{staticClass:"breakdance-canvas-right-click-menu-divider"}),t("RightClickMenuItem",{attrs:{disabled:!e.canSaveAsGlobalBlock},on:{click:e.openSaveGlobalBlockDialog}},[e._v(" Save as "+e._s(e.$bdox("global_block"))+" ")]),"breakdance"===e.builderMode?t("RightClickMenuItem",{attrs:{disabled:!e.canSaveAsPreset},on:{click:e.openSavePresetDialog}},[e._v(" Create Design Preset ")]):e._e()],1),t("GlobalBlockDialog",{attrs:{open:e.saveGlobalBlockDialog,"element-id":e.elementIdToSaveAsGlobalBlock},on:{close:e.closeGlobalBlockDialog}}),t("PresetDialog",{attrs:{open:e.savePresetDialog,"element-id":e.elementIdToSaveAsPreset},on:{close:e.closePresetDialog}}),t("ClipboardDialog",{model:{value:e.clipboardDialog,callback:function(t){e.clipboardDialog=t},expression:"clipboardDialog"}})],1)},Rs=[],Ns=n(89028),Fs=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"breakdance-canvas-right-click-menu-item":!0,"breakdance-canvas-right-click-menu-item-disabled":e.disabled},on:{click:function(t){e.disabled||e.$emit("click",t)}}},[e._t("default"),e.shortcut?t("div",{staticClass:"breakdance-canvas-right-click-menu-item-shortcut"},[e._v(" "+e._s(e.isMac?e.shortcut[0]:e.shortcut[1])+" ")]):e._e()],2)},$s=[];function Vs(){return"undefined"!==typeof navigator.userAgentData&&null!=navigator.userAgentData?navigator.userAgentData.platform:"undefined"!==typeof navigator.platform?"undefined"!==typeof navigator.userAgent&&/android/.test(navigator.userAgent.toLowerCase())?"android":navigator.platform:"unknown"}let Ws=class extends s.ZP{get isMac(){const e=Vs().toLowerCase();return/mac/.test(e)}};(0,r.gn)([(0,l.fI)({default:!1})],Ws.prototype,"disabled",void 0),(0,r.gn)([(0,l.fI)({default:""})],Ws.prototype,"shortcut",void 0),(0,r.gn)([(0,l.fI)({default:()=>[]})],Ws.prototype,"subItems",void 0),Ws=(0,r.gn)([(0,l.wA)({components:{}})],Ws);const Hs=Ws,zs=Hs;var Us=(0,L.Z)(zs,Fs,$s,!1,null,null,null);const Ks=Us.exports;var Gs=n(87615),qs=n(37179),js=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:e.open},on:{close:function(t){return e.$emit("close")},"click:outside":function(t){return e.$emit("close")},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("close")}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Save as "+e._s(e.$bdox("global_block")))]},proxy:!0},{key:"text",fn:function(){return[t("TextInput",{attrs:{size:"md",placeholder:e.$bdox("global_block"),autofocus:e.open},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveAsGlobalBlock.apply(null,arguments)}},model:{value:e.globalBlockName,callback:function(t){e.globalBlockName=t},expression:"globalBlockName"}})]},proxy:!0},{key:"actions",fn:function(){return[t(qs.Z,{attrs:{text:""},on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),t(qs.Z,{attrs:{color:"blue",dark:"",disabled:!e.globalBlockName},on:{click:e.saveAsGlobalBlock}},[e._v(" Save ")])]},proxy:!0}])})},Ys=[],Xs=n(89137),Qs=n(41571);let Js=class extends s.ZP{constructor(){super(...arguments),this.globalBlockName=""}async saveAsGlobalBlock(e){e.preventDefault(),this.globalBlockName&&(this.elementId&&await(0,Gs.AM)(this.elementId,this.globalBlockName),this.globalBlockName="",this.$emit("close"))}};(0,r.gn)([(0,l.fI)({default:!1})],Js.prototype,"open",void 0),(0,r.gn)([(0,l.fI)({required:!0})],Js.prototype,"elementId",void 0),Js=(0,r.gn)([(0,l.wA)({components:{Dialog:Xs.Z,TextInput:Qs.Z}})],Js);const ea=Js,ta=ea;var na=(0,L.Z)(ta,js,Ys,!1,null,null,null);const sa=na.exports;var aa=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:e.value,width:500,closeable:!0},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Enable Paste")]},proxy:!0},{key:"text",fn:function(){return[t("p",[e._v(" To paste using the Edit menu, "),e.status&&!e.status.secure?[e._v(" your website needs to be served with HTTPS. ")]:e.status&&!e.permissionGranted?[e._v(" please allow access to your clipboard. ")]:e._e()],2),t("p",[e._v("Alternatively, you can use your keyboard shortcuts:")]),t("ul",{staticClass:"clipboard-dialog-shortcuts"},[t("li",{staticClass:"clipboard-dialog-shortcut"},[t("span",{staticClass:"clipboard-dialog-shortcut__key"},[e._v(e._s(e.metaKey)+" C")]),t("span",{staticClass:"clipboard-dialog-shortcut__label"},[e._v("copy")])]),t("li",{staticClass:"clipboard-dialog-shortcut"},[t("span",{staticClass:"clipboard-dialog-shortcut__key"},[e._v(e._s(e.metaKey)+" X")]),t("span",{staticClass:"clipboard-dialog-shortcut__label"},[e._v("cut")])]),t("li",{staticClass:"clipboard-dialog-shortcut"},[t("span",{staticClass:"clipboard-dialog-shortcut__key"},[e._v(e._s(e.metaKey)+" V")]),t("span",{staticClass:"clipboard-dialog-shortcut__label"},[e._v("paste")])])])]},proxy:!0}])})},ia=[],oa=n(31737);let ra=class extends s.ZP{constructor(){super(...arguments),this.status=null}async onChange(){this.status=await(0,oa.fn)(),this.status?.permission&&(this.status.permission.onchange=()=>{this.$emit("input",!1)})}get permissionGranted(){return"granted"===this.status?.permission?.state}get metaKey(){return this.isAppleDevice?"⌘":"Ctrl + "}get isAppleDevice(){return/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)}close(){this.$emit("input",!1)}};(0,r.gn)([(0,l.fI)()],ra.prototype,"value",void 0),(0,r.gn)([(0,l.RL)("value",{immediate:!0})],ra.prototype,"onChange",null),ra=(0,r.gn)([(0,l.wA)({components:{Dialog:Xs.Z}})],ra);const la=ra,ca=la;var da=(0,L.Z)(ca,aa,ia,!1,null,null,null);const ua=da.exports;var pa=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:e.open},on:{close:function(t){return e.$emit("close")},"click:outside":function(t){return e.$emit("close")},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("close")}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Create Design Preset ")]},proxy:!0},{key:"text",fn:function(){return[t("TextInput",{ref:"input",attrs:{size:"md",placeholder:"Preset Name",autofocus:e.open},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save.apply(null,arguments)}},model:{value:e.presetName,callback:function(t){e.presetName=t},expression:"presetName"}})]},proxy:!0},{key:"actions",fn:function(){return[t(qs.Z,{attrs:{text:""},on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),t(qs.Z,{attrs:{color:"blue",dark:"",disabled:!e.presetName},on:{click:e.save}},[e._v(" Save ")])]},proxy:!0}])})},ha=[],ga=n(91669);let ma=class extends s.ZP{constructor(){super(...arguments),this.presetName=null}get isPresetsOverridesEnabled(){return c.PK.isExperimentEnabled("design-presets-overrides")}get element(){return this.elementId?(0,he.DY)(c.Hb.document.tree,this.elementId):null}onOpenChange(){this.open&&(this.presetName=this.getDefaultName(),this.$nextTick((()=>this.focusAndSelectInput())))}getDefaultName(){if(!this.element)return"";if(this.defaultName)return this.defaultName;const e=this.element.data.type,t=c.PK.element(e).name;return`${t} ${(0,ga.z)()}`}focusAndSelectInput(){const e=this.$refs.input,t=e.$el.querySelector("input");t?.focus(),t?.select()}async save(e){if(e.preventDefault(),!this.presetName||!this.elementId||!this.element)return;const t=this.element.data.type,n=(0,ie.Lr)(this.presetName,t,this.element.data.properties.design);(0,ie.xk)(n),(0,ie.I8)(n.id,this.elementId),this.presetName="",this.$emit("close")}};(0,r.gn)([(0,l.fI)({required:!0})],ma.prototype,"elementId",void 0),(0,r.gn)([(0,l.fI)({default:!1})],ma.prototype,"open",void 0),(0,r.gn)([(0,l.fI)({default:""})],ma.prototype,"defaultName",void 0),(0,r.gn)([(0,l.RL)("open")],ma.prototype,"onOpenChange",null),ma=(0,r.gn)([(0,l.wA)({components:{Dialog:Xs.Z,TextInput:Qs.Z}})],ma);const va=ma,fa=va;var ya=(0,L.Z)(fa,pa,ha,!1,null,null,null);const ba=ya.exports;var _a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-canvas-right-click-dropdown",class:{"breakdance-canvas-right-click-dropdown--disabled":!e.canWrap,"breakdance-canvas-right-click-dropdown--inverted":e.isInverted},on:{mouseenter:e.checkOverflow}},[t("RightClickMenuItem",{attrs:{disabled:!e.canWrap}},[e._v(" Wrap In "),t("Icon",{staticClass:"breakdance-canvas-right-click-submenu__arrow",attrs:{icon:"ChevronRightIcon",size:10}})],1),t("div",{ref:"submenu",staticClass:"breakdance-canvas-right-click-submenu"},[t("div",{staticClass:"breakdance-canvas-right-click-submenu__content breakdance-canvas-right-click-menu"},e._l(e.wrapItems,(function(n){return t("RightClickMenuItem",{key:n.label,on:{click:function(t){return e.wrapIn(n)}}},[e._v(" "+e._s(n.label)+" ")])})),1)])],1)},xa=[];let Sa=class extends l.w3{constructor(){super(...arguments),this.isInverted=!1}get builderMode(){return X.PK.builderMode}get wrapItems(){return"oxygen"===this.builderMode?[{label:"Container",elementSlug:"OxygenElements\\Container"},{label:"Link",elementSlug:"OxygenElements\\ContainerLink"}]:[{label:"Div",elementSlug:"EssentialElements\\Div"},{label:"Link",elementSlug:"EssentialElements\\WrapperLink"}]}get element(){return X.kD.activeElement}get canWrap(){if(!this.element)return!1;const e=X.PK.element(this.element.data.type),t=e.nestingRule.type;return!["section","root","popup"].includes(t)}wrapIn({elementSlug:e}){this.element&&(X.Hb.wrapElement({wrapperElementSlug:e,elementId:this.element.id}),this.$emit("close"))}getViewportWidth(){return"canvas"===this.context?window.Breakdance.canvas.document?.defaultView?.innerWidth:window.innerWidth}checkOverflow(){this.isInverted=!1,this.$nextTick((()=>{const e=this.$refs.submenu;if(!e)return;const t=e.getBoundingClientRect(),n=this.getViewportWidth();if(!n)return;const s=t.right-n,a=.1*t.width;this.isInverted=s>a}))}};(0,r.gn)([(0,l.fI)({default:"canvas"})],Sa.prototype,"context",void 0),Sa=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,RightClickMenuItem:Ks}})],Sa);const Pa=Sa,Ca=Pa;var wa=(0,L.Z)(Ca,_a,xa,!1,null,"29c8c084",null);const Ia=wa.exports;let ka=class extends s.ZP{constructor(){super(...arguments),this.clipboardDialog=!1,this.canPasteElement=!1,this.canPasteElementProperties=!1,this.elementIdToSaveAsGlobalBlock=null,this.saveGlobalBlockDialog=!1,this.elementIdToSaveAsPreset=null,this.savePresetDialog=!1}async mounted(){window.Breakdance.canvas.document.addEventListener("contextmenu",this.handleRightClickInCanvas),window.Breakdance.canvas.document.addEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0}),window.addEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0})}beforeDestroy(){window.Breakdance.canvas.document.removeEventListener("contextmenu",this.handleRightClickInCanvas),window.Breakdance.canvas.document.removeEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0}),window.removeEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0})}get menuState(){return"structure-panel"===this.context?"closed"!==c.kD.onStructurePanelRightClickMenuState?c.kD.onStructurePanelRightClickMenuState:null:"closed"!==c.kD.onCanvasRightClickMenuState?c.kD.onCanvasRightClickMenuState:null}get shouldShow(){const e="structure-panel"===this.context?"closed"!==c.kD.onStructurePanelRightClickMenuState:"closed"!==c.kD.onCanvasRightClickMenuState;return e&&!this.saveGlobalBlockDialog}get builderMode(){return c.PK.builderMode}handleRightClickInCanvas(e){e.preventDefault();const t=(0,Oe.Qf)(e.clientX,e.clientY),n=(0,He.e)(e.clientX,e.clientY);n&&c.kD.setOnCanvasRightClickMenuState({elementId:t,position:n})}closeRightClickMenuIfClickHappensOutsideRightClickMenu(e){if(this.saveGlobalBlockDialog)return;const t=e.target.closest(".breakdance-canvas-right-click-menu");t||this.close()}get wrapperPositionStyle(){return this.menuState?{left:`${this.menuState.position.x}px`,top:`${this.menuState.position.y}px`}:{}}get elementIdPresent(){return this.menuState?.elementId}async onStateChange(){const{permission:e}=await(0,oa.fn)();if(this.permission=e?.state,"prompt"===this.permission)return this.canPasteElement=!0,void(this.canPasteElementProperties=!0);this.canPasteElement=await(0,Ns.Ku)(this.menuState?.elementId?this.menuState.elementId:c.Hb.document.tree.root.id),this.canPasteElementProperties=!!this.menuState?.elementId&&await(0,Ns.us)(this.menuState.elementId)}copyElement(){this.menuState?.elementId&&(0,Ns.NA)(this.menuState.elementId),this.close()}pasteElement(){"prompt"===this.permission&&(this.clipboardDialog=!0),this.menuState?.elementId?(0,Ns.Wm)(this.menuState.elementId):(0,Ns.Wm)(c.Hb.document.tree.root.id),this.close()}pasteElementProperties(e){"prompt"===this.permission&&(this.clipboardDialog=!0),this.menuState?.elementId&&(0,Ns.qb)(this.menuState.elementId,e),this.close()}deleteElement(){this.menuState?.elementId&&(c.Hb.deleteElement({nodeId:this.menuState?.elementId}),this.close())}openSaveGlobalBlockDialog(){this.menuState?.elementId&&(this.elementIdToSaveAsGlobalBlock=this.menuState.elementId,this.saveGlobalBlockDialog=!0)}closeGlobalBlockDialog(){this.saveGlobalBlockDialog=!1,this.elementIdToSaveAsGlobalBlock=null,this.close()}get canSaveAsGlobalBlock(){return this.menuState?.elementId&&(0,Gs.VQ)(this.menuState.elementId)}openSavePresetDialog(){this.menuState?.elementId&&(this.elementIdToSaveAsPreset=this.menuState.elementId,this.savePresetDialog=!0)}closePresetDialog(){this.savePresetDialog=!1,this.elementIdToSaveAsPreset=null,this.close()}get canSaveAsPreset(){return!(0,ie.CO)(this.menuState?.elementId)}close(){c.kD.setOnCanvasRightClickMenuState("closed"),c.kD.setOnStructurePanelRightClickMenuState("closed")}};(0,r.gn)([(0,l.fI)({default:"canvas"})],ka.prototype,"context",void 0),(0,r.gn)([(0,l.RL)("menuState")],ka.prototype,"onStateChange",null),ka=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,PresetDialog:ba,ClipboardDialog:ua,GlobalBlockDialog:sa,RightClickMenuItem:Ks,RightClickWrapMenu:Ia}})],ka);const Da=ka,Ea=Da;var Ta=(0,L.Z)(Ea,Ls,Rs,!1,null,null,null);const Za=Ta.exports;let Aa=class extends s.ZP{};Aa=(0,r.gn)([(0,l.wA)({components:{DragPlaceholder:Os,RightClickMenu:Za}})],Aa);const Ba=Aa,Ma=Ba;var Oa=(0,L.Z)(Ma,ks,Ds,!1,null,null,null);const La=Oa.exports;var Ra=n(3565),Na=n(79298),Fa=n(660),$a=n(16068),Va=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.shouldShowBackdrop?t("span",{staticClass:"breakdance-inline-editor-backdrop",style:e.style,on:{click:e.onBackdropClick}}):e._e()},Wa=[];let Ha=class extends l.w3{get style(){return this.rect?{clipPath:`polygon(\n        0% 0%,\n        100% 0%,\n        100% 100%,\n        0% 100%,\n        0% ${this.rect?.y}px,\n        ${this.rect?.x}px ${this.rect?.y}px,\n        ${this.rect?.x}px ${this.rect?.bottom}px,\n        ${this.rect?.right}px ${this.rect?.bottom}px,\n        ${this.rect?.right}px ${this.rect?.y}px,\n        0% ${this.rect?.y}px\n      )`}:null}get shouldShowBackdrop(){return X.kD.inlineEditingContext?.elementId}get rect(){return X.kD.inlineEditingContext?.rect}onBackdropClick(){X.kD.resetInlineEditingContext()}};Ha=(0,r.gn)([l.wA],Ha);const za=Ha,Ua=za;var Ka=(0,L.Z)(Ua,Va,Wa,!1,null,null,null);const Ga=Ka.exports;var qa=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.draggedElement&&e.dragPosition?t("div",{staticClass:"breakdance-drag-ghost-element",style:{top:e.dragPosition?.y?e.dragPosition.y+"px":"0",left:e.dragPosition?.x?e.dragPosition.x+"px":"0"}},[e._v(" "+e._s(e.elementName)+" ")]):e._e()},ja=[];let Ya=class extends l.w3{constructor(){super(...arguments),this.scrollInterval=null,this.maxScrollSpeed=30,this.edgeThreshold=100}onDragElementSet(){this.draggedElement?this.scrollInterval=setInterval(this.startAutoScroll,20):this.stopAutoScroll()}get dragPosition(){return X.kD.dragMousePosition}get draggedElement(){const e=X.kD.currentlyDraggingAddElementSlug,t=X.kD.currentlyDraggingCanvasElementId;if(e)return e;if(t){const e=this.draggedNode;if(e)return e.data.type}return null}get draggedNode(){return X.kD.currentlyDraggingCanvasElementId?(0,he.DY)(X.Hb.document.tree,X.kD.currentlyDraggingCanvasElementId):null}get elementName(){if(!this.draggedElement)return"";const e=this.draggedNode?.data?.properties?.meta?.friendlyName;if(e)return e;const t=X.PK.element(this.draggedElement);return t.name}calculateScrollSpeed(e){return Math.max(0,this.maxScrollSpeed*(1-e/this.edgeThreshold))}startAutoScroll(){if(!this.dragPosition)return;const e=window.Breakdance.canvas.document,t=e.defaultView;if(e.documentElement.style.scrollBehavior="auto",!t)return;const n=t.innerHeight,s=this.dragPosition.y;let a=0;s<this.edgeThreshold?a=-this.calculateScrollSpeed(s):s>n-this.edgeThreshold&&(a=this.calculateScrollSpeed(n-s)),0!==a&&t.scrollBy({top:a,behavior:"auto"})}stopAutoScroll(){const e=window.Breakdance.canvas.document;e.documentElement.style.scrollBehavior="",this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=null)}};(0,r.gn)([(0,l.RL)("draggedElement")],Ya.prototype,"onDragElementSet",null),Ya=(0,r.gn)([(0,l.wA)({})],Ya);const Xa=Ya,Qa=Xa;var Ja=(0,L.Z)(Qa,qa,ja,!1,null,null,null);const ei=Ja.exports;let ti=class extends s.ZP{render(){const e=arguments[0],t=()=>0===this.rootElement.children.length?e(Ra.Z):this.rootElement.children.map((t=>e(P["default"],{key:t.id,attrs:{parentId:this.rootElement.id,element:t}})));return e("div",{key:this.canvasKey,class:this.classList,attrs:{id:"breakdance_canvas"},style:this.style},[t(),!this.isPreviewMode&&e(Is),(!this.isPreviewMode&&!this.isOnboardingMode)??e(La),!this.isPreviewMode&&e(La),!this.isPreviewMode&&e(Ga),!this.isPreviewMode&&e(ei),this.previewSettings.backgroundColor&&this.previewGlobalStyle()])}mounted(){c.kD.setCanvasState("normal"),addEventListener("storage",this.onStorage)}beforeDestroy(){removeEventListener("storage",this.onStorage)}onStorage(e){"oxy_selectors"===e.key&&(0,$a.z3)(e)}get canvasKey(){return c.kD.canvasKey}get builderMode(){return c.PK.builderMode||"breakdance"}get isPreviewMode(){return c.kD.isPreviewMode}get isOnboardingMode(){return window.Breakdance.isOnboarding}get classList(){return{[this.builderMode]:!0,canvas:!0,dragging:c.kD.isCanvasElementBeingDragged||c.kD.isAddElementBeingDragged}}get rootElement(){return c.Hb.document.tree.root}get globalProperties(){return c.cr.globalProperties}get selectors(){return c.cr.cssSelectors}get presets(){return c.cr.presets}get oxySelectors(){return c.cr.oxySelectors}get variables(){return c.cr.variables}get previewSettings(){const{preview:e}=c.Hb.document.documentMeta.blockSettings||{preview:{}};return{width:e.width,height:e.height,backgroundColor:e.backgroundColor,isCentered:e.isCentered}}get style(){const{height:e,width:t,isCentered:n}=this.previewSettings,s={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};return{maxWidth:t?"100%":void 0,width:t?`${t}px`:void 0,height:e?`${e}px`:void 0,margin:t||e?"0 auto":void 0,...n?s:{}}}previewGlobalStyle(){const e=this.$createElement,{backgroundColor:t}=this.previewSettings,n="oxygen"===this.builderMode?"background-color":"--bde-background-color";return e("style",[`\n          :root,\n         body {\n          ${n}: ${t};\n         }\n        `])}onGlobalSettingsChanged(){(0,Na.TK)((0,D.RY)())}onSelectorsChanged(){(0,Na.EO)((0,D.RY)())}onPresetsChanged(){(0,Na.aL)((0,D.RY)())}onOxySelectorsChanged(){(0,Fa.V)((0,D.RY)())}onVariablesChanged(){(0,Na.Vq)((0,D.RY)()),(0,Fa.V)((0,D.RY)())}};(0,r.gn)([(0,l.RL)("globalProperties",{deep:!0,immediate:!0})],ti.prototype,"onGlobalSettingsChanged",null),(0,r.gn)([(0,l.RL)("selectors",{deep:!0,immediate:!0})],ti.prototype,"onSelectorsChanged",null),(0,r.gn)([(0,l.RL)("presets",{deep:!0,immediate:!0})],ti.prototype,"onPresetsChanged",null),(0,r.gn)([(0,l.RL)("oxySelectors",{deep:!0,immediate:!0})],ti.prototype,"onOxySelectorsChanged",null),(0,r.gn)([(0,l.RL)("variables",{deep:!0,immediate:!0})],ti.prototype,"onVariablesChanged",null),ti=(0,r.gn)([(0,l.wA)({components:{DragGhostElement:ei,EmptyContainer:Ra.Z,BuilderElement:P["default"],NodeChrome:Is,CanvasChrome:La}})],ti);const ni=ti,si=ni;var ai,ii,oi=(0,L.Z)(si,ai,ii,!1,null,null,null);const ri=oi.exports;var li=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classes,style:e.style},[t("div",{staticClass:"breakdance-preview-width-adjustment-handle align-center",on:{mousedown:e.dragStart,dblclick:e.resetPreviewWidth}},[t("Icon",{staticClass:"breakdance-preview-width-adjustment-handle__icon",attrs:{icon:"EllipsisStrokeVerticalIcon",size:"6",heightAuto:!0}})],1),e.isDragging||e.currentPreviewWidthIsSetByUser?t("div",{staticClass:"breakdance-px-amount"},[e._v(" "+e._s(e.pxAmount)+" "),t("Icon",{staticClass:"px-amount-reset-icon",attrs:{icon:"CloseCircleIcon",size:"11"},on:{click:e.resetPreviewWidth}})],1):e._e(),e.currentMediaQueryStr?t("div",{staticClass:"breakdance-preview-width-adjustment-handle-preview"},[t("span",{staticClass:"breakdance-preview-width-adjustment-handle-preview__amount"},[e._v(" "+e._s(e.currentBreakpoint.maxWidth)+" ")]),e._v(" "+e._s(e.currentMediaQueryStr)+" ")]):e._e()])},ci=[];let di=class extends s.ZP{constructor(){super(...arguments),this.mouseXChange=0,this.lastMouseX=0,this.isDragging=!1,this.easyEvent=new Z.hF}get currentPreviewWidthIsSetByUser(){return"100%"===this.currentBreakpoint.defaultPreviewWidth?"100%"!==this.previewWidth.width:this.previewWidth.width!==this.currentBreakpoint.defaultPreviewWidth}get currentMediaQueryStr(){return(0,we.Mc)(this.currentBreakpoint.minWidth,this.currentBreakpoint.maxWidth)}get builderMode(){return c.PK.builderMode}get style(){return{left:`${this.iframeWrapperPosition.x+this.iframeWrapperPosition.width}px`,height:`${this.iframeWrapperPosition.height}px`}}get pxAmount(){return"100%"===this.previewWidth.width?"100%":`${this.previewWidth.width}px`}get alreadyAtMaximumWidth(){return"100%"===this.previewWidth.width||this.previewWidth.width>=this.previewWidth.availableCanvasSize.width}dragStart(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd),this.lastMouseX=e.clientX,this.iframe&&(this.iframe.style.pointerEvents="none"),this.mainWrapper&&(this.mainWrapper.style.cursor="col-resize",this.mainWrapper.classList.add("is-dragging-adjustment-handle"))}dragging(e){(0,Z.Pm)(e)||(this.isDragging=!0,e.preventDefault(),e.stopPropagation(),this.mouseXChange=e.clientX-this.lastMouseX,this.adjustPreviewWidth(2*this.mouseXChange),this.lastMouseX=e.clientX)}dragEnd(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.iframe&&(this.iframe.style.pointerEvents="auto"),this.mainWrapper&&(this.mainWrapper.style.cursor="auto",this.mainWrapper.classList.remove("is-dragging-adjustment-handle")),this.isDragging=!1}adjustPreviewWidth(e){let t;const n=this.previewWidth.width;if(this.alreadyAtMaximumWidth&&e>0&&(e=0),"100%"===this.previewWidth.width){if(!this.iframe)return void console.warn("iframe element is missing");t=this.iframe.offsetWidth-e}else t=this.previewWidth.width+e;"100%"!==n&&t>n&&t>this.previewWidth.availableCanvasSize.width&&(t=this.previewWidth.availableCanvasSize.width),this.$emit("previewWidthChangeWithAdjustmentBar",t)}resetPreviewWidth(){this.$emit("resetPreviewWidth")}get classes(){return{"breakdance-preview-width-bar":!0,"breakdance-preview-width-bar-is-dragging":this.isDragging}}};(0,r.gn)([(0,l.fI)()],di.prototype,"iframeWrapperPosition",void 0),(0,r.gn)([(0,l.fI)()],di.prototype,"previewWidth",void 0),(0,r.gn)([(0,l.fI)()],di.prototype,"currentBreakpoint",void 0),(0,r.gn)([(0,l.fI)()],di.prototype,"mainWrapper",void 0),(0,r.gn)([(0,l.fI)()],di.prototype,"iframe",void 0),di=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z}})],di);const ui=di,pi=ui;var hi=(0,L.Z)(pi,li,ci,!1,null,null,null);const gi=hi.exports;var mi=n(565),vi=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(qs.Z,e._g({class:e.classList,attrs:{elevation:"0",loading:e.loading,height:"breakdance"===e.builderMode?37:32,minWidth:e.minWidth,outlined:"breakdance"===e.builderMode,"data-test-id":e.testId}},e.$listeners),[e._t("default")],2)},fi=[];let yi=class extends s.ZP{get classList(){return{"breakdance-toolbar-button":"breakdance"===this.builderMode,"breakdance-toolbar-button--active":this.active,"button-oxygen":"oxygen"===this.builderMode}}get builderMode(){return X.PK.builderMode}};(0,r.gn)([(0,l.fI)({default:!1})],yi.prototype,"loading",void 0),(0,r.gn)([(0,l.fI)({default:!1})],yi.prototype,"active",void 0),(0,r.gn)([(0,l.fI)({default:"auto"})],yi.prototype,"minWidth",void 0),(0,r.gn)([(0,l.fI)()],yi.prototype,"testId",void 0),yi=(0,r.gn)([(0,l.wA)({components:{}})],yi);const bi=yi,_i=bi;var xi=(0,L.Z)(_i,vi,fi,!1,null,null,null);const Si=xi.exports;var Pi=n(49026),Ci=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.showOverlay?t("div",{class:e.classes,style:e.overlayStyles,on:{mouseleave:e.handleOverlayMouseLeave,click:e.openInCanvasInSingularityMode}},[t("div",{staticClass:"breakdance-foreign-documents-overlay-titlebar-wrapper"},[t("div",{staticClass:"breakdance-foreign-documents-overlay-titlebar"},[e.isSingularityMode?[t("a",[e._v("Edit "+e._s(e.foreignDocumentTitle))])]:[t("a",{attrs:{href:e.foreignDocumentBuilderUrl},on:{click:e.openBuilderUrl}},[e._v(" Edit "+e._s(e.foreignDocumentTitle)+" "),t("Icon",{attrs:{icon:"EditIcon"}})],1)]],2)])]):e._e()},wi=[];const Ii=e=>`${e}px`;var ki,Di=n(94543),Ei=n(63085);(function(e){e["breakdance_header"]="header",e["oxygen_header"]="header",e["breakdance_footer"]="footer",e["oxygen_footer"]="footer"})(ki||(ki={}));let Ti=class extends s.ZP{constructor(){super(...arguments),this.hoveredForeignDocumentDomElement=null,this.hoveredForeignDocumentDomElementCoords=null,this.isScrolling=!1,this.isScrollingCleanupTimerId=null,this.throttledHandleIframeScroll=W()(this.handleIframeScroll,120),this.throttledHandleWatchedElementMouseMove=W()(this.handleWatchedElementMouseMove,60),this.openingInProgress=!1}get showOverlay(){return c.kD.hasFullAccess}get foreignDocumentBuilderUrl(){return this.hoveredForeignDocumentDomElement?.dataset.breakdanceForeignDocumentBuilderUrl}get foreignDocumentTypeLabel(){const e=this.hoveredForeignDocumentDomElement?.dataset.breakdanceForeignDocumentType;return e?ki[e]??"":""}get foreignDocumentTitle(){const e=this.hoveredForeignDocumentDomElement?.dataset.breakdanceForeignDocumentTitle;return e||"Unknown Document"}get overlayStyles(){if(!this.isThereHoveredElementAndItsCoords())return;const{top:e,left:t,height:n,width:s}=this.hoveredForeignDocumentDomElementCoords;return{display:"flex",top:Ii(e),left:Ii(t),height:Ii(n),width:Ii(s)}}mounted(){this.addEventListenersToIframeDocument(),this.addEventListenersToWatchedElements()}beforeDestroy(){this.removeEventListenersFromIframeDocument(),this.removeEventListenersFromWatchedElements()}addEventListenersToIframeDocument(){this.iframeDocument.addEventListener("scroll",this.throttledHandleIframeScroll)}removeEventListenersFromIframeDocument(){this.iframeDocument.removeEventListener("scroll",this.throttledHandleIframeScroll)}addEventListenersToWatchedElements(){this.elementsToWatch.forEach((e=>{e.addEventListener("mousemove",this.throttledHandleWatchedElementMouseMove),e.addEventListener("mouseleave",this.handleWatchedElementMouseLeave)}))}removeEventListenersFromWatchedElements(){this.elementsToWatch.forEach((e=>{e.removeEventListener("mousemove",this.throttledHandleWatchedElementMouseMove),e.removeEventListener("mouseleave",this.handleWatchedElementMouseLeave)}))}isThereHoveredElementAndItsCoords(){return null!==this.hoveredForeignDocumentDomElement&&null!==this.hoveredForeignDocumentDomElementCoords}setHoveredForeignDocumentDomElement(e){this.hoveredForeignDocumentDomElement=e,this.hoveredForeignDocumentDomElementCoords=this.getCoords()}getCoords(){const e=this.hoveredForeignDocumentDomElement;if(1===e?.childElementCount){const t=e.firstElementChild;return t.getBoundingClientRect()}return e?.getBoundingClientRect()??null}setIsScrolling(e){e?(this.hoveredForeignDocumentDomElement=null,this.hoveredForeignDocumentDomElementCoords=null,this.removeEventListenersFromWatchedElements()):this.addEventListenersToWatchedElements(),this.isScrolling=e}handleIframeScroll(){this.setIsScrolling(!0),this.isScrollingCleanupTimerId&&clearTimeout(this.isScrollingCleanupTimerId),this.isScrollingCleanupTimerId=setTimeout((()=>this.setIsScrolling(!1)),120)}handleOverlayMouseLeave(){this.setHoveredForeignDocumentDomElement(null)}handleWatchedElementMouseMove(e){e.currentTarget&&this.setHoveredForeignDocumentDomElement(e.currentTarget)}handleWatchedElementMouseLeave(e){this.$el.contains(e.relatedTarget)?null!==this.hoveredForeignDocumentDomElement&&(this.hoveredForeignDocumentDomElementCoords=this.getCoords()):this.setHoveredForeignDocumentDomElement(null)}openBuilderUrl(){const e=this.foreignDocumentBuilderUrl;e&&this.$emit("openDocument",{builderUrl:e,title:this.foreignDocumentTitle})}get isSingularityMode(){return c.kD.isSingularityMode}get classes(){return{"breakdance-foreign-documents-overlay":!0,"breakdance-foreign-documents-overlay--singularity-mode":this.isSingularityMode}}async openInCanvasInSingularityMode(){if(!this.isSingularityMode)return;if(console.log(this.foreignDocumentBuilderUrl),!this.foreignDocumentBuilderUrl)return;const e=this.getDocIdFromBuilderUrl(this.foreignDocumentBuilderUrl);console.log(e),e&&(this.openingInProgress=!0,await(0,Di.$)(),await(0,Ei.rI)(e),c.fz.setSingularityLeftPanel("page_structure"),this.openingInProgress=!1)}getDocIdFromBuilderUrl(e){const t=new URL(e),n=t.searchParams.get("id");return n?parseInt(n):null}};(0,r.gn)([(0,l.fI)()],Ti.prototype,"canvasElement",void 0),(0,r.gn)([(0,l.fI)()],Ti.prototype,"iframeDocument",void 0),(0,r.gn)([(0,l.fI)()],Ti.prototype,"elementsToWatch",void 0),Ti=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z}})],Ti);const Zi=Ti,Ai=Zi;var Bi=(0,L.Z)(Ai,Ci,wi,!1,null,null,null);const Mi=Bi.exports;var Oi=n(713),Li=n(11529),Ri=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"mainWrapper",staticClass:"breakdance-iframe-main-wrapper",style:e.mainWrapperStyle,attrs:{id:"canvas-area"}},[t("PreviewWidthAdjustmentHandle",{attrs:{"iframe-wrapper-position":e.iframeWrapperPosition,"preview-width":e.iframePreviewWidth,"current-breakpoint":e.currentBreakpoint,iframe:e.iframe,"main-wrapper":e.mainWrapper},on:{resetPreviewWidth:()=>this.$emit("resetPreviewWidth"),previewWidthChangeWithAdjustmentBar:e=>this.$emit("previewWidthChangeWithAdjustmentBar",e)}}),e.iframeExited?t("div",{staticClass:"iframe-reloaded-warning-block"},[e._v(" Something navigated you away from the page you are editing. "),t("StandardButton",{staticClass:"mt-4",attrs:{minWidth:"80"},on:{click:e.handleReloadWanted}},[e._v(" Continue Editing ")])],1):t("div",{ref:"iframeWrapper",staticClass:"breakdance-iframe-inner-wrapper",style:e.iframeWrapperStyles,attrs:{id:"iframe-wrapper"}},[e.iframeIsLoading?t("Loading",{attrs:{absolute:""}}):e._e(),t("iframe",{key:e.iframeUrl,ref:"iframe",staticClass:"breakdance-iframe",style:e.iframeStyle,attrs:{id:e.iframeId,name:e.iframeId,src:e.iframeUrl},on:{load:e.handleIframeLoaded}})],1)],1)},Ni=[];let Fi=class extends s.ZP{constructor(){super(...arguments),this.iframeWrapperPosition={x:0,y:0,width:0,height:0}}get canvasPadding(){const e="oxygen"===c.PK.builderMode?4:8;return this.isPreviewMode?0:e}get mainWrapperStyle(){return{padding:`${this.canvasPadding}px`}}get iframeWrapperStyles(){return{width:"100%"===this.iframePreviewWidth.width?"100%":`${this.iframePreviewWidth.width}px`,overflow:"SCALED_TO_FIT"===c.kD.settings.scaleToFit?"hidden":"auto"}}get iframeStyle(){const e=e=>{const t=Math.min(1,this.iframePreviewWidth.availableCanvasSize.width/e);return{width:`${e}px`,transform:`scale(${t})`,height:this.iframePreviewWidth.availableCanvasSize.height*(1/t)+"px"}};return"ACTUAL_SIZE"===c.kD.settings.scaleToFit?"100%"===this.iframePreviewWidth.width?{width:"100%",minWidth:`${this.minWidth}px`}:{width:`${this.iframePreviewWidth.width}px`}:"100%"===this.iframePreviewWidth.width?this.iframePreviewWidth.availableCanvasSize.width<this.minWidth?e(this.minWidth):{width:"100%",minWidth:`${this.minWidth}px`}:e(this.iframePreviewWidth.width)}get iframeIsLoading(){return"loading"===this.iframeState}get isPreviewMode(){return c.kD.isPreviewMode}handleIframeLoaded(){this.iframe?.contentWindow&&(this.iframe.contentWindow.onunload=()=>{this.$emit("iframeUnloaded")}),this.$emit("iframeLoaded",this.iframe)}handleReloadWanted(){this.$emit("reloadWanted")}mounted(){this.mainWrapper?new ResizeObserver(this.setAvailableCanvasSize).observe(this.mainWrapper):c.kD.logError("No canvas element."),this.iframeWrapper?new ResizeObserver(this.setIframeWrapperPosition).observe(this.iframeWrapper):c.kD.logError("No iframe wrapper element."),this.setAvailableCanvasSize()}setAvailableCanvasSize(){if(this.mainWrapper){const e=this.mainWrapper.getBoundingClientRect(),t={...this.iframePreviewWidth,availableCanvasSize:{width:e.width-2*this.canvasPadding,height:e.height-2*this.canvasPadding}};this.$emit("previewWidthChange",t)}this.setIframeWrapperPosition()}setIframeWrapperPosition(){if(this.iframeWrapper){const e=this.iframeWrapper.getBoundingClientRect();this.iframeWrapperPosition={x:e.x,y:e.y,width:e.width,height:e.height}}}};(0,r.gn)([(0,l.fI)()],Fi.prototype,"iframeState",void 0),(0,r.gn)([(0,l.fI)()],Fi.prototype,"iframePreviewWidth",void 0),(0,r.gn)([(0,l.fI)()],Fi.prototype,"iframeUrl",void 0),(0,r.gn)([(0,l.fI)()],Fi.prototype,"iframeId",void 0),(0,r.gn)([(0,l.fI)()],Fi.prototype,"minWidth",void 0),(0,r.gn)([(0,l.fI)()],Fi.prototype,"iframeExited",void 0),(0,r.gn)([(0,l.fI)()],Fi.prototype,"currentBreakpoint",void 0),(0,r.gn)([(0,l.Rl)()],Fi.prototype,"mainWrapper",void 0),(0,r.gn)([(0,l.Rl)()],Fi.prototype,"iframeWrapper",void 0),(0,r.gn)([(0,l.Rl)()],Fi.prototype,"iframe",void 0),Fi=(0,r.gn)([(0,l.wA)({components:{StandardButton:Si,Loading:Li.Z,PreviewWidthAdjustmentHandle:gi}})],Fi);const $i=Fi,Vi=$i;var Wi=(0,L.Z)(Vi,Ri,Ni,!1,null,null,null);const Hi=Wi.exports;let zi=class extends s.ZP{constructor(){super(...arguments),this.iframeExited=!1,this.foreignDocumentsOverlayVueApp=null,this.canvasApp=null}handlePreviewWidthChange(e){c.kD.changePreviewWidthMutation(e)}handlePreviewWidthChangeWithAdjustmentBar(e){c.kD.changePreviewWidthWithAdjustmentBar(e)}handleResetPreviewWidth(){c.kD.selectBaseBreakpoint()}setIframeAsExited(){c.PK.leavingIframeOnPurpose?c.PK.setLeavingIframeOnPurpose(!1):this.iframeExited=!0}reloadIframe(){this.iframeExited=!1,setTimeout((()=>{window.frames["iframe"].location.reload()}),0)}get iframeMinWidth(){return(0,we.GV)(c.cr)}get canvasPreviewWidth(){return c.kD.canvasPreviewWidth}get canvasState(){return c.kD.canvasState}get currentBreakpoint(){return c.kD.currentBreakpoint}get iframeURL(){if(c.PK.documentSpecificNeededUrls&&-1!==c.Hb.document.documentMeta.id){const e=new URL(c.PK.documentSpecificNeededUrls.iframeUrl);return e.searchParams.append("breakdance_iframe","true"),e.searchParams.append("breakdance_open_document",`${c.Hb.document.documentMeta.id}`),e.toString()}return null}mountForeignDocumentsOverlayVueAppInIframe(e,t){const n=e.createElement("div");n.classList.add("breakdance-foreign-documents-overlay-mountpoint"),e.body.appendChild(n),this.foreignDocumentsOverlayVueApp=new s.ZP({el:n,store:c.ZP,vuetify:Pi.Z,render(n){return n(Mi,{props:{elementsToWatch:e.querySelectorAll("[data-breakdance-foreign-document]"),canvasElement:t,iframeDocument:e},on:{openDocument:e=>{confirm(`Edit ${e.title}?`)&&window.open(e.builderUrl,"_top")}}})}})}mountCanvasInIframe(e){if(!e.contentDocument)throw"Unable to mount canvas in iframe because its document is missing";(0,D.hm)(e.contentDocument),(0,Ke.B6)(document,window.Breakdance.canvas.document),mi.w.registerAllStoreActions();const t=window.Breakdance.canvas.document.querySelector("#breakdance-canvas-wrapper");this.canvasApp=new s.ZP({store:c.ZP,vuetify:Pi.Z,render:e=>e(ri)}).$mount(t),this.mountForeignDocumentsOverlayVueAppInIframe(window.Breakdance.canvas.document,this.canvasApp.$el),(0,D.sy)().appendChild((0,Oi.ok)(document,x,"iframe-styles")),(0,D.sy)().appendChild((0,Oi.ok)(document,S,"iframe-singularity-styles")),this.unbindClickEventOnInnerIframeLinks(),this.$emit("loaded")}unbindClickEventOnInnerIframeLinks(){const e=[...window.Breakdance.canvas.document.querySelectorAll("a:not([force-allow-clicks])")],t=[...window.Breakdance.canvas.document.querySelectorAll("#breakdance_canvas a")],n=e.filter((e=>!t.includes(e)));n.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault()}))}))}destroyed(){this.canvasApp&&this.canvasApp.$destroy(),this.foreignDocumentsOverlayVueApp&&this.foreignDocumentsOverlayVueApp.$destroy()}};zi=(0,r.gn)([(0,l.wA)({components:{IframeWrapper:Hi,Loading:Li.Z,Canvas:ri,ForeignDocumentsOverlay:Mi,PreviewWidthAdjustmentHandle:gi,StandardButton:Si}})],zi);const Ui=zi,Ki=Ui;var Gi=(0,L.Z)(Ki,b,_,!1,null,null,null);const qi=Gi.exports;let ji=class extends s.ZP{get isSingularityMode(){return c.kD.isSingularityMode}};ji=(0,r.gn)([(0,l.wA)({components:{IframeCanvas:qi}})],ji);const Yi=ji,Xi=Yi;var Qi=(0,L.Z)(Xi,f,y,!1,null,null,null);const Ji=Qi.exports;var eo=n(55234),to=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TopBar",["oxygen"===e.builderMode?[t("TopBarSection",[t("OxygenMenuDropdown"),t("AddButton",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]}),t("IconButton",{staticClass:"open-structure-toolbar-button",attrs:{active:e.isStructurePanelOpen,icon:"LayersIconSolid",size:"14"},on:{click:e.toggleStructurePanel}}),e.isEditingInline?t("InlineEditorTopbarIndicator"):t("DocumentChooser"),t("PreviewSize"),t("PreviewContentChooserDialog"),t("BreakpointsSelection",{model:{value:e.currentBreakpoint,callback:function(t){e.currentBreakpoint=t},expression:"currentBreakpoint"}})],1),t("TopBarSection",[e.shouldShowUpgradeToProButton?t("UpgradeToPro"):e._e(),e.isAiEnabled?t("IconButton",{staticClass:"open-ai-assistant-button",attrs:{active:e.isAiPanelOpen,icon:"SparklesIconSolid",size:"14"},on:{click:e.toggleAiPanel}}):e._e(),t("UndoRedo"),t("SettingsDropdown"),t("IconButton",{attrs:{active:e.isOxySelectorsPanelOpen,icon:"BracketsSolidIcon",size:"14"},on:{click:e.toggleOxySelectorsPanel}}),t("IconButton",{attrs:{active:e.isVariablesPanelOpen,icon:"DollarSolidIcon",size:"14"},on:{click:e.toggleVariablesPanel}}),t("IconButton",{attrs:{active:e.isPreviewMode,icon:"PlaySolidIcon",size:"14"},on:{click:e.togglePreviewMode}}),t("Save"),t("OxygenPreview")],1)]:e._e(),"breakdance"===e.builderMode?[t("AddButton",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]}),t("TopBarSection",{attrs:{"border-right":!0}},[t("IconButton",{staticClass:"open-properties-toolbar-button",attrs:{active:e.isElementPropertiesOpen,icon:"EditIcon",size:"18"},on:{click:e.toggleElementProperties}})],1),t(eo.Z,{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]}),e.isEditingInline?t("InlineEditorTopbarIndicator"):t("DocumentChooser"),t("PreviewContentChooserDialog"),t("TopBarSection",{attrs:{borderRight:!0}},[t("BreakpointsSelection",{model:{value:e.currentBreakpoint,callback:function(t){e.currentBreakpoint=t},expression:"currentBreakpoint"}})],1),t("TopBarSection",[t("PreviewSize")],1),t(eo.Z),e.shouldShowUpgradeToProButton?[t("TopBarSection",[t("UpgradeToPro")],1)]:e._e(),e.isAiEnabled?t("TopBarSection",{attrs:{borderLeft:!0}},[t("IconButton",{staticClass:"open-ai-assistant-button",attrs:{active:e.isAiPanelOpen,icon:"SparklesIcon",size:"18"},on:{click:e.toggleAiPanel}})],1):e._e(),t("UndoRedo"),t("TopBarSection",{staticClass:"top-bar-settings-and-structure-section",attrs:{"border-left":!0}},[t("IconButton",{staticClass:"open-structure-toolbar-button",attrs:{active:e.isStructurePanelOpen,icon:"LayersIcon",size:"18"},on:{click:e.toggleStructurePanel}}),t("SettingsDropdown"),t("IconButton",{staticClass:"open-preview-toolbar-button",attrs:{active:e.isPreviewMode,icon:"PlayIcon",size:"18"},on:{click:e.togglePreviewMode}})],1),t("TopBarSection",{attrs:{borderLeft:!0}},[t("Save")],1),t("Exit")]:e._e()],2)},no=[],so=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",["breakdance"===e.builderMode?t("StandardButton",{staticStyle:{"margin-left":"3px","margin-right":"3px"},attrs:{loading:e.saveInProgress,minWidth:"80",testId:"main-save-button"},on:{click:e.save}},[e._v(" Save ")]):e._e(),"oxygen"===e.builderMode?t("button",{class:{"button-save-oxygen":!0,"button-save-oxygen-loading":e.saveInProgress,"button-save-oxygen-unsaved":e.unsavedChangesPresent},on:{click:e.save}},[e.saveInProgress?t("Icon",{staticClass:"animate-spin",attrs:{icon:"CircleNotchSolidIcon",size:"14"}}):t("span",[e._v("Save")]),e.unsavedChangesPresent?t("span",{staticClass:"button-save-oxygen-indicator"}):e._e()],1):e._e()],1)},ao=[],io=n(7892),oo=n(90133);let ro=class extends s.ZP{constructor(){super(...arguments),this.unsubscribe=null}get saveInProgress(){return c.kD.saveInProgress}get unsavedChangesPresent(){return c.kD.unsavedChangesPresent}async save(){document.dispatchEvent(new Event("breakdanceSaveButtonClicked")),await(0,Di.$)()}mounted(){Ke.uq.unbind(Ge.r.CMD_S),Ke.uq.register(Ge.r.CMD_S,this.save),this.unsubscribe=this.$store.subscribe((e=>{Ce.n.shouldMutationBeIgnored(e)||c.kD.setUnsavedChangesPresent(!0)})),this.warnIfUnsavedFunction=(0,io.$)((()=>c.kD.unsavedChangesPresent))}beforeDestroy(){Ke.uq.unbind(Ge.r.CMD_S),this.unsubscribe&&this.unsubscribe(),(0,io.e)(this.warnIfUnsavedFunction)}get builderMode(){return c.PK.builderMode}};ro=(0,r.gn)([(0,l.wA)({components:{StandardButton:Si,IconButton:oo.Z,Icon:ze.Z}})],ro);const lo=ro,co=lo;var uo=(0,L.Z)(co,so,ao,!1,null,null,null);const po=uo.exports;var ho=n(70248),go=n(61908),mo=n(11193),vo=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return["breakdance"===e.builderMode?t("IconButton",e._g({staticStyle:{"margin-right":"0"},attrs:{active:!e.isBase,icon:e.getDeviceIcon(e.currentBreakpoint.id),rotate:e.getDeviceIconRotation(e.currentBreakpoint.id),size:18}},n)):e._e(),"oxygen"==e.builderMode?t("button",e._g({staticClass:"breakpoint-selection-oxygen"},n),[t("Icon",{attrs:{icon:e.getDeviceIcon(e.currentBreakpoint.id),rotate:e.getDeviceIconRotation(e.currentBreakpoint.id),size:14}}),e._v(e._s(e.currentBreakpoint.label)+" ")],1):e._e()]}}])},[t(ho.Z,e._l(e.breakpoints,(function(n){return t(go.Z,{key:n.id,class:e.activeClass(n.id),attrs:{"two-line":"",dense:""},on:{click:function(t){return e.changeBreakpoint(n)}}},[t("div",{staticClass:"device-icon-wrapper"},[t("Icon",{attrs:{icon:e.getDeviceIcon(n.id),rotate:e.getDeviceIconRotation(n.id),size:"breakdance"===e.builderMode?"18":"14"}})],1),t(mo.km,{staticClass:"ml-4"},[t(mo.V9,[e._v(e._s(n.label))]),t(mo.oZ,["Desktop"===n.label?[e._v(" All device widths ")]:e._e(),n.maxWidth&&!n.minWidth?[e._v(" "+e._s(n.maxWidth)+"px and below ")]:e._e(),!n.maxWidth&&n.minWidth?[e._v(" "+e._s(n.minWidth)+"px and above ")]:e._e(),n.maxWidth&&n.minWidth?[e._v(" Between "+e._s(n.minWidth)+"px and "+e._s(n.maxWidth)+"px ")]:e._e()],2)],1)],1)})),1)],1)},fo=[],yo=n(15133);let bo=class extends s.ZP{getDeviceIcon(e){return we.b8[e]?.icon||we.nR}getDeviceIconRotation(e){return we.b8[e]?.rotate}get isBase(){return this.currentBreakpoint.id===we.Wp}get breakpoints(){return c.PK.breakpoints}get currentBreakpoint(){return this.value}get builderMode(){return c.PK.builderMode}activeClass(e){return this.currentBreakpoint.id===e&&"breakpoint-active"}changeBreakpoint(e){this.$emit("input",e)}onBreakpointsChanged(){this.breakpoints.find((e=>e.id===this.currentBreakpoint.id))||c.kD.selectBaseBreakpoint()}};(0,r.gn)([(0,l.fI)()],bo.prototype,"value",void 0),(0,r.gn)([(0,l.RL)("breakpoints",{deep:!0,immediate:!0})],bo.prototype,"onBreakpointsChanged",null),bo=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,Dropdown:yo.Z,IconButton:oo.Z}})],bo);const _o=bo,xo=_o;var So=(0,L.Z)(xo,vo,fo,!1,null,null,null);const Po=So.exports;var Co=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TopBarSection",{staticClass:"undo-redo-top-bar-section",attrs:{"border-left":!0}},[t("IconButton",{attrs:{disabled:!e.canUndo,icon:"oxygen"==e.builderMode?"UndoIconSolid":"UndoIcon",size:"oxygen"==e.builderMode?14:18},on:{click:e.undo}}),t("IconButton",{attrs:{disabled:!e.canRedo,icon:"oxygen"==e.builderMode?"RedoIconSolid":"RedoIcon",size:"oxygen"==e.builderMode?14:18},on:{click:e.redo}})],1)},wo=[],Io=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classList},[e._t("default")],2)},ko=[];let Do=class extends s.ZP{get classList(){const e=["topbar-section"];return this.borderLeft&&e.push("topbar-section-bl"),this.borderRight&&e.push("topbar-section-br"),e}};(0,r.gn)([(0,l.fI)({default:!1})],Do.prototype,"borderLeft",void 0),(0,r.gn)([(0,l.fI)({default:!1})],Do.prototype,"borderRight",void 0),Do=(0,r.gn)([(0,l.wA)({components:{}})],Do);const Eo=Do,To=Eo;var Zo=(0,L.Z)(To,Io,ko,!1,null,null,null);const Ao=Zo.exports;let Bo=class extends s.ZP{mounted(){Ke.uq.register(Ge.r.CMD_Z,this.undo),Ke.uq.register(Ge.r.CMD_SHIFT_Z,this.redo)}get canUndo(){return c.GD.canUndo}get canRedo(){return c.GD.canRedo}undo(){this.canUndo&&Ce.n.undo()}redo(){this.canRedo&&Ce.n.redo()}beforeDestroy(){Ke.uq.unbind(Ge.r.CMD_Z),Ke.uq.unbind(Ge.r.CMD_SHIFT_Z)}get builderMode(){return c.PK.builderMode}};Bo=(0,r.gn)([(0,l.wA)({components:{IconButton:oo.Z,TopBarSection:Ao}})],Bo);const Mo=Bo,Oo=Mo;var Lo=(0,L.Z)(Oo,Co,wo,!1,null,null,null);const Ro=Lo.exports;var No=n(73385),Fo=n(77859),$o=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.previews?t("div",[t("TopBarSection",{attrs:{"border-right":!0}},[t("Dropdown",{attrs:{"offset-y":"","nudge-top":"oxygen"===e.builderMode?"-16px":0,"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("div",e._g({staticClass:"document-chooser",class:{"document-chooser-zero-case":e.nothingToPreview}},n),[t("PreviewChooserText",{attrs:{"preview-item":e.currentPreviewedItem,"nothing-to-preview":e.nothingToPreview}}),"breakdance"==e.builderMode?t("div",{staticClass:"document-chooser-dropdown-icon"},[t("Icon",{attrs:{size:"11",icon:"CaretDownIcon"}})],1):e._e(),"oxygen"!=e.builderMode||e.nothingToPreview?e._e():t("div",{staticClass:"document-chooser-dropdown-icon"},[t("Icon",{attrs:{size:"11",icon:"CaretDownSolidIcon"}})],1)],1)]}}],null,!1,3899795736),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[e.settingsOpen?t("PreviewChooserSettings",{on:{back:function(t){e.settingsOpen=!1}}}):t(No.Z,{staticClass:"vscroll-scroll vscroll-wrap",attrs:{width:"450",height:e.nothingToPreview?void 0:350,loading:e.isLoading}},[e.nothingToPreview?e._e():t("div",{staticClass:"preview-content-chooser-dialog-search-form-wrapper"},[t(Fo.Z,{staticClass:"preview-content-chooser-dialog-search-box breakdance-dense-input",attrs:{value:e.search,label:"Search...",clearable:"",solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)",autofocus:""},on:{input:e.handleSearch}}),e.isGlobalBlock?t("IconButton",{staticStyle:{"margin-right":"-5px"},attrs:{icon:"GearIcon",small:!0},on:{click:e.toggleSettings}}):e._e()],1),t(ho.Z,{staticClass:"vscroll-scroll",attrs:{dense:""}},[e._l(e.previews,(function(n,s){return t("PreviewChooserItem",{key:s,attrs:{item:n,selected:n.url===e.currentPreviewedItem?.url},on:{select:e.setPreviewedItem}})})),e.nothingToPreview?t("PreviewChooserNoResults"):0===e.previews.length?t("div",{staticClass:"previewable-items-zero-case align-center text-center"},[t("h4",[e._v("No results apply to this template")])]):e._e()],2)],1)],1)],1)],1):e._e()},Vo=[],Wo=n(23279),Ho=n.n(Wo),zo=n(25970),Uo=n(30902),Ko=n(45974),Go=n(98851),qo=n(23777);async function jo({id:e,search:t=""}){return(0,Go.D)({action:"breakdance_get_template_previewable_items_with_search",dataToPost:{search:t,id:e},decoder:qo.NC,resultKey:"data"})}var Yo=n(39664),Xo=function(){var e=this,t=e._self._c;e._self._setupProxy;return"breakdance"===e.builderMode?t("div",{staticClass:"document-chooser-text"},[e.previewItem?[t("h2",[e._v(e._s(e.previewItem.type))]),t("span",{staticClass:"ellipsis-text"},[e.previewItem.label?[e._v(" "+e._s(e.previewItem.label)+" ")]:e.previewItem.id?[e._v(" ID "+e._s(e.previewItem.id)+" ")]:[e._v("(no title)")]],2)]:e.nothingToPreview?[t("h2",[e._v("Nothing to Preview")]),t("span",{staticClass:"ellipsis-text"},[e._v(" No match found ")])]:[t("h2",[e._v("Previewing")]),t("span",{staticClass:"ellipsis-text"},[e._v(" choose ")])]],2):"oxygen"===e.builderMode?t("div",{staticClass:"document-chooser-text"},[e.previewItem?[t("span",{staticClass:"document-chooser-type-label"},[e._v("Preview "+e._s(e.previewItem.type)+":")]),t("span",{staticClass:"ellipsis-text"},[e._v(" "+e._s(e.previewLabel)+" ")])]:e.nothingToPreview?[t("span",{staticClass:"document-chooser-type-label"},[e._v("Nothing to preview")])]:[t("span",{staticClass:"document-chooser-type-label"},[e._v("Previewing:")]),t("span",{staticClass:"ellipsis-text"},[e._v("choose")])]],2):e._e()},Qo=[];let Jo=class extends l.w3{get builderMode(){return c.PK.builderMode}get previewLabel(){return this.previewItem?.label||`ID ${this.previewItem?.id||"(no title)"}`}};(0,r.gn)([(0,l.fI)()],Jo.prototype,"previewItem",void 0),(0,r.gn)([(0,l.fI)()],Jo.prototype,"nothingToPreview",void 0),Jo=(0,r.gn)([l.wA],Jo);const er=Jo,tr=er;var nr=(0,L.Z)(tr,Xo,Qo,!1,null,"1dce27c0",null);const sr=nr.exports;var ar=n(75223),ir=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(No.Z,{staticClass:"vscroll-scroll vscroll-wrap preview-chooser-settings",attrs:{width:"350"}},[t(ar.EB,{staticClass:"preview-chooser-settings-header"},[t("IconButton",{staticStyle:{"margin-left":"-9px"},attrs:{icon:"ArrowLeftIcon",small:!0,size:14},on:{click:function(t){return e.$emit("back")}}}),t("h4",{staticClass:"preview-chooser-settings__title"},[e._v("Settings")])],1),t("div",[t(ar.ZB,[t("h6",{staticClass:"preview-chooser-settings__subtitle"},[e._v("Preview")]),t("div",{staticClass:"my-3"},[t("span",{staticClass:"breakdance-control-wrapper-control-label"},[e._v(" ACF Flexible Content ")]),t("DropdownInput",{attrs:{value:e.blockSettings.preview.acfFlexibleField,placeholder:"Select a field to preview",autocomplete:!0,"dropdown-options":e.dropdownOptions,clearable:!0},on:{input:e.setFlexibleField}})],1),t("div",{staticClass:"my-3"},[t("span",{staticClass:"breakdance-control-wrapper-control-label"},[e._v(" Row Index ")]),t("NumberInput",{attrs:{value:e.blockSettings.preview.acfFlexibleFieldRow},on:{input:e.setRowIndex}})],1)])],1)],1)},or=[],rr=n(36968),lr=n.n(rr),cr=n(56125),dr=n(23267),ur=n(23128);let pr=class extends l.w3{constructor(){super(...arguments),this.dropdownOptions={populate:{path:"",text:"",value:"",fetchDataAction:"breakdance_fetch_flexible_content_fields",fetchContextPath:"",refetchPaths:[]}}}get postId(){return X.Hb.document.documentMeta.id}get blockSettings(){const e=X.Hb.document.documentMeta.blockSettings;return e||{preview:{acfFlexibleField:"",acfFlexibleFieldRow:void 0}}}async saveSettings(){await(0,Gs.fv)(this.postId,this.blockSettings),X.PK.flushDynamicDataCache()}setFlexibleField(e){const t=(0,ur.Z)(X.Hb.document.documentMeta);lr()(t,"blockSettings.preview.acfFlexibleField",e),Ce.n.ignore((()=>{X.Hb.setDocumentMeta(t),this.saveSettings()}))}setRowIndex(e){const t=(0,ur.Z)(X.Hb.document.documentMeta);lr()(t,"blockSettings.preview.acfFlexibleFieldRow",e),Ce.n.ignore((()=>{X.Hb.setDocumentMeta(t),this.saveSettings()}))}};pr=(0,r.gn)([(0,l.wA)({components:{TextInput:Qs.Z,IconButton:oo.Z,NumberInput:dr.Z,DropdownInput:cr.Z}})],pr);const hr=pr,gr=hr;var mr=(0,L.Z)(gr,ir,or,!1,null,null,null);const vr=mr.exports;var fr=function(){var e=this;e._self._c,e._self._setupProxy;return e._m(0)},yr=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"previewable-items-zero-case previewable-items-zero-case-error"},[t("h4",[e._v("Nothing To Preview")]),t("p",[e._v("Your template settings don't match any content. You can:")]),t("ul",[t("li",[e._v("Edit the template anyway - this is not an error.")]),t("li",[e._v(" Update your template settings in the WP admin at "),t("b",[e._v("Breakdance > Templates > Edit Template")])]),t("li",[e._v("Add some content to your site that matches the template settings.")])])])}];let br=class extends l.w3{};br=(0,r.gn)([(0,l.wA)({})],br);const _r=br,xr=_r;var Sr=(0,L.Z)(xr,fr,yr,!1,null,"7c7cb6d2",null);const Pr=Sr.exports;var Cr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(go.Z,{class:{"document-chooser-item-selected":e.selected},attrs:{link:""},on:{click:function(t){return e.$emit("select",e.item)}}},[t(mo.V9,{staticClass:"previewable-item-list-item"},[t("div",{staticClass:"previewable-item-label previewable-item-label-stop-text-from-overflowing"},[e._v(" "+e._s(e.item.label||e.item.url)+" ")]),t("div",{staticClass:"previewable-item-type"},[e._v(e._s(e.item.type))])])],1)},wr=[];let Ir=class extends l.w3{};(0,r.gn)([(0,l.fI)()],Ir.prototype,"item",void 0),(0,r.gn)([(0,l.fI)()],Ir.prototype,"selected",void 0),Ir=(0,r.gn)([l.wA],Ir);const kr=Ir,Dr=kr;var Er=(0,L.Z)(Dr,Cr,wr,!1,null,"02fdc782",null);const Tr=Er.exports;var Zr=n(20918);let Ar=class extends s.ZP{constructor(){super(...arguments),this.open=!1,this.search="",this.isLoading=!1,this.settingsOpen=!1,this.debouncedSearchContentInWp=Ho()(this.searchContentInWp,300)}get previews(){return c.PK.templatePreview&&c.PK.templatePreview.previewableItems}get currentPreviewedItem(){return c.PK.previewedItem}get builderMode(){return c.PK.builderMode}get nothingToPreview(){return(!this.previews||!this.previews.length)&&!this.search&&!this.isLoading}get isGlobalBlock(){return c.Hb.document.documentMeta.postType===(0,Zr.$M)()}async setPreviewedItem(e){this.open=!1,c.kD.setLastModifiedElementProperty({elementId:null,path:null}),c.PK.setPreviewedItem(e),c.PK.flushDynamicDataCache(),await(0,zo.Kd)(),(0,Ei.Ft)(e)}async handleSearch(e){this.search=e,this.isLoading=!0,this.debouncedSearchContentInWp()}async searchContentInWp(){this.isLoading=!0,(0,Uo.pipe)(await jo({search:this.search,id:c.Hb.document.documentMeta.id}),(0,Ko.fold)((e=>{this.isLoading=!1,e.forEach((e=>Yo.Z.log.message(e.msg)))}),(e=>{c.PK.setTemplatePreview({...c.PK.templatePreview,previewableItems:e}),this.isLoading=!1})))}toggleSettings(){this.settingsOpen=!this.settingsOpen}};Ar=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,Dropdown:yo.Z,IconButton:oo.Z,TopBarSection:Ao,PreviewChooserText:sr,PreviewChooserItem:Tr,PreviewChooserSettings:vr,PreviewChooserNoResults:Pr}})],Ar);const Br=Ar,Mr=Br;var Or=(0,L.Z)(Mr,$o,Vo,!1,null,null,null);const Lr=Or.exports;var Rr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TopBarSection",{staticClass:"document-chooser-section",attrs:{borderLeft:!0,borderRight:!0}},[t("Dropdown",{attrs:{"offset-y":"","nudge-top":"oxygen"===e.builderMode?"-16px":0,"close-on-content-click":!1,"close-on-click":!e.createOpen},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("div",e._g({staticClass:"document-chooser"},n),[t("div",{staticClass:"document-chooser-text"},["breakdance"===e.builderMode?t("h2",[e._v(" Editing "+e._s(e.currentDocument.documentMeta.typeLabel)+" ")]):e._e(),"oxygen"===e.builderMode?t("span",{staticClass:"document-chooser-type-label"},[t("span",[e._v(e._s(e.currentDocument.documentMeta.typeLabel)+":")])]):e._e(),-1!==e.currentDocument.documentMeta.id?t("span",{staticClass:"ellipsis-text"},[e._v(" "+e._s(e.documentTitle)+" ")]):t("span",{staticClass:"ellipsis-text"},[e._v(" choose a document to edit ")])]),"breakdance"===e.builderMode?t("div",{staticClass:"document-chooser-dropdown-icon"},[t("Icon",{attrs:{size:"11",icon:"CaretDownIcon"}})],1):e._e()])]}}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[t(No.Z,{staticClass:"vscroll-scroll vscroll-wrap",attrs:{width:"450",height:"350",loading:e.isLoading}},[t("div",{staticClass:"document-chooser-search"},[t("div",{staticClass:"document-chooser-search__input"},[t(Fo.Z,{staticClass:"preview-content-chooser-dialog-search-box breakdance-dense-input",attrs:{value:e.search,label:"Search...",clearable:"",solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)",autofocus:e.open},on:{input:e.handleSearch,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchContentInWp.apply(null,arguments)}}}),"breakdance"===e.builderMode?t("Icon",{staticClass:"document-chooser-search__create",attrs:{size:"13",icon:"PlusIcon"},on:{click:function(t){e.createOpen=!0}}}):e._e(),"oxygen"===e.builderMode&&0===e.search?.length?t("Icon",{staticClass:"document-chooser-search__search-icon",attrs:{size:"12",icon:"SearchIcon"}}):e._e()],1),"oxygen"===e.builderMode?t("IconButton",{staticClass:"breakdance-toolbar-icon-button document-chooser-search__icon-button",attrs:{size:"14",icon:"PlusIcon"},on:{click:function(t){e.createOpen=!0}}}):e._e()],1),t("DocumentChooserFilters",{attrs:{"sort-by":e.sortBy,"post-type":e.postType},on:{"update:sort-by":function(t){e.sortBy=t},"update:post-type":function(t){e.postType=t}}}),t(ho.Z,{ref:"scrollable",staticClass:"vscroll-scroll",attrs:{dense:""}},[e._l(e.availableDocuments,(function(n){return t("DocumentChooserItem",{key:n.id,attrs:{item:n,highlight:e.postToShowFirstId===n.id},on:{click:function(t){e.open=!1},update:e.updateTitleInPlace}})})),0===e.availableDocuments.length?t("div",{staticClass:"previewable-items-zero-case-search"},[t("svg",{staticClass:"previewable-items-zero-case-icon",attrs:{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}},[t("path",{attrs:{d:"M46.875 71.875a25 25 0 1 0 50 0 25 25 0 1 0-50 0ZM81.25 62.5 62.5 81.25M62.5 62.5l18.75 18.75","stroke-width":"6.250005"}}),t("path",{attrs:{d:"M34.375 84.375h-25a6.25 6.25 0 0 1-6.25-6.25V9.375a6.25 6.25 0 0 1 6.25-6.25h44.288a6.25 6.25 0 0 1 4.416 1.83L70.046 16.92a6.25 6.25 0 0 1 1.829 4.417v13.037","stroke-width":"6.250005"}})])]),t("h5",[e._v("No items found")]),t("p",[e._v("Try adjusting your search to find what you are looking for.")])]):e._e()],2)],1)],1),t("DocumentChooserCreateDialog",{attrs:{open:e.createOpen},on:{close:function(t){e.createOpen=!1},created:e.afterCreation}})],1)},Nr=[],Fr=n(38537);async function $r({search:e="",postType:t="",sortBy:n=""}){return(0,Go.D)({action:"breakdance_get_available_documents_with_search",dataToPost:{search:e,postType:t,sortBy:n},decoder:Fr.gu,resultKey:"data"})}var Vr=n(38562),Wr=n(39889),Hr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{staticClass:"document-chooser-create",attrs:{value:e.open},on:{close:function(t){return e.$emit("close")},"click:outside":function(t){return e.$emit("close")},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("close")}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Create Post")]},proxy:!0},{key:"text",fn:function(){return[t("div",{staticClass:"document-chooser-create-fields"},[t("TextInput",{staticClass:"flex-grow-1 flex-shrink-1",attrs:{placeholder:"Post Title",autofocus:e.autofocus},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.create.apply(null,arguments)}},model:{value:e.postTitle,callback:function(t){e.postTitle=t},expression:"postTitle"}}),t("DropdownInput",{staticClass:"flex-grow-1 flex-shrink-1",attrs:{placeholder:"Post Type",autocomplete:!0,"dropdown-options":e.dropdownOptions},model:{value:e.postType,callback:function(t){e.postType=t},expression:"postType"}})],1)]},proxy:!0},{key:"actions",fn:function(){return[t(qs.Z,{attrs:{text:""},on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),t(qs.Z,{attrs:{color:"blue",dark:"",loading:e.loading},on:{click:e.create}},[e._v(" Save ")])]},proxy:!0}])})},zr=[],Ur=n(3735),Kr=n(32521),Gr=n(48973);let qr=class extends l.w3{constructor(){super(...arguments),this.autofocus=!1,this.postTitle="",this.postType="",this.loading=!1,this.dropdownOptions={populate:{path:"",text:"",value:"",fetchDataAction:"breakdance_get_editable_post_types",fetchContextPath:"",refetchPaths:[]}}}onOpenChange(){this.open?(this.postTitle="",this.postType="",setTimeout((()=>{this.autofocus=!0}),100)):this.autofocus=!1}async create(){if(!this.postTitle||!this.postType)return;this.loading=!0;const e=(0,Ur.zG)(await(0,Go.D)({action:"breakdance_insert_post",friendlyName:"Insert Post",dataToPost:{postTitle:this.postTitle,postType:this.postType},decoder:Kr.dt({postId:Kr.pk})}),(0,Gr.g_)((()=>{}),(e=>e)));this.loading=!1,this.$emit("close"),this.$emit("created",{postId:e?.postId,postTitle:this.postTitle,postType:this.postType}),(0,Zr._T)(this.postType)&&(0,Gs.DQ)()}};(0,r.gn)([(0,l.fI)()],qr.prototype,"open",void 0),(0,r.gn)([(0,l.RL)("open")],qr.prototype,"onOpenChange",null),qr=(0,r.gn)([(0,l.wA)({components:{TextInput:Qs.Z,Dialog:Xs.Z,DropdownInput:cr.Z}})],qr);const jr=qr,Yr=jr;var Xr=(0,L.Z)(Yr,Hr,zr,!1,null,null,null);const Qr=Xr.exports;var Jr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(go.Z,{class:{"document-chooser-item-selected":e.item.id===e.currentDocument.documentMeta.id,"document-chooser-item-highlighted":e.highlight},attrs:{link:"",href:e.documentUrl},on:{click:e.replaceCurrentBuilderPage}},[t(mo.V9,{staticClass:"previewable-item-list-item"},[t("div",{staticClass:"previewable-item-label previewable-item-label-stop-text-from-overflowing"},[e._v(" "+e._s(e.title)+" ")]),e.isBreakdancePostType?t("span",{staticClass:"previewable-item-action",on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.isGlobalBlockTemplate?e.editGlobalBlock():e.editTemplate()}}},[e._v(" "+e._s(e.loadingData?"Loading...":"Edit Settings")+" ")]):e._e(),t("div",{staticClass:"previewable-item-type"},[e._v(e._s(e.item.typeLabel))])]),e.modalData&&e.isGlobalBlockTemplate?t("EditGlobalBlockModal",{attrs:{value:e.modalData.data,mode:e.modalData.type,globalBlocks:[]},on:{input:function(t){return e.$emit("update",t)},close:function(t){e.modalData=!1}}}):e.modalData?t("EditTemplateModal",{attrs:{value:e.modalData.data,templatesManagementData:e.templatesManagementData,postType:e.item.postType,templateParents:e.templateParentsWithoutTrashed,templates:e.templatesByStatus,mode:e.modalData.type,skipWarning:!0,canDisable:!0},on:{input:function(t){return e.$emit("update",t)},close:function(t){e.modalData=!1}}}):e._e()],1)},el=[],tl=n(93664),nl=n(67132),sl=n(60744);let al=class extends l.w3{constructor(){super(...arguments),this.templates=[],this.modalData=!1,this.loadingData=!1,this.templatesManagementData={conditions:[],dynamicFields:[],templateTypeCategories:[],popupTriggers:null}}get globalBlocks(){return c.PK.globalBlocks}get title(){return this.item.titleLabel?(0,Oi.aV)(this.item.titleLabel):`ID: ${this.item.id}`}get currentDocument(){return c.Hb.document}get templateParentsWithoutTrashed(){return[]}get templatesByStatus(){return[]}get documentUrl(){return(0,Ei.UH)(this.item.id)}get isBreakdancePostType(){return this.item.postType.startsWith(`${c.PK.builderMode}_`)&&!this.item.postType.endsWith(`${c.PK.builderMode}_part`)}get currentTemplate(){return this.templates.find((e=>e.id===this.item.id))}get currentGlobalBlock(){return this.globalBlocks.find((e=>e.id===this.item.id))}get isGlobalBlockTemplate(){return this.item.postType===(0,Zr.$M)()}async editGlobalBlock(){this.loadingData=!0,await this.loadGlobalBlocks(),this.currentGlobalBlock?(this.modalData={type:"edit",data:this.currentGlobalBlock},this.loadingData=!1):Yo.Z.log.message("Couldn't load Global Blocks data")}async editTemplate(){this.loadingData=!0,await this.loadTemplates(),this.currentTemplate?(this.modalData={type:"edit",data:this.currentTemplate},this.loadingData=!1):Yo.Z.log.message("Couldn't load templates data")}async loadGlobalBlocks(){return(0,Gs.DQ)()}async loadTemplates(){const e=this.item.postType;(0,Ur.zG)(await(0,nl.rf)(e),(0,Gr.g_)((()=>{Yo.Z.log.message("Couldn't load templates data")}),(e=>{this.templates=e.templates,this.templatesManagementData=e.templatesManagementData,c.PK.setDynamicFields(e.templatesManagementData.dynamicFields),c.PK.setConditions(e.templatesManagementData.conditions),c.PK.setEnvironment(e.environment)})))}async replaceCurrentBuilderPage(e){e.ctrlKey||e.metaKey||"builder"===window.Breakdance.initialMode&&(e.preventDefault(),this.$emit("click"),(0,Ei.rI)(this.item.id))}};(0,r.gn)([(0,l.fI)()],al.prototype,"item",void 0),(0,r.gn)([(0,l.fI)({default:!1})],al.prototype,"highlight",void 0),al=(0,r.gn)([(0,l.wA)({components:{EditGlobalBlockModal:sl.Z,EditTemplateModal:tl.Z,Icon:ze.Z}})],al);const il=al,ol=il;var rl=(0,L.Z)(ol,Jr,el,!1,null,"65a1e30b",null);const ll=rl.exports;var cl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"document-chooser-filters",class:{"document-chooser-filters--with-sort":e.sortBy}},[t("DropdownInput",{attrs:{"dropdown-options":e.postTypeOptions,size:"small",placeholder:"Post Type",value:e.postType,clearable:!0},on:{input:function(t){return e.$emit("update:post-type",t)}}}),t("DropdownInput",{attrs:{items:e.sortItems,size:"small",placeholder:"Sort By",value:e.sortBy,clearable:!0},on:{input:function(t){return e.$emit("update:sort-by",t)}}})],1)},dl=[];let ul=class extends l.w3{constructor(){super(...arguments),this.sortItems=[{text:"Last edited: Newest first",value:"modified_desc"},{text:"Last edited: Oldest first",value:"modified_asc"},{text:"Created: Newest first",value:"created_desc"},{text:"Created: Oldest first",value:"created_asc"}],this.postTypeOptions={populate:{path:"",text:"",value:"",fetchDataAction:"breakdance_get_editable_post_types",fetchContextPath:"",refetchPaths:[]}}}};(0,r.gn)([(0,l.fI)()],ul.prototype,"sortBy",void 0),(0,r.gn)([(0,l.fI)()],ul.prototype,"postType",void 0),ul=(0,r.gn)([(0,l.wA)({components:{DropdownInput:cr.Z}})],ul);const pl=ul,hl=pl;var gl=(0,L.Z)(hl,cl,dl,!1,null,null,null);const ml=gl.exports;let vl=class extends s.ZP{constructor(){super(...arguments),this.search="",this.open=!1,this.createOpen=!1,this.isLoading=!1,this.postToShowFirstId=null,this.sortBy="",this.postType="",this.debouncedSearchContentInWp=Ho()(this.searchContentInWp,200)}onOpenChange(){this.postToShowFirstId=null}onSortChange(){this.searchContentInWp()}onPostTypeChange(){this.searchContentInWp()}get documentTitle(){return this.currentDocument.documentMeta.titleLabel?(0,Oi.aV)(this.currentDocument.documentMeta.titleLabel):`ID: ${this.currentDocument.documentMeta.id}`}get unsavedChangesPresent(){return c.kD.unsavedChangesPresent}get availableDocuments(){const e=[...c.PK.availableDocuments];return null===this.postToShowFirstId?e:e.sort(((e,t)=>e.id===this.postToShowFirstId?-1:t.id===this.postToShowFirstId?1:0))}get builderMode(){return c.PK.builderMode}get currentDocument(){return c.Hb.document}handleSearch(e){this.postToShowFirstId=null,this.search=e,this.debouncedSearchContentInWp()}async searchContentInWp(){this.isLoading=!0,(0,Uo.pipe)(await $r({search:this.search||"",postType:this.postType,sortBy:this.sortBy}),(0,Ko.fold)((e=>{this.isLoading=!1,e.forEach((e=>Yo.Z.log.message(e.msg)))}),(e=>{c.PK.setAvailableDocuments(e),this.isLoading=!1}))),this.scrollToTop()}afterCreation(e){this.search="",this.postToShowFirstId=e.postId,this.postType&&this.postType!==e.postType?this.postType="":this.searchContentInWp()}scrollToTop(){const e=this.$refs.scrollable;this.$nextTick((()=>{e.$el.scrollTop=0}))}updateTitleInPlace(e){const t=this.availableDocuments.findIndex((t=>t.id===e.id)),n=this.availableDocuments[t];if(-1===t)return;const s=(0,ur.Z)(this.availableDocuments);s[t]={...n,titleLabel:e.title||e.label||""},c.PK.setAvailableDocuments(s)}};(0,r.gn)([(0,l.RL)("open")],vl.prototype,"onOpenChange",null),(0,r.gn)([(0,l.RL)("sortBy")],vl.prototype,"onSortChange",null),(0,r.gn)([(0,l.RL)("postType")],vl.prototype,"onPostTypeChange",null),vl=(0,r.gn)([(0,l.wA)({components:{DocumentChooserFilters:ml,NiceButton:Wr.Z,DropdownInput:cr.Z,TextInput:Qs.Z,Dialog:Xs.Z,Icon:ze.Z,Dropdown:yo.Z,SearchInput:Vr.Z,TopBarSection:Ao,DocumentChooserItem:ll,DocumentChooserCreateDialog:Qr,IconButton:oo.Z}})],vl);const fl=vl,yl=fl;var bl=(0,L.Z)(yl,Rr,Nr,!1,null,null,null);const _l=bl.exports;var xl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dropdown",{staticClass:"open-settings-toolbar-button",attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{active:e.anySettingsPanelsOpen,testId:"open-settings-menu",size:"breakdance"===e.builderMode?18:16,icon:"breakdance"===e.builderMode?"EllipsisStrokeIcon":"EllipsisSolidIcon"}},n))]}}])},[t(ho.Z,[e.globalSettingsAvailableForEditing?t(go.Z,{attrs:{dense:""},on:{click:e.openGlobalSettingsPanel}},[t(mo.V9,{attrs:{"data-test-id":"toggle-global-settings"}},[e._v(" Global Settings ")])],1):e._e(),"breakdance"==e.builderMode?t(go.Z,{attrs:{dense:""},on:{click:e.openSelectorsPanel}},[t(mo.V9,{attrs:{"data-test-id":"toggle-site-classes-selectors"}},[e._v(" Selectors ")])],1):e._e(),"breakdance"==e.builderMode?t(go.Z,{attrs:{dense:""},on:{click:e.openPresetsPanel}},[t(mo.V9,{attrs:{"data-test-id":"toggle-site-presets"}},[e._v(" Design Presets ")])],1):e._e(),t(go.Z,{attrs:{dense:""},on:{click:e.openHistoryAndRevisionsPanel}},[t(mo.V9,[e._v(" History ")])],1),"breakdance"==e.builderMode?t(go.Z,{staticClass:"breakdance-menu-open-preferences",attrs:{dense:""},on:{click:e.openPreferencesModal}},[t(mo.V9,{attrs:{"data-test-id":"breakdance-menu-open-preferences"}},[e._v(" Preferences ")])],1):e._e(),t(go.Z,{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],attrs:{"data-test-id":"toggle-element-studio",dense:"",disabled:"success"!==e.elementsLoadingState},on:{click:e.toggleElementStudio}},[t(mo.V9,{attrs:{"data-test-id":"breakdance-menu-open-element-studio"}},[t("div",{staticClass:"d-flex align-center"},[e._v("Element Studio")])])],1),e.aiSiteCreationExperienceAvailable?t(go.Z,{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],attrs:{dense:""},on:{click:e.toggleAiSiteCreationExperience}},[t(mo.V9,[t("div",{staticClass:"d-flex align-center"},[e._v("AI Site Creation Experience")])])],1):e._e()],1)],1)},Sl=[],Pl=n(95690);const Cl=Kr.dt({id:Kr.pk,title:Kr.Z_,relativeUrl:Kr.Z_,postType:Kr.Z_,singularityMeta:Fr.be});var wl=n(65669);async function Il(){const e=await kl();c.fz.setPagesInWP(e)}async function kl(){const e=(0,Uo.pipe)(await(0,Go.D)({action:"breakdance_singularity_get_pages",decoder:Kr.IX(Cl),resultKey:"data",dataToPost:{postType:"page"}}),(0,Ko.fold)((()=>[]),(e=>e)));return e}async function Dl(){return(0,Uo.pipe)(await(0,Go.D)({action:"breakdance_singularity_delete_all_pages_headers_and_footers",decoder:Kr.dt({success:Kr.Z_})}),(0,Ko.fold)((()=>null),(e=>{c.fz.setPagesInWP([])})))}async function El(e){return(0,Uo.pipe)(await(0,Go.D)({action:"breakdance_singularity_delete_page",decoder:Kr.dt({success:Kr.Z_}),dataToPost:{id:e}}),(0,Ko.fold)((()=>null),(t=>{c.fz.setPagesInWP(c.fz.pagesInWP.filter((t=>t.id!==e)))})))}async function Tl(e,t,n){return(0,Uo.pipe)(await(0,Go.D)({action:"breakdance_singularity_add_page",decoder:Kr.dt({success:Kr.Z_,id:Kr.pk,relativeUrl:Kr.Z_}),dataToPost:{title:e,singularityMeta:(0,wl.J)(t),post_type:n}}),(0,Ko.fold)((()=>null),(s=>{const a={id:s.id,relativeUrl:s.relativeUrl,title:e,postType:n,singularityMeta:t};return c.fz.setPagesInWP([...c.fz.pagesInWP,a]),a})))}async function Zl(e){return(0,Uo.pipe)(await(0,Go.D)({action:"breakdance_singularity_add_or_update_page",decoder:Kr.dt({success:Kr.Z_,id:Kr.pk,relativeUrl:Kr.Z_}),dataToPost:{id:e.id,title:e.title,postType:e.postType,tree:e.tree?(0,wl.J)((0,he.n$)(e.tree)):void 0,singularityMeta:e.singularityMeta?(0,wl.J)(e.singularityMeta):void 0,templateSettings:e.templateSettings?(0,wl.J)(e.templateSettings):void 0}}),(0,Ko.fold)((()=>null),(t=>{const n={id:t.id,title:e.title,relativeUrl:t.relativeUrl,postType:e.postType,singularityMeta:{...e.singularityMeta}};return c.fz.pagesInWP.find((e=>e.id===n.id))||c.fz.setPagesInWP([...c.fz.pagesInWP,n]),n})))}async function Al(e,t){return(0,Uo.pipe)(await(0,Go.D)({action:"breakdance_singularity_update_page",decoder:Kr.dt({success:Kr.Z_}),dataToPost:{id:e,title:t}}),(0,Ko.fold)((()=>null),(n=>{const s=c.fz.pagesInWP.map((n=>n.id===e?{...n,title:t}:n));return c.fz.setPagesInWP(s),!0})))}function Bl(e){switch(e){case"step1":Ml();break;case"step2":Ol();break;case"step3":break}}function Ml(){c.fz.setSingularityRightPanel("step1"),c.fz.setSingularityLeftPanel(null)}function Ol(){Il(),c.fz.setSingularityRightPanel(null),c.fz.setSingularityLeftPanel("page_structure")}function Ll(){c.kD.setMode({mode:"builder"}),Fl();const e=new URL(window.location.href);e.searchParams.delete("singularity"),window.history.replaceState({},"",e.toString())}function Rl(){Fl(),Nl(),Bl("step2");const e=new URL(window.location.href);e.searchParams.set("singularity","step2"),window.history.replaceState({},"",e.toString())}function Nl(){c.kD.setMode({mode:"builder",modifier:"singularity",singularityState:{step:window.Breakdance.singularity}})}function Fl(){c.kD.setCanvasState("loading"),c.PK.setLeavingIframeOnPurpose(!0)}let $l=class extends s.ZP{get builderMode(){return c.PK.builderMode}openPreferencesModal(){c.kD.setPreferencesModalOpen(!0)}toggleElementStudio(){c.kD.toggleElementStudio()}openGlobalSettingsPanel(){(0,Pl.oM)("globalSettings")}openSelectorsPanel(){c.kD.setActiveSelectorName(null),(0,Pl.oM)("selectors")}openPresetsPanel(){c.kD.setActivePresetId(null),(0,Pl.oM)("presets")}get elementsLoadingState(){return c.PK.elementsLoadingState}get anySettingsPanelsOpen(){return(0,Pl.O_)("selectors")||(0,Pl.O_)("history")||(0,Pl.O_)("globalSettings")||c.kD.panelState.elementStudioOpen||c.kD.panelState.preferencesModalOpen}openHistoryAndRevisionsPanel(){(0,Pl.oM)("history")}get globalSettingsAvailableForEditing(){return c.PK.globalSettingsControlsAndTemplate.controls.length>0}toggleAiSiteCreationExperience(){Rl()}get aiSiteCreationExperienceAvailable(){return!!window.Breakdance?.singularity}};$l=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,StandardButton:Si,Dropdown:yo.Z,IconButton:oo.Z}})],$l);const Vl=$l,Wl=Vl;var Hl=(0,L.Z)(Wl,xl,Sl,!1,null,null,null);const zl=Hl.exports;var Ul=n(59760),Kl=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.backToAdmin||e.backToFrontend?t("TopBarSection",{attrs:{borderLeft:!0}},[t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{icon:"oxygen"===e.builderMode?"XmarkSolidIcon":"XmarkIcon",size:"oxygen"===e.builderMode?14:18}},n))]}}],null,!1,2609831758)},[t(ho.Z,[e.backToFrontend?t(go.Z,{attrs:{dense:"",href:e.backToFrontend}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"BrowserIcon"}})],1),t(mo.km,{staticClass:"ml-4"},[t(mo.V9,[e._v("Exit to Frontend")])],1)],1):e._e(),t(go.Z,{attrs:{dense:"",href:e.backToAdmin}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"WordPressIcon"}})],1),t(mo.km,{staticClass:"ml-4"},[t(mo.V9,[e._v("Exit to WordPress")])],1)],1)],1)],1)],1):e._e()},Gl=[],ql=n(85902);let jl=class extends s.ZP{get backToAdmin(){return X.PK.documentSpecificNeededUrls?X.PK.documentSpecificNeededUrls.backToWordPressUrl:""}get backToFrontend(){return(0,ql.j)()}get builderMode(){return X.PK.builderMode}};jl=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,Dropdown:yo.Z,IconButton:oo.Z,TopBarSection:Ao}})],jl);const Yl=jl,Xl=Yl;var Ql=(0,L.Z)(Xl,Kl,Gl,!1,null,null,null);const Jl=Ql.exports;var ec=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TopBarSection",{attrs:{borderRight:!0}},["breakdance"===e.builderMode?t("StandardButton",{staticClass:"open-elements-toolbar-button",attrs:{active:e.isAddSectionOpen,size:"22",testId:"open-elements-toolbar-button"},on:{click:e.toggleAdd}},[e._v(" Add ")]):e._e(),"oxygen"===e.builderMode?t("IconButton",{attrs:{active:e.isAddSectionOpen,icon:"PlusIconSolid",size:"14"},on:{click:e.toggleAdd}}):e._e()],1)},tc=[];let nc=class extends s.ZP{mounted(){c.kD.hasFullAccess&&Ke.uq.register(Ge.r.CMD_A,this.toggleAdd)}toggleAdd(){(0,Pl._y)("add")}get isAddSectionOpen(){return(0,Pl.O_)("add")}beforeDestroy(){Ke.uq.unbind(Ge.r.CMD_A)}get builderMode(){return c.PK.builderMode}};nc=(0,r.gn)([(0,l.wA)({components:{StandardButton:Si,TopBarSection:Ao,IconButton:oo.Z}})],nc);const sc=nc,ac=sc;var ic=(0,L.Z)(ac,ec,tc,!1,null,null,null);const oc=ic.exports;var rc=n(78549),lc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(rc.Z,{staticClass:"pa-0 breakdance-topbar d-flex flex-row",attrs:{short:"",color:"var(--white)",height:"auto",width:"100%",flat:""}},[e._t("default")],2)},cc=[];let dc=class extends s.ZP{};dc=(0,r.gn)([l.wA],dc);const uc=dc,pc=uc;var hc=(0,L.Z)(pc,lc,cc,!1,null,null,null);const gc=hc.exports;var mc=n(12570),vc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",["breakdance"===e.builderMode?t("NiceButton",{attrs:{"right-icon":"StarsIcon",size:"18",color:"flat"},on:{click:e.toggleDialog}},[e._v("Try Breakdance Pro")]):e._e(),"oxygen"===e.builderMode?t("button",{staticClass:"button-upgrade-oxygen-pro",on:{click:e.toggleDialog}},[t("span",{staticClass:"shining-text"},[e._v(" Try Oxygen Pro")])]):e._e(),t(mc.Z,{attrs:{"max-width":"1120"},model:{value:e.dialogOpen,callback:function(t){e.dialogOpen=t},expression:"dialogOpen"}},[t("div",{staticClass:"upgrade-to-pro-modal-content"},[t("iframe",{attrs:{src:e.$bdox("website_link_upgrade_to_pro_iframe")}})])])],1)},fc=[];let yc=class extends s.ZP{constructor(){super(...arguments),this.dialogOpen=!1}toggleDialog(){this.dialogOpen=!this.dialogOpen,(0,Dt.K)("Upgrade To Pro Modal Toggled",{open:this.dialogOpen})}get builderMode(){return c.PK.builderMode}};yc=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,NiceButton:Wr.Z}})],yc);const bc=yc,_c=bc;var xc=(0,L.Z)(_c,vc,fc,!1,null,null,null);const Sc=xc.exports;var Pc=n(84192),Cc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dropdown",{attrs:{"offset-y":"","nudge-top":"-16px","nudge-left":"7","max-width":300},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({staticClass:"open-structure-toolbar-button",attrs:{icon:"OxygenLogoIcon",size:"14"}},n))]}}])},[t(ho.Z,[t(go.Z,{attrs:{dense:"",href:e.backToDashboard}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"WordPressIcon",size:"12"}})],1),t(mo.km,{staticClass:"ml-2"},[t(mo.V9,[e._v("Dashboard")])],1)],1),t(go.Z,{attrs:{dense:"",href:e.backToAdmin}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"WordPressIcon",size:"12"}})],1),t(mo.km,{staticClass:"ml-2"},[t(mo.V9,[e._v("Edit in WordPress")])],1)],1),t(go.Z,{attrs:{dense:""},on:{click:e.openPreferencesModal}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"SlidersSolidIcon",size:"12"}})],1),t(mo.km,{staticClass:"ml-2"},[t(mo.V9,[e._v("Preferences")])],1)],1),t(go.Z,{attrs:{dense:"",href:e.settingsUrl}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"OxygenLogoIcon",size:"12"}})],1),t(mo.km,{staticClass:"ml-2"},[t(mo.V9,[e._v("Plugin Settings")])],1)],1),t(Pc.Z),t(go.Z,{attrs:{dense:"",href:"https://oxygenbuilder.com/learn",target:"_blank"}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"VideoSolidIcon",size:"12"}})],1),t(mo.km,{staticClass:"ml-2"},[t(mo.V9,[e._v("Tutorials")])],1)],1),t(go.Z,{attrs:{dense:"",href:"https://oxygenbuilder.com/documentation",target:"_blank"}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"AlignLeftIcon",size:"12"}})],1),t(mo.km,{staticClass:"ml-2"},[t(mo.V9,[e._v("Documentation")])],1)],1)],1)],1)},wc=[];let Ic=class extends s.ZP{get backToAdmin(){return X.PK.documentSpecificNeededUrls?X.PK.documentSpecificNeededUrls.backToWordPressUrl:""}get backToDashboard(){return X.PK.neededData?.adminUrl}get settingsUrl(){return X.PK.neededData?.breakdanceSettingsUrl}openDesignLibrary(){X.kD.setDesignLibraryModalState(!0)}openPreferencesModal(){X.kD.setPreferencesModalOpen(!0)}};Ic=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,Dropdown:yo.Z,IconButton:oo.Z}})],Ic);const kc=Ic,Dc=kc;var Ec=(0,L.Z)(Dc,Cc,wc,!1,null,null,null);const Tc=Ec.exports;var Zc=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isGlobalBlock?e._e():t("Dropdown",{attrs:{"offset-y":"","nudge-top":"-16px","nudge-left":"7"},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({staticClass:"open-structure-toolbar-button",attrs:{icon:"ArrowUpRightSolidIcon",size:"14"}},n))]}}],null,!1,2597957379)},[t(ho.Z,[t(go.Z,{attrs:{dense:"",target:"_blank",href:e.backToFrontend}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"ExternalLinkIcon",size:"12"}})],1),t(mo.km,{staticClass:"ml-2"},[t(mo.V9,[e._v("Open in New Tab")])],1)],1),t(go.Z,{attrs:{dense:""},on:{click:e.copyFrontEndLinkToClipboard}},[t("div",{staticClass:"breakdance-menu-icon-wrapper"},[t("Icon",{attrs:{icon:"CopyIcon",size:"12"}})],1),t(mo.km,{staticClass:"ml-2"},[t(mo.V9,[e._v("Copy URL")])],1)],1)],1)],1)},Ac=[],Bc=n(66485),Mc=n.n(Bc);let Oc=class extends s.ZP{get isGlobalBlock(){return(0,Zr._T)(c.Hb.document.documentMeta.postType)}get backToFrontend(){return(0,ql.j)()}copyFrontEndLinkToClipboard(){this.backToFrontend&&Mc()(this.backToFrontend)}};Oc=(0,r.gn)([(0,l.wA)({components:{IconButton:oo.Z,Dropdown:yo.Z,Icon:ze.Z}})],Oc);const Lc=Oc,Rc=Lc;var Nc=(0,L.Z)(Rc,Zc,Ac,!1,null,null,null);const Fc=Nc.exports;var $c=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isGlobalBlock?t("Dropdown",{attrs:{"offset-y":"","nudge-top":-3,"max-width":300,"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[e.isOxygen?t("button",e._g({staticClass:"oxygen-button-primary"},n),[t("Icon",{attrs:{icon:"ExpandExpandIcon",size:"14"}}),e.preview.width&&e.preview.height?t("span",{staticClass:"d-flex flex-row align-center"},[t("span",[e._v(e._s(e.preview.width))]),t("Icon",{attrs:{icon:"XmarkSolidIcon",size:"10"}}),t("span",[e._v(e._s(e.preview.height))])],1):e._e()],1):t("NiceButton",e._g({staticClass:"preview-size-button",attrs:{size:"small"}},n),[e.preview.width&&e.preview.height?[e._v(" "+e._s(e.preview.width)+"x"+e._s(e.preview.height)+" ")]:[e._v("Preview Size")]],2)]}}],null,!1,2570908065)},[t("div",{staticClass:"preview-size-content"},[t("h4",{staticClass:"preview-size__title mb-2"},[e._v("Constrain Preview Size")]),t("div",{staticClass:"breakdance-control-wrapper"},[t("div",{staticClass:"breakdance-control-wrapper-label-and-stuff"},[t("span",{staticClass:"breakdance-control-wrapper-control-label"},[e._v(" Dimensions ")])]),t("div",{staticClass:"breakdance-control-wrapper-input-wrapper preview-size-inputs"},[t("UnitInput",{attrs:{type:"text",placeholder:"Width",value:{number:e.preview.width},options:{types:["px"],defaultType:"px"}},on:{input:e.changeWidth}}),t("Icon",{attrs:{icon:"CloseIcon"}}),t("UnitInput",{attrs:{type:"text",placeholder:"Height",value:{number:e.preview.height},options:{types:["px"],defaultType:"px"}},on:{input:e.changeHeight}})],1)]),t("div",{staticClass:"breakdance-control-wrapper breakdance-control-wrapper-inline"},[t("div",{staticClass:"breakdance-control-wrapper-label-and-stuff"},[t("span",{staticClass:"breakdance-control-wrapper-control-label"},[e._v(" Background Color ")])]),t("div",{staticClass:"breakdance-control-wrapper-input-wrapper"},[t("ColorInput",{attrs:{value:e.preview.backgroundColor},on:{input:e.changeBackgroundColor}})],1)]),t("div",{staticClass:"breakdance-control-wrapper breakdance-control-wrapper-inline"},[t("div",{staticClass:"breakdance-control-wrapper-label-and-stuff"},[t("span",{staticClass:"breakdance-control-wrapper-control-label"},[e._v(" Vertically Center ")])]),t("div",{staticClass:"breakdance-control-wrapper-input-wrapper"},[t("ToggleInput",{attrs:{value:e.preview.isCentered},on:{input:e.changeIsCentered}})],1)])])]):e._e()},Vc=[],Wc=n(62634),Hc=n(71821),zc=n(72252);let Uc=class extends s.ZP{get isGlobalBlock(){return(0,Zr._T)(c.Hb.document.documentMeta.postType)}get postId(){return c.Hb.document.documentMeta.id}get blockSettings(){const e=c.Hb.document.documentMeta.blockSettings;return e||{preview:this.getEmptyPreview()}}get preview(){return this.blockSettings.preview}get isOxygen(){return"oxygen"===c.PK.builderMode}getEmptyPreview(){return{width:void 0,height:void 0,backgroundColor:"",isCentered:!1}}changeWidth(e){this.updateProp("width",e?.number)}changeHeight(e){this.updateProp("height",e?.number)}changeBackgroundColor(e){this.updateProp("backgroundColor",e)}changeIsCentered(e){this.updateProp("isCentered",e)}updateProp(e,t){const n=(0,ur.Z)(c.Hb.document.documentMeta);if(lr()(n,`blockSettings.preview.${e}`,t),!1!==n.blockSettings){const e=Object.values(n.blockSettings.preview).every((e=>void 0===e));e&&lr()(n,"blockSettings.preview",this.getEmptyPreview())}Ce.n.ignore((async()=>{c.Hb.setDocumentMeta(n),await(0,Gs.fv)(this.postId,this.blockSettings)}))}};Uc=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,ToggleInput:zc.Z,ColorInput:Hc.Z,UnitInput:Wc.Z,NumberInput:dr.Z,NiceButton:Wr.Z,TextInput:Qs.Z,Dropdown:yo.Z}})],Uc);const Kc=Uc,Gc=Kc;var qc=(0,L.Z)(Gc,$c,Vc,!1,null,null,null);const jc=qc.exports;var Yc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TopBarSection",{attrs:{borderLeft:!0,borderRight:!0}},[t("div",{staticClass:"inline-editor-topbar-indicator",on:{click:e.closeEditor}},[t("Icon",{staticClass:"inline-editor-topbar-indicator__icon",attrs:{icon:"ArrowLeftIcon"}}),t("span",{staticClass:"inline-editor-topbar-indicator__title truncate"},[e._v(" "+e._s(e.block?.label)+" ")]),t("Icon",{staticClass:"inline-editor-topbar-indicator__icon",attrs:{icon:"GlobeIcon"}})],1)])},Xc=[];let Qc=class extends l.w3{get block(){return c.PK.globalBlocks.find((e=>c.kD.inlineEditingContext?.blockId===e.id))}closeEditor(){c.kD.resetInlineEditingContext()}};Qc=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,TopBarSection:Ao}})],Qc);const Jc=Qc,ed=Jc;var td=(0,L.Z)(ed,Yc,Xc,!1,null,null,null);const nd=td.exports;let sd=class extends s.ZP{get shouldShowUpgradeToProButton(){return"free"===c.PK.subscriptionMode}get isPreviewMode(){return c.kD.isPreviewMode}togglePreviewMode(){c.kD.togglePreviewMode()}toggleElementProperties(){(0,Pl._y)("elementproperties")}get isElementPropertiesOpen(){return(0,Pl.O_)("elementproperties")}get isOxySelectorsPanelOpen(){return(0,Pl.O_)("oxySelectors")}get isVariablesPanelOpen(){return(0,Pl.O_)("variables")}toggleStructurePanel(){(0,Pl._y)("structure")}toggleOxySelectorsPanel(){(0,Pl._y)("oxySelectors")}toggleVariablesPanel(){(0,Pl._y)("variables")}get isStructurePanelOpen(){return(0,Pl.O_)("structure")}get isAiEnabled(){return c.PK.ai?.enabled}get isAiPanelOpen(){return(0,Pl.O_)("ai")}toggleAiPanel(){(0,Pl._y)("ai")}get activeElementId(){return c.kD.activeElementId}get isEditingInline(){return c.kD.inlineEditingContext?.elementId}get currentBreakpoint(){return c.kD.currentBreakpoint}set currentBreakpoint(e){c.kD.changeBreakpoint(e)}mounted(){Ke.uq.register(Ge.r.CMD_SHIFT_S,(()=>(0,Ul.b0)("SCALED_TO_FIT"!==c.kD.settings.scaleToFit)))}beforeDestroy(){Ke.uq.unbind(Ge.r.CMD_SHIFT_S)}get builderMode(){return c.PK.builderMode}};sd=(0,r.gn)([(0,l.wA)({components:{InlineEditorTopbarIndicator:nd,PreviewSize:jc,TopBar:gc,Exit:Jl,AddButton:oc,TopBarSection:Ao,SettingsDropdown:zl,BreakpointsSelection:Po,Save:po,UndoRedo:Ro,PreviewContentChooserDialog:Lr,DocumentChooser:_l,IconButton:oo.Z,UpgradeToPro:Sc,OxygenMenuDropdown:Tc,OxygenPreview:Fc}})],sd);const ad=sd,id=ad;var od=(0,L.Z)(id,to,no,!1,null,null,null);const rd=od.exports;var ld=n(56275),cd=n(53333),dd=n(77671),ud=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(mc.Z,{attrs:{"content-class":"preferences-modal-dialog",value:e.open,"max-width":"780",persistent:""},on:{input:function(t){return e.$emit("update:dialog",!1)},"click:outside":e.handleClickOutside}},[t(No.Z,{staticClass:"d-flex flex-column",attrs:{height:"100%"}},[!0===e.saveInProgress?[t("div",{staticClass:"flex-grow-1 d-flex justify-center align-center mt-auto mb-auto"},[t(ld.Z,{attrs:{size:100,indeterminate:"",color:"var(--gray300)"}})],1)]:[t("div",{staticClass:"flex-grow-1 d-flex flex-row",staticStyle:{overflow:"auto"}},[t("div",{staticClass:"preferences-tab-area"},[t("h2",{staticClass:"preferences-modal-title-text"},[e._v("Preferences")]),t(dd.Z,{staticClass:"breakdance-tabs",attrs:{vertical:""},on:{change:e.handleChangeTab},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(cd.Z,{staticClass:"breakdance-tabs__tab"},[t("Icon",{staticClass:"ml-1 mr-3",attrs:{icon:"SlidersIcon",size:"16"}}),e._v(" UI Settings ")],1),t(cd.Z,{staticClass:"breakdance-tabs__tab"},[t("Icon",{staticClass:"ml-1 mr-3",attrs:{icon:"FontIcon",size:"16"}}),e._v(" Custom Fonts ")],1),t(cd.Z,{staticClass:"breakdance-tabs__tab"},[t("Icon",{staticClass:"ml-1 mr-3",attrs:{size:"16",icon:"BreakpointsIcon"}}),e._v(" Breakpoints ")],1)],1)],1),t("button",{staticClass:"preferences-close-button",on:{click:e.handleClickOutside}},[t("Icon",{attrs:{size:"20",icon:"CloseIcon"}})],1),t("div",{staticClass:"flex-grow-1 preferences-content-area"},[e.currentTab===e.fontFamiliesTab?t("CustomFontFamilies",{ref:"customFontFamiliesPanel",attrs:{value:e.customFontFamilies},on:{input:e.updateCustomFontFamilies}}):e._e(),e.currentTab===e.customBreakpointsTab?t("CustomBreakpointsPanel",{ref:"customBreakpointsPanel",attrs:{value:e.customBreakpoints},on:{input:e.updateBreakpoints}}):e._e(),e.currentTab===e.uiSettingsTab?t("CustomUiSettings"):e._e()],1)])]],2)],1)],1)},pd=[],hd=n(51168),gd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("PreferencesPanel",{attrs:{save:{text:"Save Breakpoints",function:e.applyChanges,inProgress:!1,disabled:!e.unsavedChangesPresent}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Breakpoints")]},proxy:!0},{key:"content",fn:function(){return[t("EditBreakpoints",{attrs:{value:e.internalValue},on:{input:e.breakpointsEdited}})]},proxy:!0}])})},md=[],vd=n(18446),fd=n.n(vd),yd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e._l(e.value,(function(n){return t("EditBreakpoint",{key:n.id,attrs:{value:n,isEditing:n.id===e.editingBreakpointId},on:{input:e.updateOrAddBreakpoint,delete:function(t){return e.deleteBreakpoint(n.id)},edit:e.edit}})})),!e.showAddForm&&e.value.length>0?t(qs.Z,{attrs:{outlined:""},on:{click:e.openAddBreakpointForm}},[e._v(" Add Breakpoint ")]):e._e(),t("div",[e.showAddForm?[t("div",{staticClass:"add-breakpoint-form-content-wrapper"},[t("div",{staticClass:"add-breakpoint-heading-box"},[t("h4",{staticClass:"add-breakpoint-heading"},[e._v("Add New Breakpoint")]),t("IconButton",{staticClass:"add-breakpoint-close-button",attrs:{icon:"CloseIcon",size:"18"},on:{click:e.toggleAddBreakpointForm}})],1),t("TextInput",{attrs:{placeholder:"Breakpoint name, ie. iPhone X or tablet",size:"md","validation-function-name":"validateNoQuotes"},model:{value:e.newBreakpointLabel,callback:function(t){e.newBreakpointLabel=t},expression:"newBreakpointLabel"}}),t(qs.Z,{attrs:{disabled:!e.newBreakpointLabel,text:""},on:{click:e.addBreakpoint}},[t("Icon",{staticClass:"mr-2",attrs:{icon:"PlusIcon"}}),e._v(" Add ")],1)],1)]:e._e(),e.showAddForm||0!=e.value.length?e._e():t("EmptyStatePreferences",[t("p",[e._v("Add your first breakpoint by clicking the button below.")]),t(qs.Z,{attrs:{outlined:""},on:{click:e.openAddBreakpointForm}},[e._v(" Add Breakpoint ")])],1)],2)],2)},bd=[],_d=n(82202),xd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{ref:"form",staticClass:"mx-n2 pa-2 py-3 breakpoint-edit"},[t("h3",{staticClass:"font-weight-medium breakpoint-title text-capitalize mb-2"},[e._v(" "+e._s(e.value.label)+" ")]),t("div",{staticClass:"d-flex align-center justify-space-between"},[t("div",{staticClass:"media-query-box"},[e.isEditing?t("div",{staticClass:"media-query-box-items"},[t("div",{staticClass:"media-query-input-wrapper"},[t("div",{staticClass:"d-flex flex-column"},[t("label",{staticClass:"breakdance-text-input__label"},[e._v("Maximum width (px)")]),t("NumberInput",{model:{value:e.internalValue.maxWidth,callback:function(t){e.$set(e.internalValue,"maxWidth",t)},expression:"internalValue.maxWidth"}})],1)]),t("div",{staticClass:"media-query-input-wrapper"},[t("div",{staticClass:"d-flex flex-column"},[t("label",{staticClass:"breakdance-text-input__label"},[e._v("Minimum width (px)")]),t("NumberInput",{model:{value:e.internalValue.minWidth,callback:function(t){e.$set(e.internalValue,"minWidth",t)},expression:"internalValue.minWidth"}})],1)]),t("div",{staticClass:"media-query-input-wrapper"},[t("div",{staticClass:"d-flex flex-column"},[t("label",{staticClass:"media-query-box-label"},[e._v("Default Preview Width")]),t("DropdownInput",{staticClass:"breakdance-dense-select breakdance-dense-select--md",attrs:{label:"Default Preview Width",value:"100%"===e.internalValue.defaultPreviewWidth?"100%":"custom",items:["100%","custom"],dense:"",solo:"",flat:"",filled:"",clearable:""},on:{input:e.setDefaultPreviewWidth}})],1)]),t("div",{staticClass:"media-query-input-wrapper"},["100%"!==e.internalValue.defaultPreviewWidth?[t("div",{staticClass:"d-flex flex-column"},[t("label",{staticClass:"breakdance-text-input__label"},[e._v("Custom width (px)")]),t("NumberInput",{model:{value:e.internalValue.defaultPreviewWidth,callback:function(t){e.$set(e.internalValue,"defaultPreviewWidth",t)},expression:"internalValue.defaultPreviewWidth"}})],1)]:e._e()],2),t("div",{staticClass:"d-flex justify-end align-center"},[t(qs.Z,{staticClass:"mr-3",attrs:{text:"",color:"red darken-1"},on:{click:e.cancel}},[e._v("Cancel")]),t("NiceButton",{attrs:{disabled:!e.internalValue.maxWidth&&!e.internalValue.minWidth},on:{click:e.save}},[e._v("Save")])],1)]):t("div",{on:{click:e.enableEditing}},[this.mediaQueryString?[t("div",{staticClass:"media-query-string"},[e._v(e._s(this.mediaQueryString))])]:[t(_d.Z,{staticClass:"mt-4",attrs:{dense:"",text:"",color:"orange"}},[e._v(" Click to set min and max widths. ")])]],2)]),e.isEditing?e._e():t("div",{staticClass:"breakpoint-edit__actions"},[t("IconButton",{staticClass:"mr-1",attrs:{icon:"EditIcon",size:"18"},on:{click:e.enableEditing}}),t("IconButton",{attrs:{icon:"TrashIcon",size:"18"},on:{click:function(t){t.stopPropagation(),e.deleteDialog=!0}}})],1)])]),t("ConfirmDialog",{attrs:{show:e.deleteDialog,type:"error","action-text":"Delete","discard-text":"Cancel","save-is-enabled":!0,"discard-is-enabled":!0},on:{discard:function(t){e.deleteDialog=!1},save:e.deleteBreakpoint},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Delete breakpoint?")]},proxy:!0},{key:"text",fn:function(){return[e._v("{If you delete the "+e._s(e.value.label||`${e.value.defaultPreviewWidth}px`)+" breakpoint, you will lose all design changes it applies.")]},proxy:!0}])})],1)},Sd=[],Pd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(mc.Z,{attrs:{value:e.show,persistent:"",width:400},on:{"click:outside":function(t){return e.$emit("click:outside")}}},[t(No.Z,{staticClass:"breakdance-dialog"},[e.type?t("div",{staticClass:"card-alert"},[t(_d.Z,{staticClass:"card-alert__icon",attrs:{type:e.type}})],1):e._e(),t(ar.EB,{staticClass:"breakdance-dialog-title"},[e._t("title")],2),t(ar.ZB,{staticClass:"breakdance-dialog-contents"},[e._t("text")],2),t(ar.h7,{staticClass:"breakdance-dialog-actions"},[e.hasCancel?t(qs.Z,{on:{click:()=>this.$emit("cancel")}},[e._v(e._s(e.cancelText)+" ")]):e._e(),e.hasDiscard?t(qs.Z,{attrs:{disabled:!e.discardIsEnabled,loading:e.discardIsInProgress},on:{click:()=>this.$emit("discard")}},[e._v(e._s(e.discardText)+" ")]):e._e(),t(qs.Z,{attrs:{color:e.type,dark:"",disabled:!e.saveIsEnabled,loading:e.saveIsInProgress},on:{click:()=>this.$emit("save")}},[e._v(e._s(e.actionText)+" ")])],1)],1)],1)},Cd=[];let wd=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],wd.prototype,"show",void 0),(0,r.gn)([(0,l.fI)({default:"info"})],wd.prototype,"type",void 0),(0,r.gn)([(0,l.fI)({default:!1})],wd.prototype,"hasCancel",void 0),(0,r.gn)([(0,l.fI)({default:"Cancel"})],wd.prototype,"cancelText",void 0),(0,r.gn)([(0,l.fI)()],wd.prototype,"saveIsEnabled",void 0),(0,r.gn)([(0,l.fI)()],wd.prototype,"saveIsInProgress",void 0),(0,r.gn)([(0,l.fI)({default:!0})],wd.prototype,"hasDiscard",void 0),(0,r.gn)([(0,l.fI)()],wd.prototype,"discardIsEnabled",void 0),(0,r.gn)([(0,l.fI)()],wd.prototype,"discardIsInProgress",void 0),(0,r.gn)([(0,l.fI)({default:"Save"})],wd.prototype,"actionText",void 0),(0,r.gn)([(0,l.fI)({default:"Discard"})],wd.prototype,"discardText",void 0),wd=(0,r.gn)([(0,l.wA)({components:{}})],wd);const Id=wd,kd=Id;var Dd=(0,L.Z)(kd,Pd,Cd,!1,null,null,null);const Ed=Dd.exports;let Td=class extends s.ZP{constructor(){super(...arguments),this.deleteDialog=!1,this.internalValue=(0,ur.Z)(this.value)}setDefaultPreviewWidth(e){const t=this.internalValue.maxWidth??this.internalValue.minWidth??250;this.internalValue.defaultPreviewWidth="100%"===e?"100%":t}enableEditing(){this.$emit("edit",this.value.id)}get breakpoints(){return c.PK.breakpoints}get previewWidthUnit(){return"px"}deleteBreakpoint(){this.$emit("delete"),this.deleteDialog=!1}get mediaQueryString(){const e=this.internalValue.minWidth||void 0,t=this.internalValue.maxWidth||void 0;return(0,we.Mc)(e,t)}cancel(){this.internalValue=(0,ur.Z)(this.value),this.$emit("edit","")}save(){const e=(0,ur.Z)(this.internalValue);(0,Uo.pipe)((0,we.cb)(e),(0,Ko.fold)((e=>{e.forEach((e=>Yo.Z.log.message(e.msg)))}),(e=>{this.$emit("input",e),this.$emit("edit","")})))}};(0,r.gn)([(0,l.fI)()],Td.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Td.prototype,"isEditing",void 0),Td=(0,r.gn)([(0,l.wA)({components:{IconButton:oo.Z,TextInput:Qs.Z,NumberInput:dr.Z,DropdownInput:cr.Z,NiceButton:Wr.Z,ConfirmDialog:Ed},directives:{focus:{inserted:function(e){e.focus()}}}})],Td);const Zd=Td,Ad=Zd;var Bd=(0,L.Z)(Ad,xd,Sd,!1,null,null,null);const Md=Bd.exports;var Od=function(){var e=this,t=e._self._c;return t("div",{staticClass:"preferences-empty-state"},[e._t("default")],2)},Ld=[],Rd={},Nd=(0,L.Z)(Rd,Od,Ld,!1,null,null,null);const Fd=Nd.exports;let $d=class extends s.ZP{constructor(){super(...arguments),this.editingBreakpointId="",this.showAddForm=!1,this.newBreakpointLabel=""}edit(e){this.editingBreakpointId=e,this.showAddForm=!1}openAddBreakpointForm(){this.showAddForm=!0,this.editingBreakpointId=""}toggleAddBreakpointForm(){this.showAddForm=!this.showAddForm}addBreakpoint(){if(!this.newBreakpointLabel)return;const e=this.newBreakpointLabel.toLowerCase().replace(/[- ]/g,"_"),t=`custom_breakpoint_${e}`;this.updateOrAddBreakpoint({id:t,label:this.newBreakpointLabel,minWidth:void 0,maxWidth:void 0,defaultPreviewWidth:"100%"})}deleteBreakpoint(e){const t=(0,ur.Z)(this.value),n=t.findIndex((t=>t.id===e));t.splice(n,1),this.$emit("input",t)}updateOrAddBreakpoint(e){const t=(0,we.lx)(this.value,e);this.$emit("input",t),!0===this.showAddForm&&(this.showAddForm=!1),this.newBreakpointLabel=""}};(0,r.gn)([(0,l.fI)()],$d.prototype,"value",void 0),$d=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,EditBreakpoint:Md,EmptyStatePreferences:Fd,TextInput:Qs.Z,IconButton:oo.Z}})],$d);const Vd=$d,Wd=Vd;var Hd=(0,L.Z)(Wd,yd,bd,!1,null,null,null);const zd=Hd.exports;var Ud=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"preferences-panel-topbar"},[t("div",{staticClass:"preferences-panel-heading"},[e._t("title")],2),e._t("aftertitle"),t(eo.Z)],2),t("div",{staticClass:"preferences-panel-content-area"},[e._t("content")],2),t("div",{staticClass:"preferences-bottom-panel"},[e.hideSaveButton?e._e():t(qs.Z,{attrs:{loading:e.save.inProgress,disabled:e.save.disabled,color:"blue",dark:""},on:{click:e.save.function}},[e._v(e._s(e.save.text)+" ")])],1)])},Kd=[];let Gd=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],Gd.prototype,"save",void 0),(0,r.gn)([(0,l.fI)({default:!1})],Gd.prototype,"hideSaveButton",void 0),Gd=(0,r.gn)([(0,l.wA)({})],Gd);const qd=Gd,jd=qd;var Yd=(0,L.Z)(jd,Ud,Kd,!1,null,null,null);const Xd=Yd.exports;let Qd=class extends s.ZP{constructor(){super(...arguments),this.internalValue=(0,ur.Z)(this.value)}get unsavedChangesPresent(){return!fd()((0,ur.Z)(this.internalValue),(0,ur.Z)(this.value))}applyChanges(){this.$emit("input",this.internalValue)}breakpointsEdited(e){this.internalValue=e}};(0,r.gn)([(0,l.fI)()],Qd.prototype,"value",void 0),Qd=(0,r.gn)([(0,l.wA)({components:{EditBreakpoints:zd,PreferencesPanel:Xd}})],Qd);const Jd=Qd,eu=Jd;var tu=(0,L.Z)(eu,gd,md,!1,null,null,null);const nu=tu.exports;var su=n(56904),au=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("PreferencesPanel",{attrs:{save:{text:"Save Fonts",function:e.applyChanges,inProgress:e.saveInProgress,disabled:!e.unsavedChangesPresent||e.isFreeMode}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Custom Fonts")]},proxy:!0},{key:"content",fn:function(){return[t("ProOnlyAlertBox",{staticClass:"mb-5",attrs:{options:{content:`Managing custom fonts is only available in ${e.$bdox("plugin_name")} Pro`,feature:"custom-fonts"}}}),e._l(e.internalValue,(function(n,s){return t("FontFamily",{key:n.family,attrs:{value:n,isOpen:s===e.openedFontIndex},on:{open:function(t){return e.openFont(t?s:-1)},delete:function(t){return e.deleteFontFamily(s)},input:function(t){return e.updateFontFamily(t,s)}}})})),e.internalValue.length?[t("div",{staticClass:"mt-12"})]:e._e(),t("h4",{staticClass:"mb-4 font-weight-medium"},[e._v("Add Font")]),e.showAddForm||0!=e.internalValue.length?e._e():t("EmptyStatePreferences",[t("p",[e._v(" Add a font family to "+e._s(e.$bdox("plugin_name"))+"'s font family dropdowns, and optionally upload associated .woff/.woff2 files. ")]),t(qs.Z,{attrs:{outlined:"",disabled:e.isFreeMode},on:{click:e.toggleAddForm}},[e._v(" Add Font ")])],1),e.showAddForm?t("div",[t(su.Z,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.saveNewFontFamily.apply(null,arguments)}},model:{value:e.validForm,callback:function(t){e.validForm=t},expression:"validForm"}},[t("div",{staticClass:"add-font-family-form-content-wrapper"},[t("div",{staticClass:"add-font-heading-box"},[t("h4",{staticClass:"add-font-heading"},[e._v("Add New Font")]),t("IconButton",{staticClass:"add-font-cloe-button",attrs:{icon:"CloseIcon",size:"18"},on:{click:e.toggleAddForm}})],1),t("TextInput",{attrs:{placeholder:"Custom font name, ie. Helvetica",outlined:"",dense:"",solo:"",flat:"","single-line":"",size:"md","validation-function-name":"validateAlphanumericHyphenUnderscore"},model:{value:e.fontFamily,callback:function(t){e.fontFamily=t},expression:"fontFamily"}}),t(qs.Z,{attrs:{disabled:!e.fontFamily||!0!==e.validFontFamily,type:"submit",text:""}},[t("Icon",{staticClass:"mr-2",attrs:{icon:"PlusIcon"}}),e._v(" Add ")],1)],1)])],1):e._e(),e.internalValue.length>0&&!e.showAddForm?t(qs.Z,{attrs:{outlined:"",disabled:e.isFreeMode},on:{click:e.toggleAddForm}},[e._v(" Add Font ")]):e._e(),t("h4",{staticClass:"my-4 font-weight-medium mt-12"},[e._v("Use Fonts In External CSS")]),e.showCssForm||0!=e.internalValue.length?e._e():t("EmptyStatePreferences",[t("p",[e._v("Use hosted fonts from providers like Adobe Fonts.")]),t(qs.Z,{attrs:{outlined:"",disabled:e.isFreeMode},on:{click:e.toggleCssForm}},[e._v(" Add External CSS ")])],1),e.showCssForm?t("div",[t(su.Z,{ref:"cssForm",on:{submit:function(t){return t.preventDefault(),e.saveCssUrl.apply(null,arguments)}},model:{value:e.validCssForm,callback:function(t){e.validCssForm=t},expression:"validCssForm"}},[t("div",{staticClass:"add-font-family-form-content-wrapper mb-4"},[t("div",{staticClass:"add-font-heading-box"},[t("h4",{staticClass:"add-font-heading"},[e._v("CSS URL")]),t("IconButton",{staticClass:"add-font-cloe-button",attrs:{icon:"CloseIcon",size:"18"},on:{click:e.toggleCssForm}})],1),t("TextInput",{attrs:{rules:[e=>!!e||"Please enter a value",t=>e.isValidUrl(t)||"Please enter a valid URL"],placeholder:"URL to CSS file containing Font Face definitions",outlined:"",dense:"",solo:"",flat:"","single-line":"",size:"md"},model:{value:e.cssUrl,callback:function(t){e.cssUrl=t},expression:"cssUrl"}}),t(qs.Z,{attrs:{disabled:e.saveInProgress,type:"submit",text:""}},[t("Icon",{staticClass:"mr-2",attrs:{icon:"PlusIcon"}}),e._v(" Add ")],1)],1)])],1):e._e(),e.internalValue.length>0&&!e.showCssForm?t(qs.Z,{attrs:{outlined:"",disabled:e.isFreeMode},on:{click:e.toggleCssForm}},[e._v(" Add CSS URL ")]):e._e()]},proxy:!0}])})},iu=[],ou=n(88667);async function ru(e){return await(0,Go.D)({action:"breakdance_save_font_file",dataToPost:{file:e},decoder:ou.zM})}async function lu(e){return await(0,Go.D)({action:"breakdance_get_font_families_from_css_file",dataToPost:{cssUrl:e},decoder:ou.lU})}async function cu(e){return await(0,Go.D)({action:"breakdance_save_font_families",dataToPost:{customFontFamilies:(0,wl.J)(e)},decoder:ou.lU})}const du=e=>{const t=(0,ur.Z)(X.PK.fonts),n=t.findIndex((t=>t.slug===e.slug));-1===n?t.unshift(e):t[n]=e,X.PK.setFonts(t)},uu=e=>{const t=(0,ur.Z)(X.PK.fonts),n=t.findIndex((t=>t.slug===e));n>-1&&t.splice(n,1),X.PK.setFonts(t)};var pu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"custom-font-family"},[t("div",{staticClass:"custom-font-family-titlebar",on:{click:e.toggleFaces}},[t("div",{staticClass:"custom-font-family-title"},[e._v(" "+e._s(e.value.family)+" ")]),t(qs.Z,{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.deleteFontFamily.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"TrashIcon"}})],1)],1),e.isOpen?t("div",{staticClass:"custom-font-family-edit"},[e.value.hasExternalCssUrl?e._e():t("div",[t("FontFaces",{attrs:{value:e.value.faces},on:{input:e.editFontFamily}}),t("TextField",{attrs:{placeholder:"CSS Fallback String (separate font families with commas)",value:e.value.fallbackString,size:"md"},on:{input:e.editFallbackString}}),e.fallbackStringHasBeenEdited?[t(_d.Z,{staticClass:"mt-4",attrs:{dense:"",border:"left",text:"",type:"warning"}},[e._v(" Changes to the CSS fallback string will take effect after "),t("strong",[e._v("saving and refreshing")]),e._v(". ")])]:e._e()],2),e.value.hasExternalCssUrl?t("div",[t("span",{staticStyle:{"font-size":"var(--text-sm)","font-weight":"500"}},[e._v("Sourced from "+e._s(e.value.cssUrl))]),t("TextField",{staticClass:"mt-4",attrs:{placeholder:"CSS Fallback String (separate font families with commas)",value:e.value.fallbackString,size:"md"},on:{input:e.editFallbackString}})],1):e._e()]):e._e()])},hu=[],gu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"custom-font-family-font-faces"},[e._l(e.value,(function(n,s){return t("UpdateFontFace",{key:n.id,attrs:{value:n,existingFontFaces:e.existingFontFaces(s)},on:{input:function(t){return e.updateFontFace(t,s)},delete:function(t){return e.deleteFontFace(s)}}})})),t("FontFileUpload",{on:{save:e.newFontFileSuccessfullyUploaded}})],2)},mu=[],vu=n(9207),fu=n(42564),yu=n(25135),bu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"custom-font-family-font-face"},[t(su.Z,{ref:"form",model:{value:e.isFontFaceUnique,callback:function(t){e.isFontFaceUnique=t},expression:"isFontFaceUnique"}},[t("div",{staticClass:"custom-font-family-font-face-titlebar"},[t("div",{staticClass:"custom-font-family-font-face-titlebar-title"},e._l(e.value.files,(function(n){return t("div",{key:n.fileUrl,staticClass:"mr-3"},[e._v(" "+e._s(n.fileName)+" ")])})),0),t(qs.Z,{attrs:{icon:""},on:{click:e.deleteFontFace}},[t("Icon",{attrs:{icon:"TrashIcon"}})],1)],1),t("div",{staticClass:"custom-font-family-font-face-controls"},[t("div",{staticClass:"custom-font-family-font-face-controls-control"},[t(yu.Z,{staticClass:"mr-4",attrs:{dense:"",outlined:"",value:e.value.weight,items:e.weights,rules:[e.validateWeight],label:"Font Weight"},on:{input:e.updateWeight}})],1),t("div",{staticClass:"custom-font-family-font-face-controls-control"},[t(fu.Z,{staticClass:"pt-0 mt-0 mr-4",attrs:{value:e.value.style,rules:[e.validateStyle],row:"",dense:""},on:{change:e.updateStyle}},[t(vu.Z,{attrs:{label:"Normal",value:"normal"}}),t(vu.Z,{attrs:{label:"Italic",value:"italic"}})],1)],1)])])],1)},_u=[],xu=n(52343);let Su=class extends s.ZP{constructor(){super(...arguments),this.isFontFaceUnique=!0}validateWeight(e){return e?!this.existingFontFaces.find((t=>t.weight===e&&t.style===this.value.style))?.files.find((e=>this.valueFormats.includes(e.format)))||"This font weight already exists with this style, and format":"A weight is required"}validateStyle(e){return!this.existingFontFaces.find((t=>t.weight===this.value.weight&&t.style===e))?.files.find((e=>this.valueFormats.includes(e.format)))||"This font style already exists with this weight, and format"}get valueFormats(){return this.value.files.map((e=>e.format))}revalidateOnValueChange(){this.form.validate()}updateWeight(e){const t={...this.value,weight:e};this.$emit("input",t)}updateStyle(e){const t={...this.value,style:e};this.$emit("input",t)}deleteFontFace(){this.$emit("delete")}get weights(){return xu.I}get currentWeight(){return xu.I.find((e=>e.value===this.value.weight))}};(0,r.gn)([(0,l.Rl)()],Su.prototype,"form",void 0),(0,r.gn)([(0,l.fI)()],Su.prototype,"value",void 0),(0,r.gn)([(0,l.fI)({default:[]})],Su.prototype,"existingFontFaces",void 0),(0,r.gn)([(0,l.RL)("value")],Su.prototype,"revalidateOnValueChange",null),Su=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z}})],Su);const Pu=Su,Cu=Pu;var wu=(0,L.Z)(Cu,bu,_u,!1,null,null,null);const Iu=wu.exports;var ku=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-font-file-uploader"},[t("FileUpload",{attrs:{height:"150px",accept:".woff,.woff2",saveInProgress:e.saveInProgress},on:{input:e.handleFiles}},[e._v(" drag .woff or .woff2 files or "),t("span",{staticClass:"breakdance-font-file-uploader-choose-link"},[e._v("browse...")])])],1)},Du=[],Eu=n(30895);let Tu=class extends s.ZP{constructor(){super(...arguments),this.saveInProgress=!1}handleFiles(e){Array.from(e).forEach((e=>{const t=new FileReader;t.onloadend=async t=>{if(!t?.target)return;const n=new Uint8Array(t.target.result).subarray(0,4);let s="";n.forEach((e=>s+=e.toString(16)));const a=e.name.split(".").pop(),i="774f4646"===s&&"woff"===a,o="774f4632"===s&&"woff2"===a;i||o?(this.saveInProgress=!0,(0,Uo.pipe)(await ru(e),(0,Ko.fold)((e=>{(0,hd.UE)(e)}),(e=>{this.$emit("save",{fileUrl:e.fileUrl,format:i?"woff":"woff2",fileName:e.fileName})}))),this.saveInProgress=!1):Yo.Z.log.message('Only  ".woff" and ".woff2" files are supported')},t.readAsArrayBuffer(e)}))}};Tu=(0,r.gn)([(0,l.wA)({components:{FileUpload:Eu.Z}})],Tu);const Zu=Tu,Au=Zu;var Bu=(0,L.Z)(Au,ku,Du,!1,null,null,null);const Mu=Bu.exports;var Ou=n(8773);let Lu=class extends s.ZP{newFontFileSuccessfullyUploaded(e){const t=Nu(e),n=[...this.value,t];this.$emit("input",n)}updateFontFace(e,t){const n=[...this.value],s=e.files.map((e=>e.format)),a=n.findIndex((t=>t.weight===e.weight&&t.style===e.style&&!t.files.find((e=>s.includes(e.format)))));-1===a?n[t]=e:(n[a].files=[...n[a].files,...e.files],n.splice(t,1)),this.$emit("input",n)}deleteFontFace(e){const t=[...this.value];t.splice(e,1),this.$emit("input",t)}existingFontFaces(e){return this.value.filter(((t,n)=>n!==e))}};(0,r.gn)([(0,l.fI)()],Lu.prototype,"value",void 0),Lu=(0,r.gn)([(0,l.wA)({components:{FontFileUpload:Mu,UpdateFontFace:Iu}})],Lu);const Ru=Lu;function Nu(e){return{id:(0,Ou.Z)(),files:[e],style:"normal",weight:0}}const Fu=Ru;var $u=(0,L.Z)(Fu,gu,mu,!1,null,null,null);const Vu=$u.exports;let Wu=class extends s.ZP{constructor(){super(...arguments),this.fallbackStringHasBeenEdited=!1}toggleFaces(){this.$emit("open",!this.isOpen)}deleteFontFamily(){this.$emit("delete")}editFallbackString(e){this.fallbackStringHasBeenEdited=!0,this.$emit("input",{...this.value,fallbackString:e})}editFontFamily(e){this.$emit("input",{...this.value,faces:e})}editCssUrl(e){this.$emit("input",{...this.value,cssUrl:e})}};(0,r.gn)([(0,l.fI)()],Wu.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Wu.prototype,"isOpen",void 0),Wu=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,FontFaces:Vu,TextField:Qs.Z}})],Wu);const Hu=Wu,zu=Hu;var Uu=(0,L.Z)(zu,pu,hu,!1,null,null,null);const Ku=Uu.exports;var Gu=n(13997),qu=n(2028),ju=n(73077);let Yu=class extends s.ZP{constructor(){super(...arguments),this.internalValue=(0,ur.Z)(this.value),this.fontFamily="",this.cssUrl="",this.validForm=!0,this.validCssForm=!0,this.saveInProgress=!1,this.openedFontIndex=-1,this.showAddForm=!1,this.showCssForm=!1}get unsavedChangesPresent(){return!fd()((0,ur.Z)(this.internalValue),(0,ur.Z)(this.value))}get validFontFamily(){return(0,Gu.q3)(this.fontFamily)}toggleAddForm(){this.showAddForm=!this.showAddForm}toggleCssForm(){this.showCssForm=!this.showCssForm}async applyChanges(){this.saveInProgress=!0,(0,Uo.pipe)(await cu(this.internalValue),(0,Ko.fold)((e=>{(0,hd.UE)(e)}),(e=>{e.forEach((e=>{const t=this.internalValue.findIndex((t=>t.id===e.fontId));this.internalValue[t].cssUrl=e.cssUrl,this.internalValue[t].cssName=e.fontRegistrationData.cssName,du(e.fontRegistrationData)})),this.$emit("input",this.internalValue)}))),this.saveInProgress=!1}openFont(e){this.isFreeMode||(this.openedFontIndex=e)}updateFontFamily(e,t){const n=(0,ur.Z)(this.internalValue);n[t]=e,this.internalValue=n}deleteFontFamily(e){if(this.isFreeMode)return;const t=(0,ur.Z)(this.internalValue);t.splice(e,1),uu(this.internalValue[e].id),this.internalValue=t}saveNewFontFamily(){this.form.validate()&&this.fontFamily&&(this.internalValue.push({id:"custom_font_"+this.fontFamily.toLowerCase().replace(/ /g,"_"),family:this.fontFamily,fallbackString:"",cssUrl:"",hasExternalCssUrl:!1,cssName:this.fontFamily,faces:[]}),this.openedFontIndex=this.internalValue.length-1,this.fontFamily="",this.form.reset(),this.showAddForm=!1)}async saveCssUrl(){this.cssForm.validate()&&this.cssUrl&&(this.saveInProgress=!0,(0,Uo.pipe)(await lu(this.cssUrl),(0,Ko.fold)((e=>{(0,hd.UE)(e)}),(e=>{e.forEach((e=>{const t=this.internalValue.findIndex((t=>t.id===e.fontId))>-1;t||this.internalValue.unshift({id:e.fontId,family:e.fontRegistrationData.label,fallbackString:e.fontRegistrationData.fallbackString,cssUrl:e.cssUrl,hasExternalCssUrl:!0,cssName:e.fontRegistrationData.cssName,faces:[]})}))}))),this.saveInProgress=!1,this.cssUrl="",this.showCssForm=!1)}isValidUrl(e){let t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol}get isFreeMode(){return"free"===X.PK.subscriptionMode}};(0,r.gn)([(0,l.Rl)()],Yu.prototype,"form",void 0),(0,r.gn)([(0,l.Rl)()],Yu.prototype,"cssForm",void 0),(0,r.gn)([(0,l.fI)()],Yu.prototype,"value",void 0),Yu=(0,r.gn)([(0,l.wA)({components:{ProOnlyAlertBox:ju.Z,AlertBox:qu.Z,FontFamily:Ku,PreferencesPanel:Xd,EmptyStatePreferences:Fd,Icon:ze.Z,TextInput:Qs.Z,IconButton:oo.Z}})],Yu);const Xu=Yu,Qu=Xu;var Ju=(0,L.Z)(Qu,au,iu,!1,null,null,null);const ep=Ju.exports;var tp=n(76660),np=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("PreferencesPanel",{attrs:{"hide-save-button":!0},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("UI Settings")]},proxy:!0},{key:"content",fn:function(){return[t("h4",{staticClass:"mb-4 font-weight-medium"},[e._v("Settings")]),t("div",{staticClass:"ui-setting"},[t(tp.Z,{attrs:{"input-value":e.autoScrollEnabled,inset:"",label:"Auto-scroll to active element",color:"oxygen"===e.builderMode?"var(--oxygen-primary-500)":null},on:{change:e.setAutoScrollEnabled}})],1),t("div",{staticClass:"ui-setting"},[t(tp.Z,{attrs:{"input-value":e.isScaledToFit,label:"Scale content to fit the screen (zoom)",color:"oxygen"===e.builderMode?"var(--oxygen-primary-500)":null,inset:""},on:{change:e.setScaleToFit}})],1),"breakdance"===e.builderMode?t("div",{staticClass:"ui-setting"},[t(tp.Z,{attrs:{"input-value":e.isDarkMode,label:"Dark Mode",inset:""},on:{change:e.toggleTheme}})],1):e._e(),e.displayShowExperimentalElementsSetting?t("div",{staticClass:"ui-setting"},[t(tp.Z,{attrs:{"input-value":e.showExperimentalElements,label:"Show Experimental Elements",color:"oxygen"===e.builderMode?"var(--oxygen-primary-500)":null,inset:""},on:{change:e.setShowExperimentalElements}})],1):e._e(),t("div",{staticClass:"ui-setting"},[t(tp.Z,{attrs:{"input-value":e.disableNoticeForEmptySSRElements,label:"Disable Message For Empty SSR Elements",color:"oxygen"===e.builderMode?"var(--oxygen-primary-500)":null,inset:""},on:{change:e.setDisableNoticeForEmptySSRElements}})],1),t("div",{staticClass:"ui-setting"},[t(tp.Z,{attrs:{"input-value":e.isShowingIdsInStructurePanel,label:"Show elements ID in the Structure Panel",color:"oxygen"===e.builderMode?"var(--oxygen-primary-500)":null,inset:""},on:{change:e.setIsShowingIdsInStructurePanel}})],1),t("div",{staticClass:"ui-setting"},[t(tp.Z,{attrs:{"input-value":e.disableCodeMirrorLineWrapping,label:"Disable Code Editor Line Wrapping",color:"oxygen"===e.builderMode?"var(--oxygen-primary-500)":null,inset:""},on:{change:e.setDisableCodeMirrorLineWrapping}})],1),t("div",{staticClass:"ui-setting"},[t(tp.Z,{attrs:{"input-value":e.isTinyMcePreferredForRichText,label:"Prefer TinyMCE For Rich Text",color:"oxygen"===e.builderMode?"var(--oxygen-primary-500)":null,inset:""},on:{change:e.setIsTinyMcePreferredForRichText}})],1),t("div",{staticClass:"ui-setting"},[t(tp.Z,{attrs:{"input-value":e.includeCustomBreakpointsInBreakpointsDropdown,label:"Include Custom Breakpoints in Breakpoint Dropdowns",color:"oxygen"===e.builderMode?"var(--oxygen-primary-500)":null,inset:""},on:{change:e.setIncludeCustomBreakpointsInBreakpointsDropdown}})],1),e.includeCustomBreakpointsInBreakpointsDropdown?[t("AlertBox",{staticClass:"mb-5",attrs:{options:{style:"info",content:`<a target='_blank' href='${e.customBreakpointsDocUrl}'>Limitations May Apply</a>`}}})]:e._e(),"breakdance"===e.builderMode?t("div",{staticClass:"ui-setting"},[t(tp.Z,{attrs:{"input-value":e.showPreviousBreakpointValueAsPlaceholder,label:"Experimental: Show Previous Breakpoint Value As Placeholder",inset:""},on:{change:e.setShowPreviousBreakpointValueAsPlaceholder}})],1):e._e(),t("div",{staticClass:"ui-setting"},[t(tp.Z,{attrs:{"input-value":e.disableCustomUnitDropdown,label:"Disable Custom Unit Dropdown",inset:""},on:{change:e.updatedisableCustomUnitDropdown}})],1),t("div",{staticClass:"ui-setting"},[t("div",{staticClass:"ui-panel-title"},[e._v("Default Unit Type")]),t("DropdownInput",{attrs:{items:e.unitTypes,value:e.defaultUnitType,placeholder:"px",clearable:!0},on:{input:e.setDefaultUnitType}})],1),t("div",{staticClass:"mt-4"},[t("h4",{staticClass:"mb-4 font-weight-medium"},[e._v("Panel Positions")]),e._l(e.panelsState,(function(n,s){return[t("div",{key:s,staticClass:"d-flex align-center justify-space-between mb-3 panel-positions"},[t("div",{staticClass:"ui-panel-title"},[e._v(e._s(n.label))]),t("ButtonBarInput",{attrs:{value:n.value,items:e.panelPositionsAsItems,options:{mandatory:!0}},on:{input:function(t){return e.setPanelPosition(n.id,t)}}})],1)]})),t("div",{staticClass:"d-flex align-center justify-space-between mb-3 panel-positions"},[t("div",{staticClass:"ui-panel-title"},[e._v("Popout Position")]),t("ButtonBarInput",{attrs:{value:e.popoutPosition,items:e.popoutPositionItems,options:{mandatory:!0}},on:{input:e.setPopoutPosition}})],1),t("div",{staticClass:"d-flex justify-end mt-4"},[t("NiceButton",{attrs:{disabled:e.arePanelPositionsDefault},on:{click:e.resetUiPanelPositionsToDefault}},[e._v("Reset to defaults")])],1)],2)]},proxy:!0}])})},sp=[],ap=n(44762),ip=n(6613),op=n(31549),rp=n(82436),lp=n(16795);let cp=class extends s.ZP{constructor(){super(...arguments),this.panelsState=this.getPanelsInitialState()}getPanelsInitialState(){const e=[{id:"add",label:"Add"},{id:"elementproperties",label:"Element Properties"},{id:"structure",label:"Structure"},{id:"history",label:"History & Revisions"}];return"breakdance"===c.PK.builderMode&&(e.push({id:"globalSettings",label:"Global Settings"}),e.push({id:"selectors",label:"Selectors"})),"oxygen"===c.PK.builderMode&&(e.push({id:"variables",label:"Variables"}),e.push({id:"oxySelectors",label:"Selectors"})),e.map((e=>({...e,value:(0,Pl.pL)(e.id)})))}get builderMode(){return c.PK.builderMode}setPanelPosition(e,t){const n=this.panelsState.findIndex((t=>t.id===e));this.panelsState[n].value=t,(0,Pl.hy)(e,t),(0,Pl.ug)(),(0,Pl.oM)(e)}resetUiPanelPositionsToDefault(){(0,Pl.qH)(),this.panelsState=this.getPanelsInitialState()}get arePanelPositionsDefault(){return fd()(Pl.c$,this.panelsState.reduce(((e,t)=>(e[t.id]=t.value,e)),{}))}get panelPositionsAsItems(){return["left","right"].map((e=>({text:e,value:e})))}get popoutPositionItems(){return[{text:"Stacked",value:"STACKED"},{text:"Stacked (First Visible)",value:"STACKED_FIRST_VISIBLE"},{text:"Side By Side",value:"SIDE_BY_SIDE"}]}get displayShowExperimentalElementsSetting(){return(0,rp.y)()}get isDarkMode(){return"dark"===c.kD.settings.theme}get isScaledToFit(){return"SCALED_TO_FIT"===c.kD.settings.scaleToFit}get includeCustomBreakpointsInBreakpointsDropdown(){return c.kD.settings.includeCustomBreakpointsInBreakpointsDropdown}get isShowingIdsInStructurePanel(){return c.kD.settings.showElementIdInStructurePanel}get isTinyMcePreferredForRichText(){return c.kD.settings.isTinyMcePreferredForRichText}get customBreakpointsDocUrl(){return"oxygen"===c.PK.builderMode?"https://oxygenbuilder.com/documentation/settings/preferences/custom-breakpoints/breakpoint-dropdown-limitations/":"https://breakdance.com/documentation/settings/preferences/custom-breakpoints/breakpoint-dropdown-limitations/"}get unitTypes(){return lp.LF}setScaleToFit(e){this.setUiSettings((0,Ul.b0)(e))}toggleTheme(){const e=(0,ur.Z)(c.kD.settings);e.theme=this.isDarkMode?"light":"dark",this.setUiSettings(e)}setDisableNoticeForEmptySSRElements(e){const t=(0,ur.Z)(c.kD.settings);t.disableNoticeForEmptySSRElements=e,this.setUiSettings(t)}get disableNoticeForEmptySSRElements(){return c.kD.settings.disableNoticeForEmptySSRElements}get showExperimentalElements(){return c.kD.settings.showExperimentalElements}setShowExperimentalElements(e){const t=(0,ur.Z)(c.kD.settings);t.showExperimentalElements=e,this.setUiSettings(t)}setIsShowingIdsInStructurePanel(e){const t=(0,ur.Z)(c.kD.settings);t.showElementIdInStructurePanel=e,this.setUiSettings(t)}setIncludeCustomBreakpointsInBreakpointsDropdown(e){const t=(0,ur.Z)(c.kD.settings);t.includeCustomBreakpointsInBreakpointsDropdown=e,this.setUiSettings(t)}get defaultUnitType(){return c.kD.settings.defaultUnitType}setDefaultUnitType(e){const t=(0,ur.Z)(c.kD.settings);t.defaultUnitType=e,this.setUiSettings(t)}get disableCustomUnitDropdown(){return c.kD.settings.disableCustomUnitDropdown}updatedisableCustomUnitDropdown(e){const t=(0,ur.Z)(c.kD.settings);t.disableCustomUnitDropdown=e,this.setUiSettings(t)}get showPreviousBreakpointValueAsPlaceholder(){return c.kD.settings.showPreviousBreakpointValueAsPlaceholder}setShowPreviousBreakpointValueAsPlaceholder(e){const t=(0,ur.Z)(c.kD.settings);t.showPreviousBreakpointValueAsPlaceholder=e,this.setUiSettings(t)}get disableCodeMirrorLineWrapping(){return c.kD.settings.disableCodeMirrorLineWrapping}setDisableCodeMirrorLineWrapping(e){const t=(0,ur.Z)(c.kD.settings);t.disableCodeMirrorLineWrapping=e,this.setUiSettings(t)}setIsTinyMcePreferredForRichText(e){const t=(0,ur.Z)(c.kD.settings);t.isTinyMcePreferredForRichText=e,this.setUiSettings(t)}get autoScrollEnabled(){return c.kD.settings.autoScrollEnabled}get popoutPosition(){return c.kD.settings.popoutPosition}setAutoScrollEnabled(e){const t=(0,ur.Z)(c.kD.settings);t.autoScrollEnabled=e,this.setUiSettings(t)}setPopoutPosition(e){const t=(0,ur.Z)(c.kD.settings);t.popoutPosition=e,this.setUiSettings(t)}setUiSettings(e){const t=(0,ip.g)({...Ul.OC,...e});t&&(0,op.r)(Ul.rZ,t),c.kD.setSettings(e)}};cp=(0,r.gn)([(0,l.wA)({components:{DropdownInput:cr.Z,NiceButton:Wr.Z,PreferencesPanel:Xd,ButtonBarInput:ap.Z,ToggleInput:zc.Z,AlertBox:qu.Z}})],cp);const dp=cp,up=dp;var pp=(0,L.Z)(up,np,sp,!1,null,null,null);const hp=pp.exports;let gp=class extends s.ZP{constructor(){super(...arguments),this.tab=0,this.currentTab=0,this.uiSettingsTab=0,this.fontFamiliesTab=1,this.customBreakpointsTab=2,this.saveInProgress=!1,this.hasUnsavedChanges=!1}get preferences(){return c.PK.preferences}get customBreakpoints(){return this.preferences.customBreakpoints}get customFontFamilies(){return c.PK.preferences.customFonts}updateBreakpoints(e){const t=(0,ur.Z)(this.preferences);t.customBreakpoints=e,this.save(t)}updateCustomFontFamilies(e){const t=(0,ur.Z)(this.preferences);t.customFonts=e,this.save(t)}handleClickOutside(){if(this.checkForUnsavedChanges(),!this.hasUnsavedChanges)return this.$emit("update:dialog",!1);const e=confirm("Exit without saving?");return e?this.$emit("update:dialog",!1):this}async handleChangeTab(){if(this.checkForUnsavedChanges(),this.hasUnsavedChanges){const e=confirm("Exit without saving?");if(!e)return await this.$nextTick(),this.tab=this.currentTab,!0}return this.currentTab=this.tab,!1}async save(e){this.saveInProgress=!0,(0,Uo.pipe)(await hd.HR("preferences",e),(0,Ko.fold)((e=>{(0,hd.UE)(e)}),(()=>{c.PK.setPreferences(e)}))),this.saveInProgress=!1,this.checkForUnsavedChanges()}checkForUnsavedChanges(){return this.currentTab===this.fontFamiliesTab?(this.hasUnsavedChanges=this.customFontFamiliesPanel.unsavedChangesPresent,this.hasUnsavedChanges):this.currentTab===this.customBreakpointsTab?(this.hasUnsavedChanges=this.customBreakpointsPanel.unsavedChangesPresent,this.hasUnsavedChanges):this.hasUnsavedChanges=!1}};(0,r.gn)([(0,l.fI)()],gp.prototype,"open",void 0),(0,r.gn)([(0,l.Rl)()],gp.prototype,"customFontFamiliesPanel",void 0),(0,r.gn)([(0,l.Rl)()],gp.prototype,"customBreakpointsPanel",void 0),gp=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,CustomUiSettings:hp,CustomFontFamilies:ep,CustomBreakpointsPanel:nu,Loading:Li.Z}})],gp);const mp=gp,vp=mp;var fp=(0,L.Z)(vp,ud,pd,!1,null,null,null);const yp=fp.exports;var bp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(mc.Z,{attrs:{"content-class":"keyboard-shortcuts-help-modal",value:e.open,"max-width":"850"},on:{input:function(t){return e.$emit("update:dialog",!1)}}},[t(No.Z,{staticClass:"d-flex flex-column",attrs:{height:"100%"}},[t(ar.ZB,[t("table",{staticClass:"styled-table"},[t("thead",[t("tr",[t("th",[e._v("Shortcut")]),t("th",[e._v("Description")])])]),t("tbody",e._l(e.filteredShortcuts,(function(n,s){return t("tr",{key:s},[t("td",{domProps:{innerHTML:e._s(n.shortcut)}}),t("td",[e._v(e._s(n.description))])])})),0)])])],1)],1)],1)},_p=[];let xp=class extends s.ZP{constructor(){super(...arguments),this.shortcuts=[{shortcut:["CMD_A"],description:"Open add elements panel",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_B"],description:"Open design sets modal",availableIn:["breakdance"]},{shortcut:["CMD_S"],description:"Save",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_Z"],description:"Undo",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_SHIFT_Z"],description:"Redo",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_C"],description:"Copy the active element",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_V"],description:"Paste copied element",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_D"],description:"Duplicate the active element",availableIn:["breakdance","oxygen"]},{shortcut:["ESC"],description:"De-activate the active element or close modal",availableIn:["breakdance","oxygen"]},{shortcut:["SHIFT_ESC"],description:"Go to the parent of the active element",availableIn:["breakdance","oxygen"]},{shortcut:["BACKSPACE","DELETE"],description:"Delete active element",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_OPTION_R"],description:"Cycle to the next breakpoint",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_SHIFT_SLASH","CMD_QUESTION"],description:"Show keyboard shortcuts help modal",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_SHIFT_S"],description:"Switch between 'scale to fit' and 'actual size' content",availableIn:["breakdance","oxygen"]},{shortcut:["CMD_E"],description:"Open the rich text editor modal. Only when the Rich Text element is selected",availableIn:["breakdance","oxygen"]},{shortcut:["C_S_S"],description:"Open the active element's Advanced → Custom CSS and focus it.",availableIn:["breakdance"]},{shortcut:["C_L_A"],description:"Open the active element's Advanced → Classes autocomplete and focus it.",availableIn:["breakdance"]},{shortcut:["F"],description:"Focus the properties search box.",availableIn:["breakdance"]},{shortcut:["SHIFT_F"],description:"Focus the properties search box and toggle the option to search advanced settings (element properties panel only).",availableIn:["breakdance"]},{shortcut:["CMD_I"],description:"Toggle the modified option in the properties search box.",availableIn:["breakdance"]},{shortcut:["OPTION_P"],description:"Toggle the preview mode.",availableIn:["breakdance","oxygen"]}]}get builderMode(){return c.PK.builderMode||"breakdance"}get filteredShortcuts(){return this.shortcuts.filter((e=>e.availableIn.includes(this.builderMode))).map((e=>{const t=e.shortcut.map(this.getKeyboardShortcutValue).join("<br />");return{...e,shortcut:t}}))}getKeyboardShortcutValue(e){const t=Ge.r[e],n=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);let s=t?t[0]:"";return n||2!=t.length||(s=t[1]),s.toUpperCase().split("+").join(" + ")}};(0,r.gn)([(0,l.fI)()],xp.prototype,"open",void 0),xp=(0,r.gn)([(0,l.wA)({components:{}})],xp);const Sp=xp,Pp=Sp;var Cp=(0,L.Z)(Pp,bp,_p,!1,null,null,null);const wp=Cp.exports;var Ip=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio",style:e.styles},[t("ElementStudioWidthAdjustmentBar",{on:{change:e.adjustWidth}}),t("div",{staticClass:"element-studio-wrapper",attrs:{"data-test-id":"element-studio-wrapper"}},[e.activeItemType&&"element"!==e.activeItemType?e._e():t("ElementStudioElements",{attrs:{value:e.data,width:e.width},on:{input:e.updateData,width:e.updateWidth,active:e.updateActiveItemType}}),e.activeItemType&&"macro"!==e.activeItemType?e._e():t("ElementStudioMacros",{attrs:{value:e.data},on:{input:e.updateData,active:e.updateActiveItemType}}),e.activeItemType&&"preset"!==e.activeItemType?e._e():t("ElementStudioPresets",{attrs:{value:e.data},on:{input:e.updateData,active:e.updateActiveItemType}}),e.activeItemType?e._e():t("div",{staticClass:"d-flex flex-column align-center justify-center pa-6"},[t("h4",[e._v("Element Studio is for developers and is provided as-is.")]),t("p",[t("small",[e._v(" No support is provided. Please read the "),t("a",{attrs:{href:e.$bdox("docs_link_element_studio"),target:"_blank"}},[e._v("documentation")]),e._v(" before use. ")])])])],1)],1)},kp=[],Dp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("ElementStudioWidthAdjustmentBarAdjustmentHandle",{staticClass:"element-studio-width-adjustment-bar",attrs:{"on-dragging":e.dragging}})},Ep=[],Tp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",e._g(e._b({staticClass:"breakdance-element-studio-adjustment-handle",on:{mousedown:e.dragStart}},"div",e.$attrs,!1),e.$listeners),[e._t("default")],2)},Zp=[];let Ap=class extends s.ZP{constructor(){super(...arguments),this.lastMouseX=0}draggingFunc(e){e.preventDefault(),this.onDragging(e,this.lastMouseX),this.lastMouseX=e.clientX}dragStart(e){e.preventDefault(),e.stopPropagation(),document.addEventListener("mousemove",this.draggingFunc),document.addEventListener("mouseup",this.dragEnd),this.lastMouseX=e.clientX,document.getElementById("iframe").style.pointerEvents="none"}dragEnd(e){e.preventDefault(),document.removeEventListener("mousemove",this.draggingFunc),document.removeEventListener("mouseup",this.dragEnd),document.getElementById("iframe").style.pointerEvents="auto"}};(0,r.gn)([(0,l.fI)()],Ap.prototype,"onDragging",void 0),Ap=(0,r.gn)([(0,l.wA)({})],Ap);const Bp=Ap,Mp=Bp;var Op=(0,L.Z)(Mp,Tp,Zp,!1,null,null,null);const Lp=Op.exports;let Rp=class extends s.ZP{dragging(e,t){this.$emit("change",-1*(e.clientX-t))}};Rp=(0,r.gn)([(0,l.wA)({components:{ElementStudioWidthAdjustmentBarAdjustmentHandle:Lp}})],Rp);const Np=Rp,Fp=Np;var $p=(0,L.Z)(Fp,Dp,Ep,!1,null,null,null);const Vp=$p.exports;var Wp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"element-studio-wrapper":e.currentlyEditingElement}},[t("ElementStudioTopbar",{attrs:{"save-locations":e.value.saveLocations,"items-slug":e.elementsSlug,value:e.currentlyEditingElement,itemType:"element","item-name":e.currentlyEditingElement?e.currentlyEditingElement.element.name:"",hasUnsavedChanges:e.hasUnsavedChanges,saveInProgress:e.saveInProgress},on:{open:e.openElement,switchMode:e.switchMode,delete:e.deleteElement,saveOverride:e.saveOverride,saveAs:e.saveAs,saveNew:e.saveNewItem,discardChanges:e.discardChanges,reset:e.resetCurrentlyEditingElement}}),e.currentlyEditingElement?t("div",{staticClass:"element-studio-content"},["split-vertical"===e.mode?[t("div",{staticClass:"panel-50 panel-50-top-panel vscroll-scroll"},[t("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element},on:{input:e.updateElement,update:e.updateData}})],1),t("div",{staticClass:"panel-50 vscroll-scroll"},[t("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element,type:"secondary"},on:{input:e.updateElement,update:e.updateData}})],1)]:"split-horizontal"===e.mode?[t("div",{staticClass:"d-flex flex-row",staticStyle:{height:"100%"}},[t("div",{staticClass:"panel-50-h panel-50-h-first-panel vscroll-scroll"},[t("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element},on:{input:e.updateElement,update:e.updateData}})],1),t("div",{staticClass:"panel-50-h vscroll-scroll"},[t("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element,type:"secondary"},on:{input:e.updateElement,update:e.updateData}})],1)])]:[t("div",{staticClass:"panel-100 vscroll-scroll"},[t("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element},on:{input:e.updateElement,update:e.updateData}})],1)]],2):e._e()],1)},Hp=[],zp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-top-bar d-flex"},[e.showNewItemDialog?t("ElementStudioSaveNewDialog",{attrs:{"save-locations":e.saveLocations,"item-type":e.itemType},on:{input:e.saveNewItem,close:function(t){e.showNewItemDialog=!1}}}):e._e(),t("div",{staticClass:"d-flex ml-4"},[e.value?e._e():[t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t(qs.Z,e._g(e._b({attrs:{text:"",disabled:0===e.itemsSlug.length,"data-test-id":"element-studio-open-element"}},"v-btn",s,!1),n),[t("Icon",{staticClass:"mr-2",attrs:{icon:"OpenFolderIcon",size:"18"}}),e._v(" Open "+e._s(e.itemType)+" ")],1)]}}],null,!1,4260211493)},[t(ho.Z,{staticStyle:{"max-height":"500px",overflow:"auto"}},[t(Fo.Z,{staticClass:"breakdance-element-studio-searchbar",staticStyle:{padding:"12px 16px","margin-bottom":"24px"},attrs:{label:`Search ${e.itemType}s`,flat:"",autofocus:""},model:{value:e.availableItemsSearch,callback:function(t){e.availableItemsSearch=t},expression:"availableItemsSearch"}}),e._l(e.availableItemsBySearch,(function(n,s){return t(go.Z,{key:s,attrs:{dense:""},on:{click:function(t){return e.openItem(n)}}},[t(mo.V9,[e._v(" "+e._s(n)+" ")])],1)}))],2)],1),t(qs.Z,{staticClass:"ml-2",attrs:{text:"","data-test-id":"element-studio-new-element-button"},on:{click:e.handleNewItem}},[t("Icon",{staticClass:"mr-2",attrs:{icon:"AddFileIcon"}}),e._v(" New "+e._s(e.itemType)+" ")],1)],e.value?[t("div",{staticClass:"d-flex align-center flex-wrap"},[t("div",{staticClass:"mr-2 element-studio-element-name"},[e._v(" "+e._s(e.itemName)+" ")]),t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t("div",[e.value.directoryPath&&e.canSaveOrIsAdvancedUser?t("NiceButton",e._b({staticClass:"ma-2",attrs:{loading:e.saveInProgress,"data-test-id":"element-studio-save-button",title:"Save element","left-icon":"SaveIcon"},on:{contextmenu:function(e){return e.preventDefault(),n.click.apply(null,arguments)},click:function(t){e.saveOverwrite(!1)}}},"NiceButton",s,!1),[e._v(" Save ")]):!e.value.directoryPath||e.value.onlyForAdvancedUsers?t("NiceButton",e._g(e._b({staticClass:"ma-2",attrs:{loading:e.saveInProgress,"data-test-id":"element-studio-save-button",title:"Save element","left-icon":"SaveIcon"},on:{contextmenu:function(e){return e.preventDefault(),n.click.apply(null,arguments)}}},"NiceButton",s,!1),n),[e._v(" Save ")]):e._e()],1)]}}],null,!1,3543840629)},[t(ho.Z,[e.value.directoryPath?[e.showAdvancedFeatures?t(go.Z,{attrs:{dense:""},on:{click:function(t){return e.saveOverwrite(!0)}}},[t(mo.V9,[t("h3",[e._v("Save & Bypass Psalm...")])])],1):e.canSaveOrIsAdvancedUser?t(go.Z,{attrs:{dense:""},on:{click:function(t){return e.saveOverwrite(!0)}}},[t(mo.V9,[t("h3",[e._v("Save")])])],1):e._e()]:e._e(),t(go.Z,{attrs:{dense:""}},[t(mo.V9,[e.availableSaveLocations.length?t("h3",[e._v("Save A Copy In:")]):t("div",[e._v(" Enable saving elements by "),t("a",{attrs:{href:"https://github.com/soflyy/breakdance-custom-elements/",target:"_blank"}},[e._v("adding a save location.")])])])],1),e._l(e.availableSaveLocations,(function(n,s){return[t(go.Z,{key:s,attrs:{dense:""},on:{click:function(t){return e.saveAs(n)}}},[t(mo.V9,[e._v(" "+e._s(n.label)+" » ")])],1)]}))],2)],1),e.canDeleteElement?t(mc.Z,{attrs:{"max-width":"360"},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t("NiceButton",e._g(e._b({staticClass:"mr-2",attrs:{elevation:"0","data-test-id":"element-studio-delete-button",title:"Delete element","left-icon":"TrashIcon"}},"NiceButton",s,!1),n),[e._v(" Delete ")])]}}],null,!1,2278590123),model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[t(No.Z,[t(ar.EB,{staticClass:"subtitle-1"},[e._v(' Delete "'+e._s(e.itemName)+'" '+e._s(e.itemType)+"? ")]),t(ar.ZB,[e._v("This action cannot be undone.")]),t(ar.h7,[t(eo.Z),t(qs.Z,{attrs:{text:""},on:{click:function(t){e.deleteDialog=!1}}},[e._v(" Cancel ")]),t(qs.Z,{attrs:{color:"red darken-1",text:""},on:{click:e.deleteItem}},[e._v(" Delete ")])],1)],1)],1):e._e(),t(qs.Z,{attrs:{icon:"","data-test-id":"element-studio-close-element",title:`Close ${e.itemType}`},on:{click:e.closeItem}},[t("Icon",{attrs:{icon:"CloseSquareIcon"}})],1)],1)]:e._e()],2),t(eo.Z),e.value?t(qs.Z,{staticClass:"mr-1 element-studio-switch-mode",attrs:{icon:"",title:"Switch mode","data-test-id":"element-studio-topbar-switch-mode"},on:{click:e.switchMode}},[t("Icon",{attrs:{icon:"TableColumnIcon",size:"18"}})],1):e._e(),t(qs.Z,{staticClass:"mr-4 element-studio-close-panel",attrs:{icon:"",title:"Close Element Studio Panel"},on:{click:e.closePanel}},[t("Icon",{attrs:{icon:"CloseCircleIcon",size:"18"}})],1),t(mc.Z,{attrs:{value:e.closeItemOrPanelDialog,persistent:"","max-width":"400"}},[t(No.Z,[t(ar.EB,{staticClass:"headline"},[e._v(" You have unsaved changes ")]),t(ar.ZB,[e._v(" Please save your changes before closing this "+e._s(e.itemType)+", or discard your changes. ")]),t(ar.h7,[t(eo.Z),t(qs.Z,{attrs:{color:"red darken-1",text:""},on:{click:e.discardChanges}},[e._v(" Discard my changes ")]),t(qs.Z,{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.closeItemOrPanelDialog=!1}}},[e._v(" I'll save them ")])],1)],1)],1)],1)},Up=[],Kp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(mc.Z,{attrs:{value:!0,"max-width":"400",persistent:""}},[t(No.Z,[t(ar.EB,{staticClass:"headline"},[e._v(" Create new "+e._s(e.itemType)+" ")]),t(ar.ZB,{staticClass:"pb-1"},[t("div",[e._v("Please enter the "+e._s(e.itemType)+"'s name.")])]),t(ar.ZB,[t(Fo.Z,{attrs:{rules:[e.nameIsValid],label:"Name"},model:{value:e.newItemName,callback:function(t){e.newItemName=t},expression:"newItemName"}}),e.saveLocations.length?t(fu.Z,{attrs:{mandatory:""},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" Select a saving location ")]},proxy:!0}]),model:{value:e.newItemSaveLocation,callback:function(t){e.newItemSaveLocation=t},expression:"newItemSaveLocation"}},[e._l(e.saveLocations,(function(n){return[e.showSaveLocation(n)?t(vu.Z,{key:n.directoryPath,attrs:{label:n.label,value:n}}):e._e()]}))],2):[t("b",[e._v("Error: no registered saving locations. Using the "),t("a",{attrs:{href:"https://github.com/soflyy/breakdance-custom-elements"}},[e._v("Custom Elements")]),e._v(" plugin will automatically register a saving location.")])]],2),t(ar.h7,[t(eo.Z),t(qs.Z,{attrs:{color:"green darken-1",text:""},on:{click:e.closeNewItemDialog}},[e._v(" Cancel ")]),t(qs.Z,{attrs:{color:"blue darken-1",text:"",disabled:!0!==e.nameIsValid(e.newItemName)||!e.newItemSaveLocation},on:{click:e.saveNewItem}},[e._v(" Create ")])],1)],1)],1)},Gp=[],qp=n(91362);let jp=class extends s.ZP{constructor(){super(...arguments),this.newItemDialog=!1,this.newItemName="",this.newItemSaveLocation=!1}nameIsValid(e){return(0,qp.nQ)(e)}get showAdvancedFeatures(){return(0,rp.y)()||X.PK.isElementStudioPowerUser}showSaveLocation(e){return e.type===this.itemType&&(!e.onlyForAdvancedUsers||this.showAdvancedFeatures)}saveNewItem(){this.$emit("input",{...this.newItemSaveLocation,name:this.newItemName}),this.closeNewItemDialog()}closeNewItemDialog(){this.newItemDialog=!1,this.newItemName="",this.newItemSaveLocation=!1,this.$emit("close")}};(0,r.gn)([(0,l.fI)()],jp.prototype,"saveLocations",void 0),(0,r.gn)([(0,l.fI)()],jp.prototype,"itemType",void 0),jp=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z}})],jp);const Yp=jp,Xp=Yp;var Qp=(0,L.Z)(Xp,Kp,Gp,!1,null,null,null);const Jp=Qp.exports;let eh=class extends s.ZP{constructor(){super(...arguments),this.deleteDialog=!1,this.availableItemsSearch="",this.closeItemOrPanelDialog=!1,this.showNewItemDialog=!1}mounted(){document.addEventListener("breakdanceSaveButtonClicked",this.mainAppSaveButtonClicked),this.warnIfUnsavedFunction=(0,io.$)((()=>this.hasUnsavedChanges))}destroyed(){document.removeEventListener("breakdanceSaveButtonClicked",this.mainAppSaveButtonClicked)}beforeDestroy(){(0,io.e)(this.warnIfUnsavedFunction)}handleNewItem(){this.showNewItemDialog=!0}get availableSaveLocations(){return this.saveLocations.filter((e=>this.showSaveLocation(e)))}get availableItemsBySearch(){return this.itemsSlug.filter((e=>e.toLowerCase().includes(this.availableItemsSearch.toLowerCase().replace(/ /g,""))))}get canDeleteElement(){return!!this.value&&this.availableSaveLocations.find((e=>this.value&&this.value.directoryPath&&this.value.directoryPath.startsWith(e.directoryPath)))}discardChanges(){"panel"===this.closeItemOrPanelDialog&&c.kD.toggleElementStudio(),this.closeItemOrPanelDialog=!1,this.$emit("discardChanges")}mainAppSaveButtonClicked(){this.hasUnsavedChanges&&confirm(`Also save your Element Studio ${this.itemType}?`)&&this.saveOverwrite(!1)}openItem(e){this.availableItemsSearch="",this.$emit("open",e)}closeItem(){this.hasUnsavedChanges?this.closeItemOrPanelDialog="item":this.$emit("reset")}closePanel(){this.hasUnsavedChanges?this.closeItemOrPanelDialog="panel":c.kD.toggleElementStudio()}saveNewItem(e){this.$emit("saveNew",e)}saveAs(e){this.$emit("saveAs",e)}saveOverwrite(e){this.value&&this.value.directoryPath&&this.canSaveOrIsAdvancedUser&&this.$emit("saveOverride",e)}showSaveLocation(e){return e.type===this.itemType&&(!e.onlyForAdvancedUsers||this.showAdvancedFeatures)}get showAdvancedFeatures(){return(0,rp.y)()||c.PK.isElementStudioPowerUser}get canSaveOrIsAdvancedUser(){return this.value&&(!this.value.onlyForAdvancedUsers||this.showAdvancedFeatures)}deleteItem(){this.deleteDialog=!1,this.$emit("delete")}switchMode(){this.$emit("switchMode")}};(0,r.gn)([(0,l.fI)()],eh.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],eh.prototype,"saveLocations",void 0),(0,r.gn)([(0,l.fI)()],eh.prototype,"hasUnsavedChanges",void 0),(0,r.gn)([(0,l.fI)()],eh.prototype,"itemType",void 0),(0,r.gn)([(0,l.fI)()],eh.prototype,"itemName",void 0),(0,r.gn)([(0,l.fI)()],eh.prototype,"saveInProgress",void 0),(0,r.gn)([(0,l.fI)()],eh.prototype,"itemsSlug",void 0),eh=(0,r.gn)([(0,l.wA)({components:{ElementStudioSaveNewDialog:Jp,NiceButton:Wr.Z,Icon:ze.Z,Dropdown:yo.Z}})],eh);const th=eh,nh=th;var sh=(0,L.Z)(nh,zp,Up,!1,null,null,null);const ah=sh.exports;var ih=n(1387),oh=n(46072),rh=n(197),lh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-tabs-panel d-flex flex-column",staticStyle:{height:"100%"}},[e.showNewMacroDialog?t("ElementStudioSaveNewDialog",{attrs:{"save-locations":e.available.saveLocations,"item-type":"macro"},on:{input:e.saveNewMacro,close:function(t){e.showNewMacroDialog=!1}}}):e._e(),t("Dropdown",{attrs:{value:!!e.contextMenu,absolute:!0,"position-x":e.contextMenu.x,"position-y":e.contextMenu.y,transition:!1},on:{input:function(t){e.contextMenu=!1}},scopedSlots:e._u([{key:"activator",fn:function(){return[e._t("default")]},proxy:!0}],null,!0)},[t(ho.Z,{attrs:{dense:""}},[t(go.Z,{attrs:{link:!0},nativeOn:{click:function(t){return e.handleCreateMacro.apply(null,arguments)}}},[t(mo.V9,[e._v("Make into a macro")])],1)],1)],1),t("div",{staticClass:"element-studio-tabs"},[t(dd.Z,{attrs:{value:e.tab},on:{change:e.updateTab}},[t(cd.Z,{attrs:{href:"#content",title:"Content","data-test-id":"element-studio-content-tab"}},[t("Icon",{attrs:{icon:"PenIcon",size:"16"}})],1),t(cd.Z,{attrs:{href:"#design",title:"Design","data-test-id":"element-studio-design-tab"}},[t("Icon",{attrs:{icon:"PaletteIcon",size:"16"}})],1),t(cd.Z,{attrs:{href:"#html",title:"HTML","data-test-id":"element-studio-html-tab"}},[t("Icon",{attrs:{icon:"CodeIcon",size:"16"}})],1),t(cd.Z,{attrs:{href:"#css",title:"CSS","data-test-id":"element-studio-css-tab"}},[t("Icon",{attrs:{icon:"Css3Icon",size:"16"}})],1),t(cd.Z,{attrs:{href:"#defaultCss",title:"Default CSS","data-test-id":"element-studio-default-css-tab"}},[t("Icon",{attrs:{icon:"CssIcon",size:"16"}})],1),e.nestingRuleTypeIsContainer?t(cd.Z,{attrs:{href:"#default-elements",title:"Default Elements","data-test-id":"element-studio-default-elements"}},[t("Icon",{attrs:{icon:"BoxIcon",size:"16"}})],1):e._e(),t(cd.Z,{attrs:{href:"#attributes",title:"HTML Attributes","data-test-id":"element-studio-attributes"}},[t("Icon",{attrs:{icon:"AttributesIcon",size:"16"}})],1),t(cd.Z,{attrs:{href:"#prop-paths",title:"Property Paths","data-test-id":"element-studio-property-paths"}},[t("Icon",{attrs:{icon:"SlidersSimpleIcon",size:"16"}})],1),t(cd.Z,{attrs:{href:"#dependencies",title:"Dependencies","data-test-id":"element-studio-dependencies-tab"}},[t("Icon",{attrs:{icon:"DownloadFileIcon",size:"16"}})],1),t(cd.Z,{attrs:{href:"#actions",title:"Actions","data-test-id":"element-studio-actions-tab"}},[t("Icon",{attrs:{icon:"ActionsIcon",size:"16"}})],1),t(cd.Z,{attrs:{href:"#settings",title:"Settings","data-test-id":"element-studio-settings-tab"}},[t("Icon",{attrs:{icon:"CogsIcon",size:"16"}})],1)],1)],1),t("div",{staticClass:"element-studio-tabs-items vscroll-scroll"},["settings"===e.tab?t("div",[t(go.Z,{attrs:{"two-line":""}},[t(mo.km,[t(mo.V9,{staticClass:"font-weight-bold"},[e._v("Slug")]),t(mo.oZ,[e._v(" "+e._s(e.element.slug))])],1)],1),t("div",{staticClass:"px-4 pt-2"},[t("div",{staticClass:"d-flex align-center"},[t(Fo.Z,{attrs:{label:"Name",value:e.element.name,"data-test-id":"element-studio-name-input",rules:[e.isValidItemName]},on:{input:e.updateElementName}}),e.nameHasChanged?t(qs.Z,{staticClass:"ml-3",attrs:{outlined:"",small:""},on:{click:e.updateSlug}},[e._v(" Update slug ")]):e._e()],1),t(Fo.Z,{staticClass:"mb-4",attrs:{label:"Class Name",placeholder:"the_best_class",value:e.element.className||"","data-test-id":"element-studio-classname-input","persistent-hint":"",hint:"Updating the Class Name will make the previous class obsolete. You'll need to update your CSS",rules:[e.htmlClassNameRule]},on:{input:e.updateClassName}}),t(yu.Z,{attrs:{items:e.elementCategories,label:"Category",value:e.cleanElement.category},on:{input:function(t){return e.updateElementValue("category",t)}}}),t("div",{staticClass:"breakdance-element-studio-element-badges"},[t(ih.Z,{attrs:{clearable:"",items:e.badgeColors,value:!!e.cleanElement.badge&&e.cleanElement.badge.backgroundColor,label:"Badge Background"},on:{input:function(t){return e.updateElementValue("badge.backgroundColor",t)}}}),t(ih.Z,{attrs:{clearable:"",items:e.badgeColors,value:!!e.cleanElement.badge&&e.cleanElement.badge.textColor,label:"Badge Text"},on:{input:function(t){return e.updateElementValue("badge.textColor",t)}}}),t(Fo.Z,{attrs:{label:"Badge Label",value:!!e.cleanElement.badge&&e.cleanElement.badge.label},on:{input:function(t){return e.updateElementValue("badge.label",t)}}}),t(qs.Z,{attrs:{outlined:"",small:""},on:{click:function(t){return e.updateElementValue("badge",!1)}}},[e._v("clear badge")])],1),t("h3",[e._v("HTML Tag options")]),t("div",{staticClass:"breakdance-element-studio__html-tags"},[t(ih.Z,{attrs:{label:"Default Tag",value:e.cleanElement.htmlTag.default,hint:"Tag of the root element",clearable:"",items:e.defaultTag},on:{input:function(t){return e.updateElementValue("htmlTag.default",t)}}}),t(ih.Z,{attrs:{label:"Tag Options",value:e.cleanElement.htmlTag.options,items:e.htmlTags,multiple:!0,clearable:""},on:{input:function(t){return e.updateElementValue("htmlTag.options",t)}}}),t(ih.Z,{attrs:{label:"Get the Tag from a Control's path",value:e.cleanElement.htmlTag.pathToControl||"",items:e.pathsToAllControls,hint:"This will disable the 'Settings -> Html -> Tag' control",clearable:""},on:{input:function(t){return e.updateElementValue("htmlTag.pathToControl",t)}}})],1),t("h3",[e._v("UI Icon")]),t("div",{staticClass:"mb-5 d-flex align-center"},[e.showAdvancedFeatures?[t("ToggleInput",{attrs:{value:e.useLocalIcon},on:{input:e.updateUseLocalIcon}}),t("span",{staticClass:"mr-4"},[e._v("Local")])]:e._e(),t("div",{staticClass:"d-flex align-center"},[t("ElementIcon",{staticClass:"mr-2",attrs:{icon:e.cleanElement.uiIcon||"SquareIcon",size:"16"}}),e.useLocalIcon&&e.showAdvancedFeatures?t("ElementStudioIconsAutocomplete",{attrs:{value:e.cleanElement.uiIcon||"SquareIcon"},on:{input:e.updateUiIcon}}):t(Fo.Z,{attrs:{label:"SVG code for icon",value:e.cleanElement.uiIcon,"data-test-id":"element-studio-ui-icon-input"},on:{input:e.updateUiIcon}})],1)],2),t(Fo.Z,{attrs:{label:"UI Order (number)",value:e.cleanElement.order},on:{input:e.updateUiOrder}}),t("h3",[e._v("Nesting rules")]),t(ih.Z,{attrs:{items:e.containerRestrictedElements,label:"Element to be a direct child of",hint:"This element will only be allowed as a direct child of the selected elements","persistent-hint":"",value:e.cleanElement.nestingRule.restrictedToBeADirectChildOf,multiple:""},on:{input:function(t){e.updateElementValue("nestingRule.restrictedToBeADirectChildOf",Array.isArray(t)&&0===t.length?void 0:t)}}}),t(ih.Z,{staticClass:"mt-4",attrs:{items:e.elementsThisElementIsAllowedToBeInsideOf,label:"Element to be a descendant of",hint:"This element will only be allowed inside the selected elements","persistent-hint":"",value:e.cleanElement.nestingRule.restrictedToBeADescendantOf,multiple:""},on:{input:function(t){e.updateElementValue("nestingRule.restrictedToBeADescendantOf",Array.isArray(t)&&0===t.length?void 0:t)}}}),t(ih.Z,{staticClass:"mt-4",attrs:{items:e.allElementSlugs,label:"Disallow if others are present",hint:"This element will not be allowed on a page if one of the following elements is already present on the page","persistent-hint":"",value:e.cleanElement.nestingRule.notAllowedWhenNodeTypeIsPresentInTree,multiple:""},on:{input:function(t){e.updateElementValue("nestingRule.notAllowedWhenNodeTypeIsPresentInTree",Array.isArray(t)&&0===t.length?void 0:t)}}}),t(oh.Z,{attrs:{label:"Inline Editable",hint:"This element contains a Global Block that can be edited inline. Requires a Global Block Chooser control to be present.","persistent-hint":"","input-value":e.cleanElement.nestingRule.inlineEditable},on:{change:function(t){return e.updateElementValue("nestingRule.inlineEditable",!!t)}}}),t(ih.Z,{staticClass:"mt-4",attrs:{items:e.pathsToAllControls,label:"Inline Editable Block Path",value:e.cleanElement.nestingRule.inlineEditableBlockPath},on:{input:function(t){return e.updateElementValue("nestingRule.inlineEditableBlockPath",t)}}}),t("h3",[e._v("Misc options")]),t(yu.Z,{attrs:{items:e.elementType,label:"Element Type",value:e.cleanElement.nestingRule.type,hint:"Only change to create complex elements","persistent-hint":""},on:{input:function(t){return e.updateElementValue("nestingRule.type",t)}}}),t(rh.Z,{staticClass:"mt-3",attrs:{label:"Required plugins",items:e.requiredPluginItems,"hide-details":"",value:e.cleanElement.settings?e.cleanElement.settings.requiredPlugins:[],multiple:!0},on:{input:function(t){return e.updateElementValue("settings.requiredPlugins",t&&t.length?t:void 0)}}}),t(oh.Z,{attrs:{label:"Is Pro Only","input-value":e.cleanElement.settings&&e.cleanElement.settings.proOnly,"hide-details":""},on:{change:function(t){return e.updateElementValue("settings.proOnly",!!t)}}}),t(oh.Z,{attrs:{label:"Element depends on global scripts to work","input-value":e.cleanElement.settings&&e.cleanElement.settings.dependsOnGlobalScripts,"hide-details":""},on:{change:function(t){return e.updateElementValue("settings.dependsOnGlobalScripts",!!t)}}}),t(oh.Z,{attrs:{label:"Experimental Element?","input-value":e.cleanElement.experimental,"hide-details":""},on:{change:function(t){return e.updateElementValue("experimental",!!t)}}}),t(oh.Z,{attrs:{label:"Bypass Pointer Events",hint:"Use this if clicking on the element doesn't active it, but instead clicks something inside of it","persistent-hint":"","input-value":e.cleanElement.settings&&e.cleanElement.settings.bypassPointerEvents},on:{change:function(t){return e.updateElementValue("settings.bypassPointerEvents",!!t)}}}),t(oh.Z,{attrs:{label:"Disable AI",hint:"Use this if you want to disable the AI for this element","persistent-hint":"","input-value":e.cleanElement.settings&&e.cleanElement.settings.disableAI},on:{change:function(t){return e.updateElementValue("settings.disableAI",!!t)}}}),t(oh.Z,{attrs:{label:"Share props with SSR children",hint:"Use this if you need to access the properties data from this element in a child SSR element.","persistent-hint":"","input-value":e.cleanElement.settings&&e.cleanElement.settings.sharePropsWithSSRChildren},on:{change:function(t){return e.updateElementValue("settings.shareStateWithChildSSR",!!t)}}}),t(oh.Z,{attrs:{label:"Disable Wrapper HTML Tag (frontend-only)",hint:"Note: This breaks JavaScript functionality that relies on the tag being present (Ex: %%SELECTOR%%)","persistent-hint":"","input-value":e.cleanElement.settings&&e.cleanElement.settings.disableWrapperHtmlTag},on:{change:function(t){return e.updateElementValue("settings.disableRootHtmlTag",!!t)}}}),t(oh.Z,{attrs:{label:"Builder Only",hint:"Use this if the element should only be visible in the builder","persistent-hint":"","input-value":e.cleanElement.settings&&e.cleanElement.settings.builderOnly},on:{change:function(t){return e.updateElementValue("settings.builderOnly",!!t)}}}),t("div",{staticClass:"pt-4"},[t("h3",[e._v("Add panel rules")]),t(oh.Z,{attrs:{label:"Always hide element from the Add Panel","input-value":e.cleanElement.addPanelRules&&e.cleanElement.addPanelRules.alwaysHide,"hide-details":""},on:{change:function(t){return e.updateElementValue("addPanelRules.alwaysHide",!!t)}}}),e.cleanElement.addPanelRules&&e.cleanElement.addPanelRules.alwaysHide?e._e():[t(rh.Z,{attrs:{label:"Allowed post type",items:["breakdance_template"],"hide-details":"",value:e.cleanElement.addPanelRules?e.cleanElement.addPanelRules.allowedPostTypes:[],multiple:!0},on:{input:function(t){return e.updateElementValue("addPanelRules.allowedPostTypes",t&&t.length?t:void 0)}}})]],2),t("ElementStudioDefaultProperties",{staticClass:"my-8",attrs:{elementSlug:e.cleanElement.slug,value:e.cleanElement.defaultProperties},on:{input:function(t){return e.updateElementValue("defaultProperties",t)}}}),e.showAdvancedFeatures?[t("h3",[e._v("Available In")]),t("div",{staticClass:"breakdance-element-studio__available-in"},[t(ih.Z,{attrs:{label:"Available In",value:e.cleanElement.availableIn,items:["breakdance","oxygen"],multiple:!0,clearable:""},on:{input:function(t){return e.updateElementValue("availableIn",t)}}})],1)]:e._e()],2)],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:"design"===e.tab,expression:"tab === 'design'"}]},[t("ElementStudioControls",{attrs:{value:e.cleanElement.controls,section:"design"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"content"===e.tab,expression:"tab === 'content'"}]},[t("ElementStudioControls",{attrs:{value:e.cleanElement.controls,section:"content"}})],1),"html"===e.tab?t("div",[t("CodeInput",{attrs:{value:e.cleanElement.template,tags:e.tags,"twig-variables":e.pathsToAllControls,language:"html"},on:{input:function(t){return e.updateElementValue("template",t||"")}}})],1):e._e(),"css"===e.tab?t("div",[t("CodeInput",{attrs:{value:e.cleanElement.cssTemplate,tags:e.tags,"twig-variables":e.pathsToAllControls,language:"css"},on:{input:function(t){return e.updateElementValue("cssTemplate",t||"")}}})],1):e._e(),"defaultCss"===e.tab?t("div",[t("div",{staticClass:"px-4 py-2"},[e._v(" Element's class: "),t("span",{staticClass:"font-weight-bold mr-2"},[e._v(e._s(e.elementClass))]),t("CopyButton",{attrs:{"value-to-copy":e.elementClassToCopy}})],1),t("CodeInput",{attrs:{value:e.cleanElement.defaultCss,language:"css"},on:{input:function(t){return e.updateElementValue("defaultCss",t||"")}}})],1):e._e(),e.nestingRuleTypeIsContainer?t("div",{directives:[{name:"show",rawName:"v-show",value:"default-elements"===e.tab,expression:"tab === 'default-elements'"}],staticClass:"studio-default-elements-panel"},[t("ElementStudioDefaultElements",{attrs:{value:e.cleanElement.defaultChildren,"parent-element-slug":e.cleanElement.slug},on:{input:function(t){return e.updateElementValue("defaultChildren",t||"")}}})],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:"attributes"===e.tab,expression:"tab === 'attributes'"}],staticClass:"studio-dependencies-panel"},[e._v(" Attributes are added to the container of the element "),t("ElementStudioAttributes",{attrs:{value:e.cleanElement.attributes},on:{input:function(t){return e.updateElementValue("attributes",t)}}}),t("br"),e._v(" Classes are added to the container of the element "),t("ElementStudioAdditionalClasses",{attrs:{value:e.cleanElement.additionalClasses||[]},on:{input:function(t){return e.updateElementValue("additionalClasses",t)}}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"prop-paths"===e.tab,expression:"tab === 'prop-paths'"}]},[t("ElementStudioManagePropertyPaths",{attrs:{value:e.cleanElement}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"dependencies"===e.tab,expression:"tab === 'dependencies'"}],staticClass:"studio-dependencies-panel"},[t("ElementStudioDependencies",{attrs:{value:e.cleanElement.dependencies}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"actions"===e.tab,expression:"tab === 'actions'"}]},[t("ElementStudioAction",{attrs:{"action-key":"onPropertyChange",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after one of this element's property changes (a value in a control) ")]},proxy:!0},{key:"dependency-description-title",fn:function(){return[e._v(" Based on the "),t("b",[e._v("control's path")]),e._v(". ")]},proxy:!0},{key:"dependency-description",fn:function(){return[t("code",[e._v("design.background.color")]),e._v(": action will only run for that path. "),t("code",[e._v("design.background.*")]),e._v(": action will run for any control below 'background' ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onMovedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after this element is moved in the canvas ")]},proxy:!0},{key:"dependency-description-title",fn:function(){return[e._v(" Based on the "),t("b",[e._v("element's and moved-on element's type ")]),e._v(". ")]},proxy:!0},{key:"dependency-description",fn:function(){return[t("code",[e._v("EssentialElements\\Text")]),e._v(": action will only run if element being moved is of that type, "),t("b",[e._v("OR")]),e._v(" if the element was moved onto an element with that type. ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onAfterDeletedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs AFTER this element was deleted "),t("br")]},proxy:!0},{key:"dependency-description-title",fn:function(){return[e._v(" Based on the "),t("b",[e._v("deleted element's parent type")]),e._v(". ")]},proxy:!0},{key:"dependency-description",fn:function(){return[t("code",[e._v("EssentialElements\\Section")]),e._v(": action will only run if the deleted element was inside a Section element. ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onBeforeDeletingElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs BEFORE this element is deleted ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onMountedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after this element renders in the canvas ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onCreatedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after adding this element to the canvas for the first time ")]},proxy:!0}])}),t("ElementStudioAction",{attrs:{"action-key":"onActivatedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after the element is activated (selected) ")]},proxy:!0}])})],1)])],1)},ch=[],dh=n(63842),uh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("draggable",{attrs:{value:e.value[this.sectionName]},on:{input:e.handleDrag}},e._l(e.value[this.sectionName],(function(n,s){return t("ControlSectionOrControl",{key:n.slug,attrs:{value:n,index:s,path:`${e.sectionName}[${s}]`,parentPath:e.sectionName,twigParentPath:e.section}})})),1),t("div",{staticClass:"text-center py-4"},[t(qs.Z,{attrs:{tile:"",text:"","data-test-id":"element-studio-add-control-section"},on:{click:e.addSection}},[e._v(" Add Control Section ")]),t(qs.Z,{attrs:{tile:"",text:""},on:{click:e.addPreset}},[e._v(" Add Preset ")]),e.canPaste?t(qs.Z,{attrs:{tile:"",text:""},on:{click:e.handlePaste}},[e._v(" Paste ")]):e._e()],1)],1)},ph=[],hh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e.showNewPresetDialog?t("ElementStudioSaveNewDialog",{attrs:{"item-type":"preset","save-locations":e.elementStudioData.saveLocations},on:{input:e.saveNewPreset,close:function(t){e.showNewPresetDialog=!1}}}):e._e(),t("div",{class:e.classList},[t("Accordion",{attrs:{expanded:e.accordionState[e.index],disableToggle:e.isPresetSection},on:{toggle:function(t){return e.toggleAccordion(e.index)}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"d-flex flex-row justify-space-between align-center",attrs:{"data-test-id":"element-studio-control-accordion"}},["section"!==e.value.options.type||e.isPresetSection?t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1,"max-height":"450"},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t(qs.Z,e._g(e._b({staticClass:"mr-2",attrs:{color:"black",small:"",icon:"",title:"Open Twig Code Helper"}},"v-btn",s,!1),n),[t("Icon",{attrs:{icon:"BracketsIcon"}})],1)]}}],null,!1,1714806599),model:{value:e.codeHelpOpen,callback:function(t){e.codeHelpOpen=t},expression:"codeHelpOpen"}},[t(No.Z,{staticClass:"element-studio-poppy-card",staticStyle:{width:"400px",height:"300px"}},[t("TwigCodeHelper",{key:e.keyToRerenderCodeHelp,attrs:{control:e.value,twigParentPath:e.twigParentPath,inRepeater:e.isParentARepeater},on:{close:function(t){e.codeHelpOpen=!1}}})],1)],1):e._e(),t("input",{staticClass:"element-studio-control-label-input",attrs:{placeholder:"Label"},domProps:{value:e.value.label},on:{click:function(e){e.stopPropagation()},focusout:e.updateLabelAndSlugOnFocusOut}}),e.isPresetSection?t(ih.Z,{staticClass:"element-studio-control-type-dropdown mr-2",attrs:{value:e.presetSectionSlug,items:e.availablePresetSections,dense:"","hide-details":"","data-test-id":"element-studio-control-type-dropdown"},on:{input:e.updatePresetSectionSlug}}):e._e(),"section"!==e.value.options.type?t(ih.Z,{staticClass:"element-studio-control-type-dropdown mr-2",attrs:{value:e.value.options.type,items:e.controlTypes,dense:"","hide-details":"","data-test-id":"element-studio-control-type-dropdown"},on:{input:e.updateControlType}}):e._e(),e.isSection?e._e():t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1,"max-height":"450"},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t(qs.Z,e._g(e._b({attrs:{color:"black",small:"",icon:"",title:"Open options","data-test-id":"element-studio-control-open-options"}},"v-btn",s,!1),n),[t("Icon",{attrs:{icon:"SlidersIcon",size:"12"}})],1)]}}],null,!1,1074570844)},[t(No.Z,{staticClass:"element-studio-poppy-card",attrs:{"data-test-id":"element-studio-control-options-card"}},[t(oh.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Make this control's value available in all breakpoints","input-value":!!e.shouldControlValueBeAddedInAllBreakpoints,"hide-details":""},on:{change:e.updatePropertyPathsToWhitelistInFlatProps}}),e.autofocusSupported?t(tp.Z,{attrs:{label:"Autofocus",value:e.value.options.autofocus},on:{change:function(t){return e.updateOptions(t,"autofocus")}}}):e._e(),e.hasSsr?t(oh.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Make the element SSR when this control's value changes","input-value":!!e.shouldControlValueCauseSsr,"hide-details":""},on:{change:e.updatePropertyPathsToSsrElementWhenValueChanges}}):e._e(),"alert_box"===e.value.options.type||"pro_only_alert_box"===e.value.options.type?[t("ElementStudioAlertBoxOptions",{attrs:{value:e.value.options.alertBoxOptions},on:{input:function(t){return e.updateOptions(t,"alertBoxOptions")}}})]:e._e(),"date_picker"===e.value.options.type?[t("h3",{staticClass:"mb-3"},[e._v("Date picker options")]),t("DropdownInput",{attrs:{value:e.value.options.datePickerOptions?Object.keys(e.value.options.datePickerOptions)[0]:"",items:e.datePickerOptions,clearable:""},on:{input:function(t){return e.updateOptions({[t]:t},"datePickerOptions")}}})]:e._e(),"multiselect"===e.value.options.type||"dropdown"===e.value.options.type||"button_bar"===e.value.options.type?[t("ElementStudioDropdownOptions",{attrs:{path:e.path,control:e.value,value:e.value.options.dropdownOptions},on:{input:function(t){return e.updateOptions(t,"dropdownOptions")},updateDropdownItems:e.updateDropdownItems,updateDropdownItem:e.updateDropdownItem}})]:e._e(),"button_bar"===e.value.options.type?[t(tp.Z,{attrs:{label:"Big Button Bar",value:e.value.options.buttonBarOptions&&"big"===e.value.options.buttonBarOptions.size&&"default"===e.value.options.buttonBarOptions.layout,"hide-details":""},on:{change:e.updateButtonBarOptionsSize}}),t(tp.Z,{attrs:{label:"Multiline Bar",value:e.value.options.buttonBarOptions&&"multiline"===e.value.options.buttonBarOptions.layout&&"small"===e.value.options.buttonBarOptions.size,"hide-details":""},on:{change:e.updateButtonBarOptionsLayout}})]:e._e(),"trigger_action_button"===e.value.options.type?[t("h3",{staticClass:"mb-3"},[e._v("Trigger action button options")]),t("TextInput",{staticClass:"mr-3 d-inline-block",attrs:{label:"Button Text",value:e.value.options.triggerActionsButtonOptions&&e.value.options.triggerActionsButtonOptions.text},on:{input:function(t){return e.updateOptions({...e.value.options.triggerActionsButtonOptions,text:t||""},"triggerActionsButtonOptions")}}}),t("ElementStudioIconsAutocomplete",{staticClass:"d-inline-block",attrs:{value:e.value.options.triggerActionsButtonOptions&&e.value.options.triggerActionsButtonOptions.icon},on:{input:function(t){return e.updateOptions({...e.value.options.triggerActionsButtonOptions,icon:t},"triggerActionsButtonOptions")}}})]:e._e(),e.isRepeater?[t("ElementStudioRepeaterOptions",{attrs:{control:e.value,value:e.value.options.repeaterOptions},on:{input:function(t){return e.updateOptions(t,"repeaterOptions")}}})]:e._e(),"unit"===e.value.options.type?[t("ElementStudioUnitOptions",{attrs:{value:e.value.options.unitOptions},on:{input:function(t){return e.updateOptions(t,"unitOptions")}}})]:e._e(),"wpmedia"===e.value.options.type?[t("ElementStudioMediaOptions",{attrs:{value:e.value.options.mediaOptions},on:{input:function(t){return e.updateOptions(t,"mediaOptions")}}})]:e._e(),"video"===e.value.options.type?[t("ElementStudioVideoOptions",{attrs:{value:e.value.options.videoOptions},on:{input:function(t){return e.updateOptions(t,"videoOptions")}}})]:e._e(),"unit"===e.value.options.type||"number"===e.value.options.type||"slider"===e.value.options.type?[t("ElementStudioRangeOptions",{attrs:{value:e.value.options.rangeOptions},on:{input:function(t){return e.updateOptions(t,"rangeOptions")}}})]:e._e(),"shadow"===e.value.options.type?[e._v(" Shadow Type "),t(yu.Z,{staticClass:"pt-3",attrs:{dense:"",items:e.shadowTypes,value:e.value.options.shadowOptions&&e.value.options.shadowOptions.type||"box"},on:{input:e.updateShadowType}})]:e._e(),"breakpoint_dropdown"===e.value.options.type?[t("ElementStudioBreakpointOptions",{attrs:{value:e.value.options.breakpointOptions},on:{input:function(t){return e.updateOptions(t,"breakpointOptions")}}})]:e._e(),"text"===e.value.options.type?[t("h3",{staticClass:"mb-2"},[e._v("Text")]),t(tp.Z,{attrs:{label:"Multiline",value:e.value.options.textOptions&&e.value.options.textOptions.multiline,"hide-details":""},on:{change:e.updateTextOptionsMultiline}}),t("h3",{staticClass:"mb-2"},[e._v("Text Format")]),t("DropdownInput",{attrs:{value:e.value.options.textOptions&&e.value.options.textOptions.format,items:[{text:"HTML",value:"html"},{text:"Plain Text",value:"plain"}]},on:{input:e.updateTextOptionsFormat}})]:e._e(),"focus_point"===e.value.options.type?[t("ElementStudioFocusPointOptions",{attrs:{value:e.value.options.focusPointOptions,control:e.value},on:{input:function(t){return e.updateOptions(t,"focusPointOptions")}}})]:e._e(),"media_size_dropdown"===e.value.options.type?[t("ElementStudioMediaSizeOptions",{attrs:{value:e.value.options.mediaSizeOptions,control:e.value},on:{input:function(t){return e.updateOptions(t,"mediaSizeOptions")}}})]:e._e(),"post_chooser"===e.value.options.type?[t("ElementStudioPostChooserOptions",{attrs:{value:e.value.options.postChooserOptions,control:e.value},on:{input:function(t){return e.updateOptions(t,"postChooserOptions")}}})]:e._e(),"icon"===e.value.options.type?[t("ElementStudioIconOptions",{attrs:{value:e.value.options.iconOptions},on:{input:function(t){return e.updateOptions(t,"iconOptions")}}})]:e._e(),"color"===e.value.options.type?[t("h3",{staticClass:"mb-2"},[e._v("Color Type")]),t("DropdownInput",{attrs:{value:e.value.options.colorOptions&&e.value.options.colorOptions.type||"solidOnly",items:[{text:"Solid Only",value:"solidOnly"},{text:"Solid and Gradient",value:"solidAndGradient"},{text:"Gradient Only",value:"gradientOnly"}]},on:{input:e.updateColorType}})]:e._e(),e.isSection?e._e():[t("h3",[e._v("Dynamic Property")]),t(oh.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Enable dynamic property","input-value":!!e.value?.dynamic,"hide-details":""},on:{change:e.updateDynamic}}),e.value?.dynamic?[t(oh.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Make dynamic data Pro only","input-value":e.value.dynamic.proOnly,"hide-details":""},on:{change:function(t){return e.updateDynamic(!0,e.value?.dynamic?.accepts,t)}}}),t("h4",{staticClass:"mb-1"},[e._v("Dynamic Property Type")]),t("DropdownInput",{attrs:{items:e.dynamicPathAcceptsItems,value:e.value?.dynamic?.accepts},on:{input:function(t){return e.updateDynamic(!0,t,e.value?.dynamic?.proOnly)}}})]:e._e()],"add_registered_children"===e.value.options.type?[t("h3",[e._v("Registered Children options: add extra elements")]),e.availableDescendantElements.length?t("div",{staticClass:"d-flex align-center"},[t(ih.Z,{staticClass:"element-studio-control-type-dropdown mr-4 mt-2",attrs:{items:e.availableDescendantElements,value:e.value.options.addRegisteredChildrenOptions&&e.value.options.addRegisteredChildrenOptions.addExtraElementsBySlug,dense:"","hide-details":"","data-test-id":"element-studio-control-type-dropdown",multiple:""},on:{input:e.updateAddExtraElementsBySlug}}),t("IconButton",{attrs:{icon:"TrashIcon"},on:{click:function(t){return e.updateAddExtraElementsBySlug([])}}})],1):t("div",[e._v(" No available extra elements. ")])]:e._e(),"code"===e.value.options.type?[t("h3",[e._v("Code input options")]),t("DropdownInput",{staticClass:"pt-3",attrs:{items:e.codeTypes,value:e.value.options.codeOptions&&e.value.options.codeOptions.language},on:{input:e.updateCodeType}})]:e._e(),"text"===e.value.options.type||"richtext"===e.value.options.type?[t("ElementStudioVariableOptions",{attrs:{path:e.path,control:e.value,value:e.value.options.variableOptions},on:{input:function(t){return e.updateOptions(t,"variableOptions")},updateVariableItems:e.updateVariableItems,updateVariableItem:e.updateVariableItem}})]:e._e(),t("h3",[e._v("Misc Options")]),e.isInContentTab?[t(oh.Z,{attrs:{label:"See content editable code","hide-details":""},model:{value:e.showContentEditableCode,callback:function(t){e.showContentEditableCode=t},expression:"showContentEditableCode"}}),e.showContentEditableCode?[t("Copyable",{staticClass:"element-studio-inline-helper-code",attrs:{shouldCopy:!1}},[e._v(" "+e._s(e.contentEditableHelperCode)+" ")])]:e._e()]:e._e(),t("div",[e.isInContentTab?e._e():[t("div",{staticClass:"d-flex flex-row"},[t(oh.Z,{attrs:{disabled:e.canHaveMediaQueries,label:"Enable Media Queries","input-value":e.value.enableMediaQueries,"hide-details":""},on:{change:function(t){return e.updateControlBoolean(t,"enableMediaQueries")}}})],1)],t("div",{staticClass:"d-flex flex-row"},[t(oh.Z,{attrs:{label:"Enable Hover","input-value":e.value.enableHover,"hide-details":""},on:{change:function(t){return e.updateControlBoolean(t,"enableHover")}}})],1),t("div",{staticClass:"d-flex flex-row"},[t(oh.Z,{attrs:{label:"Enable Variables","input-value":e.value.enableVariables,"hide-details":""},on:{change:function(t){return e.updateControlBoolean(t,"enableVariables")}}})],1),t("h3",[e._v("Layout")]),t("DropdownInput",{staticClass:"pt-3",attrs:{items:e.controlLayouts,value:e.value.options.layout},on:{input:e.updateControlLayout}}),"text"===e.value.options.type||"dropdown"===e.value.options.type||"multiselect"===e.value.options.type?[t("h3",[e._v("Placeholder")]),t("TextInput",{attrs:{value:e.value.options.placeholder},on:{input:e.updatePlaceholder}})]:e._e(),t("h3",[e._v("Keywords")]),t("TextInput",{attrs:{value:e.keywordsValue},on:{input:e.updateKeywords}}),t("h3",[e._v("Slug")]),t("input",{staticClass:"breakdance-white-gray-outlined-input breakdance-simple-input breakdance-simple-input--text breakdance-simple-input--base",attrs:{placeholder:"Slug"},domProps:{value:e.value.slug},on:{click:function(e){e.stopPropagation()},focusout:e.updateSlugOnFocusOut}}),t("ElementStudioConditionInput",{attrs:{value:e.value.options.condition},on:{input:e.updateConditions}}),t("ElementStudioHideControlInput",{attrs:{value:e.value.options.hideForElements},on:{input:e.updateHideForElements,remove:e.deleteHideForElements}})],2)],2)],1),e.isSection?t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1,"max-height":"450"},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:s}){return[t(qs.Z,e._g(e._b({attrs:{color:"black",small:"",icon:"",title:"Open options","data-test-id":"element-studio-control-open-options"}},"v-btn",s,!1),n),[t("Icon",{attrs:{icon:"SlidersIcon",size:"12"}})],1)]}}],null,!1,1074570844)},[t(No.Z,{staticClass:"element-studio-poppy-card",attrs:{"data-test-id":"element-studio-control-options-card"}},[e.isPresetSection?e._e():t(oh.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Make all control values in this section available in all breakpoints","input-value":!!e.shouldControlValueBeAddedInAllBreakpoints,"hide-details":""},on:{change:e.updatePropertyPathsToWhitelistInFlatProps}}),e.hasSsr?t(oh.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Make the element SSR when any child control value changes","input-value":!!e.shouldControlValueCauseSsr,"hide-details":""},on:{change:e.updatePropertyPathsToSsrElementWhenValueChanges}}):e._e(),t("h3",[e._v("Section Layout")]),t(yu.Z,{staticClass:"pt-3",attrs:{dense:"",items:e.sectionLayouts,value:e.value.options.sectionOptions&&e.value.options.sectionOptions.type},on:{input:e.updateSectionLayoutType}}),t("h3",[e._v("Slug")]),t("input",{staticClass:"breakdance-white-gray-outlined-input breakdance-simple-input breakdance-simple-input--text breakdance-simple-input--base",attrs:{placeholder:"Slug"},domProps:{value:e.value.slug},on:{click:function(e){e.stopPropagation()},focusout:e.updateSlugOnFocusOut}}),t("ElementStudioConditionInput",{attrs:{value:e.value.options.condition},on:{input:e.updateConditions}}),t("ElementStudioHideControlInput",{attrs:{value:e.value.options.hideForElements},on:{input:e.updateHideForElements,remove:e.deleteHideForElements}}),e.spacingBarPresetSlug?[t(oh.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Enable spacing bars","input-value":e.isSpacingBarEnabled(),"hide-details":""},on:{change:e.updateSpacingBar}})]:e._e()],2)],1):e._e(),t(eo.Z),t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t(qs.Z,e._g({staticClass:"mr-1",attrs:{color:"black",icon:"",small:""}},n),[t("Icon",{attrs:{icon:"EllipsisIcon",size:"18"}})],1)]}}])},[t(ho.Z,[t(go.Z,{attrs:{dense:""},on:{click:e.copy}},[t(mo.V9,[e._v("Copy")])],1),e.canPaste?t(go.Z,{attrs:{dense:""},on:{click:e.handlePaste}},[t(mo.V9,[e._v("Paste As Child")])],1):e._e(),e.canReplace?t(go.Z,{attrs:{dense:""},on:{click:e.handleReplace}},[t(mo.V9,[e._v("Replace")])],1):e._e(),e.isSection?t(go.Z,{attrs:{dense:""},on:{click:e.handleMakePreset}},[t(mo.V9,[e._v("Make into a Preset")])],1):e._e()],1)],1),t(qs.Z,{staticClass:"mr-3",attrs:{color:"black",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.deleteControl.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"TrashIcon",size:"12"}})],1)],1)]},proxy:!0},{key:"content",fn:function(){return[t("draggable",{attrs:{value:e.value.children},on:{input:e.handleDrag}},e._l(e.value.children,(function(n,s){return t("ControlSectionOrControl",{key:n.slug,attrs:{value:n,path:`${e.path}.children[${s}]`,index:s,parentPath:e.path,twigParentPath:`${e.twigParentPath}${e.isParentARepeater?`[${s}]`:""}.${e.value.slug}`,parentControl:e.value}})})),1),e.controlAcceptsChildren?t(qs.Z,{staticClass:"mt-2",attrs:{tile:"",text:"","data-test-id":"element-studio-add-control"},on:{click:e.addControl}},[e._v(" Add Control ")]):e._e(),e.controlAcceptsChildren?t(qs.Z,{staticClass:"mt-2",attrs:{tile:"",text:"","data-test-id":"element-studio-add-preset"},on:{click:e.addPreset}},[e._v(" Add Preset ")]):e._e()]},proxy:!0}])})],1)],1)},gh=[],mh=n(89754),vh=n(34680),fh=n.n(vh),yh=n(16888),bh=n(81878),_h=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"d-flex"},[t(Fo.Z,e._b({staticClass:"breakdance-dense-input",attrs:{value:e.value,rules:e.rules,clearable:e.clearable,solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)","data-test-id":e.testId},on:{input:e.edit,blur:function(t){return e.$emit("blur",t)}}},"v-text-field",e.inputOptions,!1))],1)},xh=[];let Sh=class extends s.ZP{get isNumber(){return"number"===this.inputOptions?.type}edit(e){this.isNumber&&e?this.$emit("input",parseFloat(e)):this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Sh.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Sh.prototype,"inputOptions",void 0),(0,r.gn)([(0,l.fI)()],Sh.prototype,"rules",void 0),(0,r.gn)([(0,l.fI)()],Sh.prototype,"testId",void 0),(0,r.gn)([(0,l.fI)({default:!0})],Sh.prototype,"clearable",void 0),Sh=(0,r.gn)([l.wA],Sh);const Ph=Sh,Ch=Ph;var wh=(0,L.Z)(Ch,_h,xh,!1,null,null,null);const Ih=wh.exports;var kh=n(69790),Dh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-element-studio-twig-code-helper"},[e.codeForControl?t("Copyable",{on:{onCopy:e.close}},[e._v(e._s(e.codeForControl))]):[e._v("No code help available for "),t("code",[e._v(e._s(e.control.options.type))]),e._v(" control type")]],2)},Eh=[],Th=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-element-studio-copyable"},[t("textarea",{ref:"input",attrs:{readonly:""},domProps:{value:e.textToCopy}}),e.shouldCopy?t(qs.Z,{attrs:{small:""},on:{click:e.copy}},[e._v("Copy")]):e._e()],1)},Zh=[];let Ah=class extends s.ZP{mounted(){this.shouldCopy&&(0,T.n)((()=>{this.$refs.input.select(),document.execCommand("copy")}))}get textToCopy(){return this.$slots?.default[0]?.text||""}copy(){this.$refs.input.select(),document.execCommand("copy"),this.$emit("onCopy")}};(0,r.gn)([(0,l.fI)({default:!0})],Ah.prototype,"shouldCopy",void 0),Ah=(0,r.gn)([(0,l.wA)({})],Ah);const Bh=Ah,Mh=Bh;var Oh=(0,L.Z)(Mh,Th,Zh,!1,null,null,null);const Lh=Oh.exports,Rh=({twigPath:e})=>"{{ "+e+" }}",Nh=({twigPath:e})=>`{% if ${e} %}\ntoggle is on\n{% else %}\ntoggle is off\n{% endif %}`,Fh=({control:e,twigPath:t})=>e.options.items?e.options.items.map(((e,n)=>{const s=n?"elseif":"if";return`{% ${s} ${t} == '${e.value}' %}\n  CSS or HTML here\n`})).join("")+"\n{% endif %}":"no items yo",$h=({control:e,twigPath:t})=>e.options.items?e.options.items.map(((e,n)=>{const s=n?"elseif":"if";return`{% ${s} '${e.value}' in ${t} %}\n  CSS or HTML here\n`})).join("")+"\n{% endif %}":"no items yo",Vh=({control:e,twigPath:t})=>{const n="text"===e?.options?.shadowOptions?.type,s=n?"text-shadow":"box-shadow";return`${s}: {{ ${t}.style }};`},Wh=({twigPath:e})=>`\n<style>\n/* put this in your default CSS */\n.some-class-to-wrap-the-icon-svg { /* prefix with element classname, i.e. .element-classname .some-class-to-wrap-the-icon */\n    display: flex;\n    font-size: 24px;\n}\n\n.some-class-to-wrap-the-icon-svg > svg { /* also, prefix with element classname */\n    font-size: inherit;\n    width: 1em;\n    height: 1em;\n    stroke-width: 0;\n    stroke: currentColor;\n    fill: currentColor;\n}\n\n/* put this in your twig CSS */\n%%SELECTOR%% .some-class-to-wrap-the-icon-svg {\n    color: #ff0000;\n    font-size: 30px;\n}\n</style>\n<div class="some-class-to-wrap-the-icon-svg">\n{{ ${e}.svgCode }}\n</div>\n`,Hh=({twigPath:e})=>`\n    {% for item in ${e} %}\n        <div>\n            repeated\n        </div>\n    {% endfor %}\n    `,zh=({twigPath:e})=>`\n  /* could be used for transforms */\n  transform-origin: {{ ${e}.x }}% {{ ${e}.y }}%;\n\n  /* or positioning a background */\n  background-position: {{ ${e}.x }}% {{ ${e}.y }}%;\n  `,Uh=["layout_basic_flex","layout","borders","background","css","size","grid",...Ue.Cn],Kh=({control:e,twigPath:t})=>{const n=e.options.sectionOptions?.preset?.slug?.replace("EssentialElements\\","");return n?Uh.includes(n)?`{{ macros.${n}(${t}) }}`:"effects"===n?`\n    {{ macros.effects(${t}, '%%SELECTOR%%') }}\n    {{ macros.effectsHover(${t}, '%%SELECTOR%%:hover') }}\n    `:"effects_no_hover"===n?`{{ macros.effects(${t}, '%%SELECTOR%%') }}`:"filter"===n?`{{ macros.filters(${t}) }}`:"typography"===n||"typography_with_nothing"===n||"typography_with_align"===n||"typography_with_effects"===n||"typography_with_effects_and_align"===n?`{{ macros.typography(${t}, globalSettings) }}`:"simpleLayout"===n?`{{ macros.simpleLayout(${t}, breakpoint) }}`:"fancy_background"===n?`\n      {{ macros.fancyBackgroundHtml(${t}) }}\n      {{ macros.fancyBackgroundCss('%%SELECTOR%%', ${t}, breakpoint) }}\n    `:"typography_with_hoverable_color"===n||"typography_with_align_with_hoverable_color"===n||"typography_with_effects_with_hoverable_color_and_effects"===n||"typography_with_effects_and_align_with_hoverable_color_and_effects"===n?`\n    %%SELECTOR%% {\n      {{ macros.typography(${t}, globalSettings) }}\n    }\n\n    %%SELECTOR%%:hover {\n      {{ macros.typographyWithHoverableColorAndEffects(${t}) }}\n    }\n    `:"typography_with_hoverable_everything"===n||"typography_with_align_with_hoverable_everything"===n||"typography_with_effects_with_hoverable_everything"===n||"typography_with_effects_and_align_with_hoverable_everything"===n?`\n    %%SELECTOR%% {\n      {{ macros.typography(${t}, globalSettings) }}\n    }\n\n    %%SELECTOR%%:hover {\n      {{ macros.typographyWithHoverableEverything(${t}) }}\n    }\n    `:"AtomV1ButtonContent"===n?`\n    \x3c!-- In order to set default styles for your buttons, use the following macros: --\x3e\n    \x3c!-- You can overwrite these settings using design options  --\x3e\n\n    \x3c!-- Button (Primary) --\x3e\n    {{ macros.atomV1ButtonHtml(${t}, 'my-button-custom-class', path.to.button_design_preset_section, '${t}.text') }}\n\n    \x3c!-- Button (Secondary) --\x3e\n    {{ macros.atomV1ButtonHtml(${t}, 'my-button-custom-class', path.to.button_design_preset_section, 'secondary', '${t}.text') }}\n\n    \x3c!-- Button (Custom) --\x3e\n    {{ macros.atomV1ButtonHtml(${t}, 'my-button-custom-class', path.to.button_design_preset_section, 'custom', '${t}.text') }}\n\n    \x3c!-- Button (Text) --\x3e\n    {{ macros.atomV1ButtonHtml(${t}, 'my-button-custom-class', path.to.button_design_preset_section, 'text', '${t}.text') }}\n\n    \x3c!-- Form Button (Submit) --\x3e\n    {{ macros.atomV1ButtonHtmlManual('Submit', false, '%%SELECTOR%% .my-button-custom-class', path.to.button_design_preset_section, 'primary/secondary/custom/text', 'custom-button-id', true, '${t}.text') }}\n\n    \x3c!-- SSR Button --\x3e\n    echo /Breakdance/Elements/AtomV1Button/render($propertiesData['content']['button'], 'my-button-custom-class', $propertiesData['design']['button'], 'primary/secondary/custom/text');\n\n    \x3c!-- SSR Form Button --\x3e\n    echo /Breakdance/Elements/AtomV1Button/renderFormButton($propertiesData['content']['submit_button']['text'], 'my-button-custom-class', $propertiesData['design']['form_button'], 'primary/secondary/custom/text', 'custom-button-id');\n\n\n`:"AtomV1ButtonDesign"===n?`\n      {{ macros.atomV1ButtonCss(${t}, 'my-button-custom-class', '%%SELECTOR%%', breakpoint, globalSettings) }}\n    `:"AtomV1CustomButtonDesign"===n?`\n\n      {{ macros.atomV1ButtonButton(${t}, '%%SELECTOR%% .my-button-custom-class', 'primary/secondary/custom', breakpoint, globalSettings) }}\n\n\n    `:"AtomV1IconDesignWithHover"===n?`\n    HTML:\n    {{ macros.atomV1IconHtml('my-icon-class', path.to.icon, path.to.rotate (number between 1 and 360) or false, path.to.link (link control) or false, ${t}) }}\n\n    CSS:\n    {{ macros.atomV1IconCss(${t}, 'my-icon-class', '%%SELECTOR%%', true) }}`:"AtomV1IconDesign"===n?`\n    HTML:\n    {{ macros.atomV1IconHtml('my-icon-class', path.to.icon, path.to.rotate (number between 1 and 360) or false, path.to.link (link control) or false, ${t}) }}\n\n    CSS:\n    {{ macros.atomV1IconCss(${t}, 'my-icon-class', '%%SELECTOR%%') }}`:"AtomV1FormDesign"===n?`{{ macros.atomV1FormCss(${t}, '%%SELECTOR%%') }}`:"tabs_design"===n?`{{ macros.atomV1TabsCss('%%SELECTOR%%', ${t}, breakpoint, globalSettings) }}`:"WooGlobalStylerOverride"===n?`{{ macros.wooGlobalStyler(${t}, '%%SELECTOR%%', breakpoint, globalSettings) }}`:"pagination"===n?`{{ macros.pagination(${t}, '%%SELECTOR%%', listSelector, activeSelector, dotsSelector) }}`:"wooPresetInputsDesign"===n||"wooPresetInputsDesignNoSelect2"===n?`\n    %%SELECTOR%% {\n      {{ macros.wooPresetInputsDesign(${t}) }}\n    }`:"wooProductsListElements"===n?`\n    {{ macros.wooPresetProductsListElementsDesign('%%SELECTOR%%', ${t}) }}\n    `:"wooProductsListLayout"===n?`\n    {{ macros.wooPresetProductsListLayoutDesign('%%SELECTOR%%', ${t}) }}\n    `:"wooProductWrapperDesign"===n?`\n    {{ macros.wooPresetProductWrapperDesign('%%SELECTOR%%', ${t}) }}\n    `:["lightbox_design","lightbox_single_design"].includes(n)?`{{ macros.atomV1LightboxCss(${t}) }}`:"AtomV1SwiperSettings"===n?`\nHTML:\n\n<div class="breakdance-swiper-wrapper" data-swiper-id="%%ID%%">\n  <div class="swiper">\n    <div class="swiper-wrapper">\n      %%CHILDREN%%\n    </div>\n  </div>\n  \n  {{ macros.AtomV1SwiperPaginationAndArrowsHtml(design.slider) }}\n</div>\n\n----\n\nCSS:\n{{ macros.AtomV1SwiperCss(${t}, '%%SELECTOR%%', globalSettings, isBaseBreakpoint) }}\n`:"borders_without_shadows"===n?`\n    {{ macros.borders_without_shadows(${t}) }}\n    `:`no code help for preset section type of ${n}`:"undefined preset type"},Gh={trigger_action_button:void 0,border_complex:({twigPath:e})=>`{{ macros.border_complex(${e}) }}`,border_radius:({twigPath:e})=>`{{ macros.border_radius(${e}) }}`,breakpoint_dropdown:({twigPath:e})=>`\n    {% if breakpoint == ${e} %}\n    %%SELECTOR%% {\n        /** some css that will apply to the selected breakpoint */\n    }\n    {% endif %}\n    `,button_bar:Fh,dropdown:Fh,code:Rh,color:({control:e,twigPath:t})=>"solidAndGradient"===e.options.colorOptions?.type?`\n        /* Background Color */\n        {{ macros.backgroundColor(${t}) }}\n        \n        /* Or */\n        \n        /* Text Color */\n        {{ macros.textColor(${t}) }}\n        \n        /* Or */\n        \n        /* Border Color */\n        {{ macros.borderColor(${t}) }}\n      `:`background-color: {{ ${t} }}`,gradient:({twigPath:e})=>`background-image: {{ ${e}.style }}`,shadow:Vh,icon:Wh,number:Rh,repeater:Hh,inline_repeater:Hh,richtext:Rh,toggle:Nh,spacing_complex:({twigPath:e})=>`{{ macros.spacing_complex(${e}, 'margin') }}`,text:Rh,url:Rh,unit:({twigPath:e})=>`font-size: {{ ${e}.style }};`,wpmedia:({control:e,twigPath:t})=>e.options?.mediaOptions?.multiple?`\n      {% for item in ${t} %}\n        {{ macros.getMedia(item, content.content.size, content.content.lazyLoad) }}\n      {% endfor %}\n      `:`\n      This macro might return an img, video, or iframe tag, depending on the media type.\n      {{ macros.getMedia(${t}, content.content.size, content.content.lazyLoad) }}\n      \n      Or you can render only images\n      {{ macros.image(${t}, content.content.size, alt, lazyLoad) }}\n    `,video:({twigPath:e})=>`\n      {{ macros.video(${e}) }}\n    `,focus_point:zh,section:Kh,multiselect:$h,condition:void 0,font_family:void 0,class:void 0,global_colors:void 0,override_variables:void 0,global_block_chooser:void 0,component_chooser:void 0,typography:void 0,custom_typography:void 0,typography_preset:void 0,message:void 0,post_chooser:void 0,element_screenshot:void 0,slider:void 0,add_registered_children:void 0,builder_behavior:void 0,alert_box:void 0,pro_only_alert_box:void 0,date_picker:({twigPath:e})=>`{{ ${e} }}`,time_picker:({twigPath:e})=>`{{ ${e} }}`,api_key_input:void 0,link:({twigPath:e})=>`\n     {{ macros.linkStart(${e}) }}\n         Link Text\n     {{ macros.linkEnd() }}\n    `,media_size_dropdown:({twigPath:e})=>`{{ ${e} }}`,wp_query:()=>"Use this control in your SSR.php file. For example:\n    \\Breakdance\\WpQueryControl\\getWpQueryArgumentsFromWpQueryControlProperties($propertiesData['content']['wp_query']['query']);",conditional_form_field:void 0,interactions:void 0},qh=(e,t)=>{let n="";if(Array.isArray(e))n=e.reduce(((e,t)=>{const n=t.reduce(((e,{path:t,value:n})=>e?`${e} and ${t} == "${n}"`:`${t} == "${n}"`),"");return e?`${e} or (${n})`:`(${n})`}),"");else{const{path:t,value:s}=e;n=`${t} == "${s}"`}return`\n      {% if ${n} %}\n      ${t}\n      TODO - examples of not equals, is one of, is set, is not set\n      {% elseif %}\n      ...\n      {% else %}\n      ...\n      {% endif %}\n      `};var jh=n(70802);let Yh=class extends s.ZP{get twigPath(){return this.inRepeater?`item.${this.control.slug}`:`${this.twigParentPath}.${this.control.slug}`}get codeForControl(){const e=Gh[this.control.options.type],t=this.control.options.sectionOptions?.preset?.codeHelp?.replace("%%TWIG_PATH%%",this.twigPath);let n=t||e&&e({control:this.control,twigPath:this.twigPath});if(!n)return!1;if(this.control.options.condition&&(n=qh(this.control.options.condition,n)),this.control.enableHover){const e=n.replace(new RegExp(this.twigPath,"g"),(0,jh.sg)(this.twigPath));n+="\n\n.some-selector:hover {\n"+e+"\n}\n"}return n}close(){this.$emit("close")}};(0,r.gn)([(0,l.fI)()],Yh.prototype,"control",void 0),(0,r.gn)([(0,l.fI)()],Yh.prototype,"twigParentPath",void 0),(0,r.gn)([(0,l.fI)()],Yh.prototype,"inRepeater",void 0),Yh=(0,r.gn)([(0,l.wA)({components:{Copyable:Lh}})],Yh);const Xh=Yh,Qh=Xh;var Jh=(0,L.Z)(Qh,Dh,Eh,!1,null,null,null);const eg=Jh.exports;var tg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("h3",[e._v(e._s(e.label))]),t("Repeater",{attrs:{value:this.internalValue,control:{options:{repeaterOptions:{defaultNewValue:[e.getBlankCondition()],titleTemplate:"OR",buttonName:"Add new OR condition",forceDontProcessDefaultNewValueWhenAddingItemsHack:!0}}}},on:{input:e.emit},scopedSlots:e._u([{key:"default",fn:function({index:n}){return[t("Repeater",{attrs:{value:e.internalValue[n],control:{options:{repeaterOptions:{defaultNewValue:e.getBlankCondition(),forceDontProcessDefaultNewValueWhenAddingItemsHack:!0,titleTemplate:`(AND) ${e.title} for '{path}'`,buttonName:`Add new (AND) ${e.title}`}}}},on:{input:function(t){return e.updateOrCondition(t,n)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:a}){return[t("div",{staticClass:"element-studio-condition-input"},[a?t("div",{staticClass:"element-studio-condition-input-row"},[a.external?t("span",[e._v(" External conditions can't be edited ")]):e._e(),t(rh.Z,{attrs:{label:"Path",items:e.paths,value:a.path,disabled:a.external},on:{input:function(t){return e.updatePath(t,n,s)}}}),t(yu.Z,{attrs:{label:"Operand","no-data-text":"No data. Select a path first",value:a.operand,items:e.getOperands(a),disabled:a.external},on:{input:function(t){return e.updateOperand(t,n,s)}}}),"is set"!==a.operand&&"is not set"!==a.operand?["is one of"!==a.operand&&"is none of"!==a.operand?[t(rh.Z,{attrs:{label:"Value",items:e.getPossibleValues(a),value:a.value,disabled:a.external},on:{input:function(t){return e.updateValue(t,n,s)}}})]:[t(rh.Z,{attrs:{multiple:"",label:"Values",items:e.getPossibleValues(a),value:e.hasMultipleValues(a),disabled:a.external},on:{input:function(t){return e.updateValue(t,n,s)}}})]]:e._e()],2):e._e()])]}}],null,!0)})]}}])})],1)},ng=[];let sg=class extends s.ZP{mounted(){this.value&&!Array.isArray(this.value)&&this.emit([[this.value]])}getBlankCondition(){return{path:"",operand:"equals",value:""}}getOperands(e){const t=e.path;if(!t)return[];const n=this.getControl(t);let s=["equals","not equals","is one of","is none of","is set","is not set","contains","does not contain"];return"multiselect"===n?.options.type&&(s=["includes"]),"toggle"===n?.options.type&&(s=["is set","is not set"]),s.map((e=>({text:e,value:e})))}hasMultipleValues(e){return Array.isArray(e.value)?e.value:[]}get internalValue(){return this.value?Array.isArray(this.value)?this.value:[[this.value]]:[]}get paths(){const e=this.context.getPathsToAllControls().filter((e=>!e.includes("settings.animations")));return this.pathStartsWith?e.filter((e=>e.startsWith(this.pathStartsWith))).map((e=>e.replace(this.pathStartsWith,""))):e}getPossibleValues(e){const t=e.path;if(!t)return[];const n=this.getControl(t);if(!n)return[];const s=n.options.items?.map((e=>String(e.value)));return s||[]}getControl(e){return(0,qe.AP)(this.context.element(),e)}updatePath(e,t,n){const s=(0,ur.Z)(this.internalValue);s[t][n].path=e,this.emit(s)}updateOperand(e,t,n){const s=(0,ur.Z)(this.internalValue);s[t][n].operand=e,this.emit(s)}updateValue(e,t,n){const s=(0,ur.Z)(this.internalValue);s[t][n].value=e,this.emit(s)}updateOrCondition(e,t){const n=(0,ur.Z)(this.internalValue);n[t]=e,this.emit(n)}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],sg.prototype,"value",void 0),(0,r.gn)([(0,l.fI)({default:"Condition"})],sg.prototype,"title",void 0),(0,r.gn)([(0,l.fI)({default:"Only Show Control When Condition Is Met"})],sg.prototype,"label",void 0),(0,r.gn)([(0,l.fI)()],sg.prototype,"pathStartsWith",void 0),(0,r.gn)([(0,l.tB)("context")],sg.prototype,"context",void 0),sg=(0,r.gn)([(0,l.wA)({components:{Repeater:bh.Z}})],sg);const ag=sg,ig=ag;var og=(0,L.Z)(ig,tg,ng,!1,null,null,null);const rg=og.exports;var lg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-unit-options"},[t("h2",{staticClass:"mb-2"},[e._v("Unit Options")]),t("h3",[e._v("Allowed types")]),t(ih.Z,{attrs:{label:"Types",value:e.value&&e.value.types,items:e.availableTypes,multiple:!0,"hide-details":""},on:{input:e.updateTypes}}),t("h3",{staticClass:"mb-1"},[e._v("Default Type")]),t("DropdownInput",{attrs:{label:"Default Type",items:e.value&&e.value.types||[],value:e.value&&e.value.defaultType},on:{input:e.updateDefaultType}}),t(oh.Z,{attrs:{label:"Disable Custom Unit Dropdown",value:e.value?.disableCustomUnitDropdown},on:{change:e.updateDisableCustomUnitDropdown}})],1)},cg=[];let dg=class extends s.ZP{constructor(){super(...arguments),this.control={options:{repeaterOptions:{titleTemplate:"Type",buttonName:"Add type"}}}}get internalValue(){return this.value||{}}get availableTypes(){return lp.qc}updateTypes(e){const t=(0,ur.Z)(this.internalValue);this.emit({...t,types:e})}updateDefaultType(e){const t=(0,ur.Z)(this.internalValue);this.emit({...t,defaultType:e})}updateDisableCustomUnitDropdown(e){const t=(0,ur.Z)(this.internalValue);this.emit({...t,disableCustomUnitDropdown:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],dg.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],dg.prototype,"context",void 0),dg=(0,r.gn)([(0,l.wA)({components:{Repeater:bh.Z,DropdownInput:cr.Z}})],dg);const ug=dg,pg=ug;var hg=(0,L.Z)(pg,lg,cg,!1,null,null,null);const gg=hg.exports;var mg=n(62231),vg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-range-options"},[t("h3",{staticClass:"mb-2"},[e._v("Range Options")]),t("div",{staticClass:"d-flex align-end"},[t("div",{staticClass:"flex-grow-1 flex-column"},[e._v(" Step (fixed to 2 decimals) "),t("input",{class:e.inputClass,attrs:{type:"number"},domProps:{value:e.internalValue.step},on:{input:function(t){return e.updateStep(t.target.value)}}})]),t("div",{staticClass:"flex-grow-1 mx-1 flex-column"},[e._v(" Min (Integer) "),t("input",{class:e.inputClass,attrs:{type:"number"},domProps:{value:e.internalValue.min},on:{input:function(t){return e.updateMin(t.target.value)}}})]),t("div",{staticClass:"flex-grow-1 flex-column"},[e._v(" Max (Integer) "),t("input",{class:e.inputClass,attrs:{type:"number"},domProps:{value:e.internalValue.max},on:{input:function(t){return e.updateMax(t.target.value)}}})])])])},fg=[];let yg=class extends s.ZP{get internalValue(){return this.value||{min:void 0,max:void 0,step:void 0}}get inputClass(){return"d-flex breakdance-white-gray-outlined-input breakdance-simple-input breakdance-simple-input--text breakdance-simple-input--base"}updateStep(e){this.emit({...this.internalValue,step:e?(0,ge.v)(e):void 0})}updateMin(e){this.emit({...this.internalValue,min:e?parseInt(e):void 0})}updateMax(e){this.emit({...this.internalValue,max:e?parseInt(e):void 0})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],yg.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],yg.prototype,"context",void 0),yg=(0,r.gn)([(0,l.wA)({components:{TextInput:Qs.Z}})],yg);const bg=yg,_g=bg;var xg=(0,L.Z)(_g,vg,fg,!1,null,null,null);const Sg=xg.exports;var Pg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-repeater-options"},[t("h3",{staticClass:"mb-2"},[e._v("Repeater Options")]),t("div",[e._v(" Title Template "),t("TextInput",{attrs:{value:e.internalValue.titleTemplate},on:{input:function(t){return e.update(t,"titleTemplate")}}}),e.controlSlugs.length?t("div",{staticClass:"element-studio-repeater-options-variables"},[e._v(" Available variables: "),e._l(e.controlSlugs,(function(n){return t("span",{staticClass:"element-studio-repeater-options-variable",on:{click:function(t){return e.appendVariableToTitle(n)}}},[t("span",[e._v("{")]),e._v(e._s(n)),t("span",[e._v("}")])])}))],2):e._e()],1),t("div",{staticClass:"my-2"},[e._v(" Default Title "),t("TextInput",{attrs:{value:e.internalValue.defaultTitle},on:{input:function(t){return e.update(t,"defaultTitle")}}}),e._v(" Used as a fallback when the title template is blank. ")],1),t("div",[e._v(" Button Name "),t("TextInput",{attrs:{value:e.internalValue.buttonName},on:{input:function(t){return e.update(t,"buttonName")}}}),e._v(' Defaults to "Add Item". ')],1),t("div",[t(oh.Z,{staticClass:"mb-3",attrs:{label:"Enable gallery mode","hide-details":"","input-value":e.internalValue.galleryMode},on:{change:e.updateGalleryMode}}),e.internalValue.galleryMode?[t("h3",{staticClass:"mb-3"},[e._v("Gallery Media Path")]),t("DropdownInput",{attrs:{value:e.internalValue.galleryMediaPath,items:e.mediaControlSlugs},on:{input:function(t){return e.update(t,"galleryMediaPath")}}})]:e._e()],2)])},Cg=[];const wg={titleTemplate:"",defaultTitle:"",buttonName:""};let Ig=class extends s.ZP{get internalValue(){return this.value||wg}get controlSlugs(){return this.control.children.map((e=>e.slug))}get mediaControlSlugs(){return this.control.children.filter((e=>"wpmedia"===e.options.type)).map((e=>e.slug))}appendVariableToTitle(e){const t=this.internalValue.titleTemplate,n=t.includes(`{${e}}`);if(n)return;const s=`${t} {${e}}`.trim();this.update(s,"titleTemplate")}update(e,t){this.emit({...this.internalValue,[t]:e??""})}updateGalleryMode(e){this.emit({...this.internalValue,galleryMode:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Ig.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],Ig.prototype,"context",void 0),(0,r.gn)([(0,l.fI)()],Ig.prototype,"control",void 0),Ig=(0,r.gn)([(0,l.wA)({components:{DropdownInput:cr.Z,TextInput:Qs.Z}})],Ig);const kg=Ig,Dg=kg;var Eg=(0,L.Z)(Dg,Pg,Cg,!1,null,null,null);const Tg=Eg.exports;var Zg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-dropdown-options"},[t("h2",{staticClass:"mb-2"},[e._v("Dropdown options")]),"dropdown"===e.control.options.type?[this.element.htmlTag.options.length>0?t("NiceButton",{on:{click:e.populateWithHtmlTagOptions}},[e._v("Populate with HTML Tag Options")]):e._e(),t(oh.Z,{attrs:{"input-value":!!e.internalValue.populate,label:"Populate dropdown dynamically","hide-details":""},on:{change:e.updateEnablePopulate}}),e.internalValue.populate?[t(Pc.Z,{staticClass:"my-3"}),t("h3",{staticClass:"mb-2"},[e._v("Populate from a Repeater's Input")]),e.internalValue.populate.fetchDataAction?t("div",[e._v(" Populating from server data. To use items instead, clear those fields below. ")]):e.repeaterPaths.length?t("div",[t(rh.Z,{attrs:{label:"Path",items:e.repeaterPaths,value:e.internalValue.populate.path,"hide-details":"",clearable:""},on:{input:function(t){return e.updatePopulateValue("path",t)}}}),t(rh.Z,{attrs:{label:"Label",items:e.possibleValues,value:e.internalValue.populate.text,"hide-details":"",clearable:""},on:{input:function(t){return e.updatePopulateValue("text",t)}}}),t(rh.Z,{attrs:{label:"Value",items:e.possibleValues,value:e.internalValue.populate.value,"hide-details":"",clearable:""},on:{input:function(t){return e.updatePopulateValue("value",t)}}})],1):t("div",[t("h4",[e._v("No repeaters presenta")])]),t(Pc.Z,{staticClass:"my-3"}),t("h3",{staticClass:"mb-2"},[e._v("Populate from server data")]),t(Fo.Z,{attrs:{label:"Fetch data action route name",value:e.internalValue.populate.fetchDataAction,clearable:"","hide-details":""},on:{input:function(t){return e.updatePopulateValue("fetchDataAction",t)}}}),t(rh.Z,{attrs:{label:"Fetch context path",items:e.controlPaths,value:e.internalValue.populate.fetchContextPath,clearable:"","hide-details":""},on:{input:function(t){return e.updatePopulateValue("fetchContextPath",t)}}}),t("h3",[e._v("Refetch data if a control's value changes (specify path)")]),t("Repeater",{attrs:{value:e.internalValue.populate.refetchPaths},on:{input:e.updateRefetchPaths},scopedSlots:e._u([{key:"default",fn:function({index:n}){return[t(rh.Z,{staticClass:"mb-2",attrs:{items:e.controlPaths,value:e.internalValue.populate.refetchPaths[n],"hide-details":""},on:{input:function(t){return e.updateRefetchPath(n,t)}}})]}}],null,!1,3001308231)}),t(Pc.Z,{staticClass:"my-3"}),t("ElementStudioConditionInput",{attrs:{title:"Filtering",label:"Show items in the dropdown only if a condition is met","path-starts-with":`${e.internalValue.populate.path}.`,value:e.internalValue.populate.condition},on:{input:e.updateCondition}})]:e._e()]:e._e(),e.internalValue.populate?e._e():[t("h3",{staticClass:"mb-2"},[e._v("Dropdown items")]),t("Repeater",{attrs:{path:e.path,value:e.dropdownItems,control:e.control},on:{input:e.updateDropdownItems},scopedSlots:e._u([{key:"default",fn:function({index:n}){return[e._v(" Label "),t("TextInput",{staticClass:"mb-2",attrs:{value:e.dropdownItems[n].text,testId:"element-studio-control-dropdown-label-input"},on:{input:function(t){return e.updateDropdownItem({...e.dropdownItems[n],text:t||""},n)}}}),e._v(" Value "),t("TextInput",{attrs:{value:e.dropdownItems[n].value,testId:"element-studio-control-dropdown-value-input"},on:{input:function(t){return e.updateDropdownItem({...e.dropdownItems[n],value:t||""},n)}}}),"button_bar"===e.control.options.type?t("div",{staticClass:"breakdance-dropdown-input d-flex mt-2"},[e.dropdownItems[n].icon?t("div",{staticClass:"mr-2 d-flex align-center"},[t("Icon",{attrs:{icon:e.dropdownItems[n].icon,size:"18"}})],1):e._e(),t("ElementStudioIconsAutocomplete",{attrs:{value:e.dropdownItems[n].icon},on:{input:function(t){return e.updateDropdownItem({...e.dropdownItems[n],icon:t},n)}}})],1):e._e()]}}],null,!1,280151685)})]],2)},Ag=[],Bg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(ih.Z,{staticClass:"breakdance-dense-select breakdance-white-gray-outlined-input",attrs:{label:"Icon",dense:"",solo:"",flat:"",filled:"","hide-details":"",clearable:"",placeholder:"CloseIcon",items:e.iconNames,value:e.value},on:{input:function(t){return e.$emit("input",t)}}})},Mg=[],Og=n(25940);let Lg=class extends s.ZP{get iconNames(){return Og.iconNames}};(0,r.gn)([(0,l.fI)()],Lg.prototype,"value",void 0),Lg=(0,r.gn)([(0,l.wA)({})],Lg);const Rg=Lg,Ng=Rg;var Fg=(0,L.Z)(Ng,Bg,Mg,!1,null,null,null);const $g=Fg.exports,Vg={path:"",text:"",value:"",condition:void 0,fetchDataAction:"",fetchContextPath:"",refetchPaths:[]};let Wg=class extends s.ZP{get internalValue(){return this.value||{}}get repeaterPaths(){return this.context.getPathsToAllControls(["repeater"])}get controlPaths(){return this.context.getPathsToAllControls()}get possibleValues(){const e=this.internalValue?.populate?.path;if(!e)return[];const t=this.getControl(e);if(!t)return[];const n=t.children.map((e=>e.slug));return n||[]}getControl(e){return(0,qe.AP)(this.element,e)}get populate(){return this.internalValue.populate||Vg}get dropdownItems(){return this.control.options.items||[{value:"value",text:"Label"}]}get element(){return this.context.element()}updateDropdownItems(e){this.$emit("updateDropdownItems",e)}updateDropdownItem(e,t){this.$emit("updateDropdownItem",{newItem:e,index:t})}updateEnablePopulate(e){e?this.emit({populate:Vg}):this.emit(void 0)}updateCondition(e){const t=(0,ur.Z)(this.populate);Array.isArray(e)&&!e.length?delete t.condition:t.condition=e,this.emit({populate:t})}updatePopulateValue(e,t){const n=(0,ur.Z)(this.populate);n[e]=t,this.emit({populate:n})}updateRefetchPaths(e){const t=(0,ur.Z)(this.populate);t.refetchPaths=e.map((e=>"string"===typeof e?e:"")),this.emit({populate:t})}updateRefetchPath(e,t){const n=(0,ur.Z)(this.populate);n.refetchPaths&&(n.refetchPaths[e]=t,this.emit({populate:n}))}populateWithHtmlTagOptions(){if(!this.element.htmlTag.options)return;const e=this.element.htmlTag.options.map((e=>({text:e,value:e})));this.updateDropdownItems(e)}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Wg.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Wg.prototype,"control",void 0),(0,r.gn)([(0,l.fI)()],Wg.prototype,"path",void 0),(0,r.gn)([(0,l.tB)("context")],Wg.prototype,"context",void 0),Wg=(0,r.gn)([(0,l.wA)({components:{NiceButton:Wr.Z,ElementStudioIconsAutocomplete:$g,Icon:ze.Z,DropdownInput:cr.Z,Dropdown:yo.Z,ElementStudioConditionInput:rg,Repeater:bh.Z,TextInput:Qs.Z}})],Wg);const Hg=Wg,zg=Hg;var Ug=(0,L.Z)(zg,Zg,Ag,!1,null,null,null);const Kg=Ug.exports;var Gg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-dropdown-options"},[t("h2",{staticClass:"mb-2"},[e._v("Breakpoint options")]),e._v(" Support Multiple "),t(oh.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Support Multiple","input-value":e.value&&!!e.value.multiple,"hide-details":""},on:{change:e.updateMultiple}}),e._v(" Enable Never "),t(oh.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Enable Never","input-value":e.value&&!!e.value.enableNever,"hide-details":""},on:{change:e.updateEnableNever}})],1)},qg=[];let jg=class extends s.ZP{updateMultiple(e){const t={...this.value,multiple:e};this.emit(t)}updateEnableNever(e){const t={...this.value,enableNever:e};this.emit(t)}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],jg.prototype,"value",void 0),jg=(0,r.gn)([(0,l.wA)({components:{}})],jg);const Yg=jg,Xg=Yg;var Qg=(0,L.Z)(Xg,Gg,qg,!1,null,null,null);const Jg=Qg.exports;var em=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-variable-options"},[t("h3",[e._v("Variables")]),t(oh.Z,{staticClass:"mb-3 mt-2",attrs:{label:"Enable variables","input-value":e.internalValue.enabled,"hide-details":""},on:{change:e.toggleEnabled}}),e.internalValue.enabled?[t("Repeater",{attrs:{path:e.path,value:e.variables,control:e.control},on:{input:e.updateVariableItems},scopedSlots:e._u([{key:"default",fn:function({index:n}){return[e._v(" Label "),t("TextInput",{staticClass:"mb-2",attrs:{value:e.variables[n].label,testId:"element-studio-control-variable-label-input"},on:{input:function(t){return e.updateVariableItem({...e.variables[n],label:t},n)}}}),e._v(" Value "),t("TextInput",{attrs:{value:e.variables[n].value,testId:"element-studio-control-variable-value-input"},on:{input:function(t){return e.updateVariableItem({...e.variables[n],value:t},n)}}})]}}],null,!1,98037988)}),t(oh.Z,{attrs:{"input-value":!!e.internalValue.populate,label:"Populate variables based on a Repeater Input"},on:{change:e.updateEnablePopulate}}),e.internalValue.populate?t("div",[t("div",[t(rh.Z,{attrs:{label:"Path",items:e.paths,value:e.internalValue.populate.path},on:{input:function(t){return e.updatePopulateValue("path",t)}}}),t(rh.Z,{attrs:{label:"Label",items:e.possibleValues,value:e.internalValue.populate.text},on:{input:function(t){return e.updatePopulateValue("text",t)}}}),t(rh.Z,{attrs:{label:"Value",items:e.possibleValues,value:e.internalValue.populate.value},on:{input:function(t){return e.updatePopulateValue("value",t)}}})],1),t("ElementStudioConditionInput",{attrs:{title:"Filtering",label:"Show items in the variable only if a condition is met","path-starts-with":`${e.internalValue.populate.path}.`,value:e.internalValue.populate.condition},on:{input:e.updateCondition}}),t(Pc.Z)],1):e._e()]:e._e()],2)},tm=[];const nm={path:"",text:"",value:"",condition:void 0};let sm=class extends s.ZP{constructor(){super(...arguments),this.enabled=!1}get internalValue(){return this.value||{}}get paths(){return this.context.getPathsToAllControls(["repeater"])}get possibleValues(){const e=this.internalValue?.populate?.path;if(!e)return[];const t=this.getControl(e);if(!t)return[];const n=t.children.map((e=>e.slug));return n||[]}getControl(e){return(0,qe.AP)(this.element,e)}get populate(){return this.internalValue.populate||nm}get variables(){return this.control.options.variableItems||[{value:"value",text:"Label"}]}get element(){return this.context.element()}updateVariableItems(e){this.$emit("updateVariableItems",e)}updateVariableItem(e,t){this.$emit("updateVariableItem",{newItem:e,index:t})}updateEnablePopulate(e){e?this.emit({populate:nm}):this.emit({populate:void 0})}updateCondition(e){const t=(0,ur.Z)(this.populate);Array.isArray(e)&&!e.length?delete t.condition:t.condition=e,this.emit({populate:t})}updatePopulateValue(e,t){const n=(0,ur.Z)(this.populate);n[e]=t,this.emit({populate:n})}toggleEnabled(e){this.emit({enabled:e})}emit(e){this.$emit("input",{...this.internalValue,...e})}};(0,r.gn)([(0,l.fI)()],sm.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],sm.prototype,"control",void 0),(0,r.gn)([(0,l.fI)()],sm.prototype,"path",void 0),(0,r.gn)([(0,l.tB)("context")],sm.prototype,"context",void 0),sm=(0,r.gn)([(0,l.wA)({components:{NiceButton:Wr.Z,ElementStudioIconsAutocomplete:$g,Icon:ze.Z,ElementStudioConditionInput:rg,Repeater:bh.Z,TextInput:Qs.Z}})],sm);const am=sm,im=am;var om=(0,L.Z)(im,em,tm,!1,null,null,null);const rm=om.exports;var lm=n(43195),cm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-media-options"},[t("div",{staticClass:"mb-3"},[t("h2",{staticClass:"mb-2"},[e._v("WP Media Options")]),t(oh.Z,{attrs:{label:"Enable gallery mode","input-value":e.internalValue.multiple,"hide-details":""},on:{change:e.updateMultiple}})],1),t(oh.Z,{attrs:{label:"Allow only certain file types","input-value":e.fileTypesEnabled,"hide-details":""},on:{change:e.updateEnableFileTypes}}),e.fileTypesEnabled?t(ih.Z,{staticClass:"mt-2",attrs:{label:"Accepted File Types",value:e.internalValue.acceptedFileTypes,items:e.types,multiple:!0,hint:"All file types are allowed by default."},on:{input:e.updateType}}):e._e()],1)},dm=[],um=n(665);const pm={acceptedFileTypes:void 0,multiple:!1};let hm=class extends s.ZP{get fileTypesEnabled(){return Array.isArray(this.internalValue.acceptedFileTypes)}get types(){return um.n_.types.map((e=>e.value))}get internalValue(){return this.value||pm}updateType(e){this.emit({...this.internalValue,acceptedFileTypes:e})}updateMultiple(e){this.emit({...this.internalValue,multiple:e})}updateEnableFileTypes(e){e?this.updateType([]):this.updateType(void 0)}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],hm.prototype,"value",void 0),hm=(0,r.gn)([(0,l.wA)({components:{DropdownInput:cr.Z,Repeater:bh.Z}})],hm);const gm=hm,mm=gm;var vm=(0,L.Z)(mm,cm,dm,!1,null,null,null);const fm=vm.exports;var ym=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-media-size-options"},[t("div",{staticClass:"mb-3"},[t("h3",{staticClass:"mb-2"},[e._v("Media Size Options")]),t(rh.Z,{attrs:{label:"Image Path",value:e.internalValue.imagePropertyPath,items:e.paths,hint:"Will only show an image's available sizes. Use [] when inside a repeater.","persistent-hint":"",clearable:""},on:{input:e.updatePath}}),e.internalValue.imagePropertyPath?t(oh.Z,{staticClass:"mb-3 mt-2",attrs:{"input-value":e.internalValue.disableSrcset,label:"Don't add srcset attribute to the Image object","persistent-hint":"","hide-details":""},on:{change:e.toggleSrcset}}):e._e()],1)])},bm=[];let _m=class extends s.ZP{get internalValue(){return this.value||{}}get paths(){return this.context.getPathsToAllControls(["wpmedia"])}updatePath(e){this.emit({...this.internalValue,imagePropertyPath:e||""})}toggleSrcset(e){this.emit({...this.internalValue,disableSrcset:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.tB)("context")],_m.prototype,"context",void 0),(0,r.gn)([(0,l.fI)()],_m.prototype,"value",void 0),_m=(0,r.gn)([(0,l.wA)({components:{DropdownInput:cr.Z,Repeater:bh.Z}})],_m);const xm=_m,Sm=xm;var Pm=(0,L.Z)(Sm,ym,bm,!1,null,null,null);const Cm=Pm.exports;var wm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-icon-options"},[t("div",{staticClass:"mb-3"},[t("h3",{staticClass:"mb-2"},[e._v("Icon Options")]),t(rh.Z,{attrs:{clearable:"",multiple:"",value:e.internalValue.suggestions,label:"Suggestions"},on:{input:e.updateSuggestions}})],1)])},Im=[];let km=class extends s.ZP{get internalValue(){return this.value||{}}updateSuggestions(e){this.emit({...this.internalValue,suggestions:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],km.prototype,"value",void 0),km=(0,r.gn)([(0,l.wA)({components:{DropdownInput:cr.Z,Repeater:bh.Z}})],km);const Dm=km,Em=Dm;var Tm=(0,L.Z)(Em,wm,Im,!1,null,null,null);const Zm=Tm.exports;function Am(e,t){function n(e,n,s,a){let i="";return i="control"===a?`${t}.${n}_${s}.%%BREAKPOINT%%`:"complex"===a?`${t}.${n}.%%BREAKPOINT%%.${s}`:`${t}.${n}.${s}`,{location:`${e}-${s}`,cssProperty:`${n}-${s}`,affectedPropertyPath:i}}const s=[n("outside","margin","top","complex"),n("outside","margin","bottom","complex"),n("outside","margin","right","complex"),n("outside","margin","left","complex")],a=[n("inside","padding","top","complex"),n("inside","padding","bottom","complex"),n("inside","padding","right","complex"),n("inside","padding","left","complex")],i=[n("outside","margin","top","control"),n("outside","margin","bottom","control")],o=[n("outside","margin","right","control"),n("outside","margin","left","control")],r=[n("inside","padding","top","control"),n("inside","padding","bottom","control")],l=[n("inside","padding","right","control"),n("inside","padding","left","control")],c=[n("outside","margin","top","not_responsive"),n("outside","margin","bottom","not_responsive"),n("outside","margin","right","not_responsive"),n("outside","margin","left","not_responsive"),n("inside","padding","top","not_responsive"),n("inside","padding","bottom","not_responsive"),n("inside","padding","right","not_responsive"),n("inside","padding","left","not_responsive")];switch(e){case"spacing_all":return[...s,...a];case"spacing_all_y":return[...i,...r];case"spacing_all_x":return[...o,...l];case"spacing_margin_all":return s;case"spacing_margin_y":return i;case"spacing_margin_x":return o;case"spacing_padding_all":return a;case"spacing_padding_y":return r;case"spacing_padding_x":return l;case"spacing_all_not_responsive":return c}}var Bm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-post-chooser-options"},[t("div",{staticClass:"mb-3"},[t("h2",{staticClass:"mb-2"},[e._v("Post Chooser Options")]),t("div",{staticClass:"mt-2"},[t("h4",{staticClass:"mb-1"},[e._v("Post Type")]),t("TextInput",{attrs:{value:e.internalValue.postType},on:{input:function(t){return e.update("postType",t)}}})],1),t(oh.Z,{attrs:{label:"Multiple","input-value":e.internalValue.multiple,"hide-details":""},on:{change:function(t){return e.update("multiple",t)}}}),t(oh.Z,{attrs:{label:"Show Thumbnails","input-value":e.internalValue.showThumbnails,"hide-details":""},on:{change:function(t){return e.update("showThumbnails",t)}}})],1)])},Mm=[];const Om={multiple:!1,showThumbnails:!1,postType:"post"};let Lm=class extends s.ZP{get internalValue(){return this.value||Om}updateMultiple(e){this.emit({...this.internalValue,multiple:e})}update(e,t){this.emit({...this.internalValue,[e]:t??""})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Lm.prototype,"value",void 0),Lm=(0,r.gn)([(0,l.wA)({components:{TextInput:Qs.Z,DropdownInput:cr.Z,Repeater:bh.Z}})],Lm);const Rm=Lm,Nm=Rm;var Fm=(0,L.Z)(Nm,Bm,Mm,!1,null,null,null);const $m=Fm.exports;var Vm=n(617),Wm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-media-options mb-3"},[t("h2",{staticClass:"mb-2"},[e._v("Video Options")]),t(ih.Z,{attrs:{label:"Providers",value:e.internalValue.providers,items:e.types,multiple:!0,hint:"All providers are allowed by default."},on:{input:e.updateProviders}})],1)},Hm=[];const zm={providers:[]};let Um=class extends s.ZP{get types(){return mh.Ru.types.map((e=>e.value))}get internalValue(){return this.value||zm}updateProviders(e){this.emit({...this.internalValue,providers:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Um.prototype,"value",void 0),Um=(0,r.gn)([(0,l.wA)({components:{DropdownInput:cr.Z,Repeater:bh.Z}})],Um);const Km=Um,Gm=Km;var qm=(0,L.Z)(Gm,Wm,Hm,!1,null,null,null);const jm=qm.exports;var Ym=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-media-options mb-3"},[t("h3",{staticClass:"mb-2"},[e._v("Alert Box Options")]),t("DropdownInput",{staticClass:"mb-4",attrs:{placeholder:"Style",items:e.styles,value:e.internalValue.style},on:{input:e.updateStyle}}),t("TipTapWrapper",{attrs:{value:e.internalValue.content},on:{input:e.updateContent}})],1)},Xm=[],Qm=n(46026);const Jm={style:"default",content:""};let ev=class extends s.ZP{get internalValue(){return this.value||Jm}get styles(){return mh.wu.types.map((e=>e.value))}updateStyle(e){this.emit({...this.internalValue,style:e})}updateContent(e){this.emit({...this.internalValue,content:e??""})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],ev.prototype,"value",void 0),ev=(0,r.gn)([(0,l.wA)({components:{DropdownInput:cr.Z,TipTapWrapper:Qm.Z}})],ev);const tv=ev,nv=tv;var sv=(0,L.Z)(nv,Ym,Xm,!1,null,null,null);const av=sv.exports;var iv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-focus-point-options mb-3"},[t("h2",{staticClass:"mb-2"},[e._v("Focus Point Options")]),t(oh.Z,{staticClass:"mb-3",attrs:{label:"Enable Grid Mode","hide-details":"","input-value":e.internalValue.gridMode},on:{change:e.updateGridMode}}),t(ih.Z,{staticClass:"mb-2",attrs:{label:"Image Path",value:e.internalValue.imagePropertyPath,items:e.paths,"persistent-hint":"",hint:"Shows an image as background of this input",clearable:"",disabled:e.internalValue.gridMode},on:{input:e.updatePath}}),e.internalValue.gridMode?t("AlertBox",{attrs:{options:{type:"info",content:"Not available when grid mode is enabled."}}}):e._e()],1)},ov=[];let rv=class extends s.ZP{get internalValue(){return this.value||{}}get paths(){return this.context.getPathsToAllControls(["wpmedia"])}updatePath(e){this.emit({...this.internalValue,imagePropertyPath:e||""})}updateGridMode(e){this.emit({...this.internalValue,gridMode:e})}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.tB)("context")],rv.prototype,"context",void 0),(0,r.gn)([(0,l.fI)()],rv.prototype,"value",void 0),rv=(0,r.gn)([(0,l.wA)({components:{AlertBox:qu.Z,DropdownInput:cr.Z,Repeater:bh.Z}})],rv);const lv=rv,cv=lv;var dv=(0,L.Z)(cv,iv,ov,!1,null,null,null);const uv=dv.exports;var pv=n(78143),hv=n(31304),gv=n.n(hv);async function mv(e,t,n,s){return await(0,Go.D)({action:"breakdance_save_preset",dataToPost:{directoryPath:t,filename:n,preset:(0,pv.Tb)((0,pv.HE)(s),e.section,(0,qp.$_)(s))},decoder:Kr._4})}function vv(e,t){return`${e}\\${gv()(t)}`}var fv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio-hide-control-input"},[t(oh.Z,{attrs:{"input-value":!!e.value,label:"Hide Control From Specific Elements","hide-details":""},on:{change:e.toggleControl}}),e.value?t(rh.Z,{attrs:{label:"Elements",items:e.items,value:e.value,multiple:""},on:{input:e.updateValue}}):e._e()],1)},yv=[];let bv=class extends s.ZP{get items(){return Object.keys(X.PK.elements)}toggleControl(e){e?this.$emit("input",[]):this.$emit("remove")}updateValue(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],bv.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],bv.prototype,"context",void 0),bv=(0,r.gn)([(0,l.wA)({})],bv);const _v=bv,xv=_v;var Sv=(0,L.Z)(xv,fv,yv,!1,null,null,null);const Pv=Sv.exports;let Cv=class extends s.ZP{constructor(){super(...arguments),this.codeHelpOpen=!1,this.showContentEditableCode=!1,this.showNewPresetDialog=!1,this.accordionState=[!1]}get canHaveMediaQueries(){return!!this.parentControl?.enableMediaQueries}get parentType(){return this.parentControl?.options.type}get keyToRerenderCodeHelp(){const e=(0,ip.g)(this.value);return(0,mg.X)(`${e}`)}get isPresetSection(){return!!this.presetSectionSlug}get presetSectionSlug(){return this.value.options.sectionOptions?.preset?.slug}get isSection(){return"section"===this.value.options.type}get isRepeater(){return(0,qe.W5)(this.value.options.type)}get isParentARepeater(){return(0,qe.W5)(this.parentType)}get controlAcceptsChildren(){return(0,qe.v4)(this.value.options.type)}get isInContentTab(){return this.path.startsWith("contentSections")}get spacingBarPresetSlug(){if(this.isSection)return Ue.Cn.find((e=>e===this.value.options?.sectionOptions?.preset?.slug))}get classList(){return{"element-studio-control-or-control-section":!0,"element-studio-control-section":!0,"element-studio-control":!this.controlAcceptsChildren}}get twigPathWithoutRepeaterIndex(){return(0,lm.rg)(`${this.twigParentPath}${this.isParentARepeater?"[]":""}.${this.value.slug}`)}get dynamicPathAcceptsItems(){return(0,lm.cS)()}get contentEditableHelperCode(){return`// Add to the control value's wrapper HTML to make it ContentEditable\n\n    ${this.twigPathForContentEditable}\n    `}get twigPathForContentEditable(){return this.isRepeater||this.isParentARepeater?`{{ dataContentEditablePropertyPath('${this.twigParentPath}['~ loop.index0 ~ '].your_control') }}`:`{{ dataContentEditablePropertyPath('${this.twigPathWithoutRepeaterIndex}') }}`}get datePickerOptions(){return Object.keys(mh.Fl.props)}get elementStudioData(){return this.context.getElementStudioData()}async saveNewPreset(e){if(!this.isSection)return;const t=gv()(e.name),n=vv(e.namespace,t);if(this.elementStudioData.presets.find((e=>e.slug===n)))return void(0,qp.O6)(this.elementStudioData.saveLocations,e,"preset");const s=this.value;s.options.sectionOptions={...s.options.sectionOptions,preset:{slug:n}},(0,Ur.zG)(await mv({slug:n,section:s},e.directoryPath,t,n),(0,Gr.g_)((e=>{console.error(e),Yo.Z.log.message("Failed to save element, check console")}),(()=>{const t=(0,ur.Z)(this.elementStudioData);t.presets.push({slug:n,directoryPath:e.directoryPath}),t.presetSections.push({slug:n,section:s}),this.context.updateElementStudioData(t),this.context.updateControl(this.parentPath,this.index,s)})))}toggleAccordion(e){s.ZP.set(this.accordionState,e,!this.accordionState[e])}handleDrag(e){this.context.replaceControls(`${this.path}.children`,e)}get canPaste(){return this.controlAcceptsChildren&&!this.isPresetSection&&c.kD.elementStudioClipboard.copiedControl}get canReplace(){if(!c.kD.elementStudioClipboard.copiedControl)return!1;const e=c.kD.elementStudioClipboard.copiedControl;return!this.isSection||"section"===e.options.type}handlePaste(){if(!this.controlAcceptsChildren)return;if(!c.kD.elementStudioClipboard.copiedControl)return;const e=c.kD.elementStudioClipboard.copiedControl;e&&this.context.pasteControl(`${this.path}.children`,e)}handleReplace(){if(!c.kD.elementStudioClipboard.copiedControl)return;const e=c.kD.elementStudioClipboard.copiedControl;e&&this.context.updateControl(this.parentPath,this.index,e)}handleMakePreset(){this.showNewPresetDialog=!0}get controlTypes(){const e=e=>e.charAt(0).toUpperCase()+e.slice(1),t=[];return mh.F4.sort().filter(this.removeDisallowedControlTypes).map((t=>({text:e(t),value:t}))).map((e=>this.isInContentTab&&t.includes(e.value)?{...e,disabled:!0}:e))}copy(){const e=(0,ur.Z)(this.value);c.kD.copyElementStudioControl(e)}get availablePresetSections(){return this.context.getPresetSections().map((e=>({text:e.slug,value:e.slug})))}updatePresetSectionSlug(e){const t=(0,ur.Z)(this.context.getPresetSection(e));void 0!==t&&(t.section.options.sectionOptions={...t.section.options.sectionOptions,type:"popout"},this.context.updateControl(this.parentPath,this.index,t.section),this.turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(t.section.options.sectionOptions,t.section.slug),this.turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(t.section.options.sectionOptions,t.section.slug))}turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(e,t){if(!e||!e.preset?.relativePropertyPathsToWhitelistInFlatProps)return;const n=t||(0,pv.HE)(t);let s=(0,ur.Z)(this.context.element().propertyPathsToWhitelistInFlatProps);const a=e.preset.relativePropertyPathsToWhitelistInFlatProps.map((e=>`${this.twigParentPath}.${n}.${e}`)),i=e.preset.relativePropertyPathsToWhitelistInFlatProps.map((e=>`${this.twigParentPath}.${this.value.slug}.${e}`));s?(s=s.filter((e=>!a.includes(e)&&!i.includes(e))),s=[...s,...a]):s=a,(0,T.n)((()=>this.context.updateElementValue("propertyPathsToWhitelistInFlatProps",s)))}turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(e,t){if(!e||!e.preset?.relativeDynamicPropertyPaths)return;const n=t||(0,pv.HE)(t);let s=(0,ur.Z)(this.context.element().dynamicPropertyPaths);const a=e.preset.relativeDynamicPropertyPaths.map((e=>({...e,path:`${this.twigParentPath}.${n}.${e.path}`}))),i=e.preset.relativeDynamicPropertyPaths.map((e=>({...e,path:`${this.twigParentPath}.${this.value.slug}.${e.path}`})));s?(s=s.filter((e=>!a.some((t=>t.path===e.path))&&!i.some((t=>t.path===e.path)))),s=[...s,...a]):s=a,(0,T.n)((()=>this.context.updateElementValue("dynamicPropertyPaths",s)))}removeDisallowedControlTypes(e){const t=["class","font_family","global_colors","message"];return!t.includes(e)}addControl(){this.context.addControl(this.path)}deleteControl(){this.context.deleteControl(this.parentPath,this.index)}updateControlType(e){const t=(0,ur.Z)(this.value);if(t.options.type=e,!this.isInContentTab){const n=["code","repeater","inline_repeater","spacing_complex","border_complex","gradient","icon","richtext","shadow","wpmedia","text","focus_point","url"];n.includes(e)?t.options.layout="vertical":t.options.layout="inline"}this.context.updateControl(this.parentPath,this.index,t)}updateVariableItems(e){const t=(0,ur.Z)(this.value);t.options.variableItems=e,this.context.updateControl(this.parentPath,this.index,t)}updateVariableItem({newItem:e,index:t}){const n=(0,ur.Z)(this.value);n.options.variableItems||(n.options.variableItems=[]),n.options.variableItems[t]=e,this.context.updateControl(this.parentPath,this.index,n)}updateDropdownItems(e){const t=(0,ur.Z)(this.value);t.options.items=e,this.context.updateControl(this.parentPath,this.index,t)}updateDropdownItem({newItem:e,index:t}){const n=(0,ur.Z)(this.value);n.options.items||(n.options.items=[]),n.options.items[t]=e,this.context.updateControl(this.parentPath,this.index,n)}updateOptions(e,t){const n=(0,ur.Z)(this.value),s=`options.${t}`;lr()(n,s,e),this.context.updateControl(this.parentPath,this.index,n)}get availableDescendantElements(){return Object.values(c.PK.elements).filter((e=>!!e&&(!e.nestingRule.restrictedToBeADirectChildOf&&(0,Re.V4)(e.nestingRule,this.context.element().nestingRule,this.context.element().slug)))).map((e=>e?.slug))}updateAddExtraElementsBySlug(e){const t=(0,ur.Z)(this.value);t.options.addRegisteredChildrenOptions={...t.options.addRegisteredChildrenOptions,addExtraElementsBySlug:e},this.context.updateControl(this.parentPath,this.index,t)}get autofocusSupported(){switch(this.value.options.type){case"text":return!0;case"video":return!0;default:return!1}}get codeTypes(){return["css","html","javascript","x-php"]}updateCodeType(e){const t=(0,ur.Z)(this.value);t.options.codeOptions={...t.options.codeOptions,language:e},this.context.updateControl(this.parentPath,this.index,t)}get shadowTypes(){return mh.bB.props.type.types.map((e=>e.value))}updateShadowType(e){const t=(0,ur.Z)(this.value);t.options.shadowOptions={...t.options.shadowOptions,type:e},this.context.updateControl(this.parentPath,this.index,t)}updateTextOptionsMultiline(e){const t=(0,ur.Z)(this.value);t.options.textOptions={...t.options.textOptions,multiline:e},this.context.updateControl(this.parentPath,this.index,t)}updateTextOptionsFormat(e){const t=(0,ur.Z)(this.value);t.options.textOptions={...t.options.textOptions,format:e},this.context.updateControl(this.parentPath,this.index,t)}updateButtonBarOptionsSize(e){const t=(0,ur.Z)(this.value);t.options.buttonBarOptions={...t.options.buttonBarOptions,size:e?"big":"small",layout:"default"},this.context.updateControl(this.parentPath,this.index,t)}updateButtonBarOptionsLayout(e){const t=(0,ur.Z)(this.value);t.options.buttonBarOptions={...t.options.buttonBarOptions,layout:e?"multiline":"default",size:"small"},this.context.updateControl(this.parentPath,this.index,t)}addPreset(){this.context.addPreset(this.path)}get controlLayouts(){return["inline","vertical"]}updateControlLayout(e){const t=(0,ur.Z)(this.value);t.options.layout=e,this.context.updateControl(this.parentPath,this.index,t)}updateKeywords(e){const t=(0,ur.Z)(this.value);t.keywords=null===e?void 0:e.split(","),this.context.updateControl(this.parentPath,this.index,t)}get keywordsValue(){return this.value.keywords?this.value.keywords.join(","):""}updatePlaceholder(e){const t=(0,ur.Z)(this.value);t.options.placeholder=e??void 0,this.context.updateControl(this.parentPath,this.index,t)}updateColorType(e){const t=(0,ur.Z)(this.value);t.options.colorOptions={...t.options.colorOptions,type:e},this.context.updateControl(this.parentPath,this.index,t)}updateConditions(e){const t=(0,ur.Z)(this.value);Array.isArray(e)&&!e.length?delete t.options.condition:t.options.condition=e,this.context.updateControl(this.parentPath,this.index,t)}updateHideForElements(e){const t=(0,ur.Z)(this.value);t.options.hideForElements=e,this.context.updateControl(this.parentPath,this.index,t)}deleteHideForElements(){const e=(0,ur.Z)(this.value);delete e.options.hideForElements,this.context.updateControl(this.parentPath,this.index,e)}get sectionLayouts(){return mh.Pk}updateSectionLayoutType(e="accordion"){const t=(0,ur.Z)(this.value);t.options.sectionOptions={...t.options.sectionOptions,type:e},this.context.updateControl(this.parentPath,this.index,t)}updateLabelAndSlugOnFocusOut(e){const t=e.target.value,n=(0,ur.Z)(this.value);n.label=t,n.slug=t.replace(/[^a-z0-9]+/gi,"_").toLowerCase(),/^\d/.test(n.slug)&&(n.slug=`slug_cant_start_with_number_${n.slug}`),this.context.updateControl(this.parentPath,this.index,n),this.updateElementPropertiesNotTiedToControl(n)}updateSlugOnFocusOut(e){const t=e.target.value?e.target.value:"",n=(0,ur.Z)(this.value);n.slug=t.replace(/[^a-z0-9]+/gi,"_").toLowerCase(),/^\d/.test(n.slug)&&(n.slug=`slug_cant_start_with_number_${n.slug}`),this.context.updateControl(this.parentPath,this.index,n),this.updateElementPropertiesNotTiedToControl(n)}updateControlBoolean(e,t){const n=(0,ur.Z)(this.value);n[t]=e,this.context.updateControl(this.parentPath,this.index,n)}updateDynamic(e,t="string",n=!1){const s=(0,ur.Z)(this.value);e?s.dynamic={accepts:t,proOnly:n}:delete s.dynamic,this.context.updateControl(this.parentPath,this.index,s)}isSpacingBarEnabled(){const e=this.context.element().spacingBars;if(!e||!e.length)return!1;if(!this.spacingBarPresetSlug)return!1;const t=Am(this.spacingBarPresetSlug,this.twigPathWithoutRepeaterIndex).map((e=>e.affectedPropertyPath)),n=e.find((e=>t.includes(e.affectedPropertyPath)));return!!n}updateSpacingBar(e){if(!this.spacingBarPresetSlug)return;let t=(0,ur.Z)(this.context.element().spacingBars);const n=Am(this.spacingBarPresetSlug,this.twigPathWithoutRepeaterIndex);if(e)t||(t=[]),t=[...t,...n];else if(t){const e=n.map((e=>e.affectedPropertyPath));t=t.filter((t=>!e.includes(t.affectedPropertyPath)))}this.context.updateElementValue("spacingBars",t)}updateElementPropertiesNotTiedToControl(e){(0,T.n)((()=>this.updateSpacingBar(!1))),(0,T.n)((()=>this.updatePropertyPathsToWhitelistInFlatProps(!1))),(0,T.n)((()=>this.updatePropertyPathsToSsrElementWhenValueChanges(!1))),this.turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(e.options.sectionOptions,e.slug),this.turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(e.options.sectionOptions,e.slug)}get shouldControlValueBeAddedInAllBreakpoints(){const e=this.context.element().propertyPathsToWhitelistInFlatProps;return e&&e.includes(this.twigPathWithoutRepeaterIndex)}updatePropertyPathsToWhitelistInFlatProps(e){let t=(0,ur.Z)(this.context.element().propertyPathsToWhitelistInFlatProps);if(e)t||(t=[]),t.push(this.twigPathWithoutRepeaterIndex);else if(t){const e=t.findIndex((e=>e===this.twigPathWithoutRepeaterIndex));e>-1&&t.splice(e,1)}this.context.updateElementValue("propertyPathsToWhitelistInFlatProps",t)}get hasSsr(){return this.context.element().template.includes("%%SSR%%")}get shouldControlValueCauseSsr(){const e=this.context.element().propertyPathsToSsrElementWhenValueChanges;return e&&e.includes(this.twigPathWithoutRepeaterIndex)}updatePropertyPathsToSsrElementWhenValueChanges(e){let t=(0,ur.Z)(this.context.element().propertyPathsToSsrElementWhenValueChanges);e?(t||(t=[]),t.push(this.twigPathWithoutRepeaterIndex)):t&&(t=t.filter((e=>e!==this.twigPathWithoutRepeaterIndex))),this.context.updateElementValue("propertyPathsToSsrElementWhenValueChanges",t)}};(0,r.gn)([(0,l.fI)()],Cv.prototype,"path",void 0),(0,r.gn)([(0,l.fI)()],Cv.prototype,"parentPath",void 0),(0,r.gn)([(0,l.fI)()],Cv.prototype,"index",void 0),(0,r.gn)([(0,l.fI)()],Cv.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Cv.prototype,"twigParentPath",void 0),(0,r.gn)([(0,l.fI)()],Cv.prototype,"parentControl",void 0),(0,r.gn)([(0,l.tB)("context")],Cv.prototype,"context",void 0),Cv=(0,r.gn)([(0,l.wA)({name:"ControlSectionOrControl",components:{ElementStudioHideControlInput:Pv,ElementStudioSaveNewDialog:Jp,ElementStudioFocusPointOptions:uv,ElementStudioVideoOptions:jm,ElementStudioIconsAutocomplete:$g,IconButton:oo.Z,InlineRepeater:Vm.Z,ElementStudioBreakpointOptions:Jg,Icon:ze.Z,ElementStudioIconOptions:Zm,ElementStudioMediaSizeOptions:Cm,ElementStudioMediaOptions:fm,ElementStudioPostChooserOptions:$m,TextInput:Qs.Z,Copyable:Lh,ElementStudioDropdownOptions:Kg,ElementStudioVariableOptions:rm,DropdownInput:cr.Z,ElementStudioRepeaterOptions:Tg,ElementStudioRangeOptions:Sg,Dropdown:yo.Z,CopyButton:kh.Z,ShittyTextInput:Ih,Repeater:bh.Z,ControlSectionOrControl:Cv,draggable:fh(),Accordion:yh.Z,TwigCodeHelper:eg,ElementStudioConditionInput:rg,ElementStudioUnitOptions:gg,ElementStudioAlertBoxOptions:av}})],Cv);const wv=Cv,Iv=wv;var kv=(0,L.Z)(Iv,hh,gh,!1,null,null,null);const Dv=kv.exports;let Ev=class extends s.ZP{get sectionName(){return`${this.section}Sections`}handleDrag(e){this.context.replaceControls(this.sectionName,e)}get canPaste(){return X.kD.elementStudioClipboard.copiedControl}handlePaste(){if(!X.kD.elementStudioClipboard.copiedControl)return;const e=X.kD.elementStudioClipboard.copiedControl;e&&this.context.pasteControl(this.sectionName,e)}addSection(){this.context.addControl(this.sectionName,"section")}addPreset(){this.context.addPreset(this.sectionName)}};(0,r.gn)([(0,l.fI)()],Ev.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Ev.prototype,"section",void 0),(0,r.gn)([(0,l.tB)("context")],Ev.prototype,"context",void 0),Ev=(0,r.gn)([(0,l.wA)({components:{ControlSectionOrControl:Dv,draggable:fh()}})],Ev);const Tv=Ev,Zv=Tv;var Av=(0,L.Z)(Zv,uh,ph,!1,null,null,null);const Bv=Av.exports;var Mv=n(82354),Ov=n(85256),Lv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e._v(" Dependencies "),t("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"{title}",defaultTitle:"Dependency"}}}},on:{input:function(t){return e.updateDependenciesRoot(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t(Fo.Z,{attrs:{label:"Title",value:s.title},on:{input:function(t){return e.updateDependency(t,`[${n}].title`)}}}),t("Accordion",{attrs:{expanded:"scripts"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("scripts")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Scripts ("+e._s(s.scripts?s.scripts.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("Repeater",{attrs:{value:s.scripts,control:{options:{repeaterOptions:{titleTemplate:"URL to script"}}}},on:{input:function(t){return e.updateDependencies(t,`[${n}].scripts`)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:a}){return[t(ih.Z,{attrs:{placeholder:"Script",value:a,items:e.jsLocalDependencies},on:{input:function(t){return e.updateDependency(t,`[${n}].scripts[${s}]`)}}}),!a||e.dependencyIsNotLocal(a,e.jsLocalDependencies)?t("div",[t("div",a?[e._v("The dependency is a hardcoded value:")]:[e._v("Hardcode a value:")]),t("div",[e._v(" Remember to use "),t("pre",[e._v("%%BREAKDANCE_ELEMENTS_PLUGIN_URL%%")])]),t("ShittyTextInput",{attrs:{value:a},on:{input:function(t){return e.updateDependency(t,`[${n}].scripts[${s}]`)}}})],1):e._e(),t(qs.Z,{attrs:{outlined:"",small:""},on:{click:e.getLocalDependenciesFilesFromWordpress}},[e._v(" Reload dependencies files ")])]}}],null,!0)})]},proxy:!0}],null,!0)}),t("Accordion",{attrs:{expanded:"inlineScripts"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("inlineScripts")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Inline Scripts ("+e._s(s.inlineScripts?s.inlineScripts.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("Repeater",{attrs:{value:s.inlineScripts,control:{options:{repeaterOptions:{titleTemplate:"JavaScript"}}}},on:{input:function(t){return e.updateDependencies(t,`[${n}].inlineScripts`)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:a}){return[t("div",{staticClass:"element-studio__execute-inline-script-dependencies"},[t(qs.Z,{attrs:{small:"",outlined:""},on:{click:function(t){return e.executeInlineScript(`[${n}].inlineScripts[${s}]`)}}},[e._v(" Execute code ")])],1),t("CodeInput",{attrs:{value:a,language:"javascript","twig-variables":e.twigVariables,tags:e.tags},on:{input:function(t){return e.updateDependency(t||"",`[${n}].inlineScripts[${s}]`)}}})]}}],null,!0)})]},proxy:!0}],null,!0)}),t("Accordion",{attrs:{expanded:"styles"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("styles")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Styles ("+e._s(s.styles?s.styles.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("Repeater",{attrs:{value:s.styles,control:{options:{repeaterOptions:{titleTemplate:"URL to style"}}}},on:{input:function(t){return e.updateDependencies(t,`[${n}].styles`)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:a}){return[t(ih.Z,{attrs:{placeholder:"Style",value:a,items:e.cssLocalDependencies},on:{input:function(t){return e.updateDependency(t,`[${n}].styles[${s}]`)}}}),!a||e.dependencyIsNotLocal(a,e.cssLocalDependencies)?t("div",[t("div",a?[e._v("The dependency is a hardcoded value:")]:[e._v("Hardcode a value:")]),t("div",[e._v(" Remember to use "),t("pre",[e._v("%%BREAKDANCE_ELEMENTS_PLUGIN_URL%%")])]),t("ShittyTextInput",{attrs:{value:a},on:{input:function(t){return e.updateDependency(t,`[${n}].styles[${s}]`)}}})],1):e._e(),t(qs.Z,{attrs:{outlined:"",small:""},on:{click:e.getLocalDependenciesFilesFromWordpress}},[e._v(" Reload dependencies files ")])]}}],null,!0)})]},proxy:!0}],null,!0)}),t("Accordion",{attrs:{expanded:"inlineStyles"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("inlineStyles")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Inline Styles ("+e._s(s.inlineStyles?s.inlineStyles.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("Repeater",{attrs:{path:"inlineStyles",value:s.inlineStyles,control:{options:{repeaterOptions:{titleTemplate:"CSS"}}}},on:{input:function(t){return e.updateDependencies(t,`[${n}].inlineStyles`)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:a}){return[t("CodeInput",{attrs:{value:a,language:"css","twig-variables":e.twigVariables,tags:e.tags},on:{input:function(t){return e.updateDependency(t||"",`[${n}].inlineStyles[${s}]`)}}})]}}],null,!0)})]},proxy:!0}],null,!0)}),t("div",{staticClass:"element-studio-dependencies-separator"}),t("Accordion",{attrs:{expanded:"builderCondition"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("builderCondition")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Builder Condition ("+e._s(s.builderCondition?"present":"empty")+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("CodeInput",{attrs:{value:s.builderCondition,language:"javascript","twig-variables":e.twigVariables},on:{input:function(t){return e.updateDependency(t||"",`[${n}].builderCondition`)}}}),t("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.conditionInfoOpen},on:{click:function(t){e.conditionInfoOpen=!e.conditionInfoOpen}}},[t("TextWithChevron",{attrs:{open:e.conditionInfoOpen}},[e._t("default",(function(){return[e._v("Decides if the dependencies are added to the builder")]}))],2),t("div",{staticClass:"mt-2"},[e._v("Can run Twig and JS code.")]),t("div",[e._v("When left empty the dependencies will always be added.")]),t("div",[e._v(" If any code is present and the result returns a "),t("code",[e._v("true")]),e._v(" value the dependencies will be added. ")]),t("div",[e._v(" If it returns "),t("code",[e._v("false")]),e._v(" no dependencies are added. ")])],1)]},proxy:!0}],null,!0)}),t("Accordion",{attrs:{expanded:"frontendCondition"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("frontendCondition")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Frontend Condition ("+e._s(s.frontendCondition?"present":"empty")+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("CodeInput",{attrs:{value:s.frontendCondition,language:"x-php","twig-variables":e.twigVariables},on:{input:function(t){return e.updateDependency(t||"",`[${n}].frontendCondition`)}}}),t("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.conditionInfoOpen},on:{click:function(t){e.conditionInfoOpen=!e.conditionInfoOpen}}},[t("TextWithChevron",{attrs:{open:e.conditionInfoOpen}},[e._t("default",(function(){return[e._v("Decides if the dependencies are added to the frontend")]}))],2),t("div",{staticClass:"mt-2"},[e._v("Can run Twig and PHP code.")]),t("div",[e._v("When left empty the dependencies will always be added.")]),t("div",[e._v(" If any code is present and the result returns a "),t("code",[e._v("true")]),e._v(" value the dependencies will be added. ")]),t("div",[e._v(" If it returns "),t("code",[e._v("false")]),e._v(" no dependencies are added. ")])],1)]},proxy:!0}],null,!0)})]}}])})],1)},Rv=[],Nv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"d-flex align-center"},[t("Icon",{staticClass:"mr-2",attrs:{icon:"ChevronDownIcon",rotate:e.open?"90":void 0,size:"12"}}),t("b",[e._t("default")],2)],1)},Fv=[];let $v=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],$v.prototype,"open",void 0),$v=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z}})],$v);const Vv=$v,Wv=Vv;var Hv=(0,L.Z)(Wv,Nv,Fv,!1,null,null,null);const zv=Hv.exports;var Uv=n(36300);const Kv=Kr.G0([Kr.i0("id"),Kr.i0("parentId"),Kr.i0("selector"),Kr.i0("parent_selector"),Kr.i0("postId"),Kr.i0("ssr")]),Gv=Kv.types.map((({value:e})=>e));let qv=class extends s.ZP{constructor(){super(...arguments),this.accordionState="",this.index=0,this.conditionInfoOpen=!1}get tags(){return Gv}get twigVariables(){return this.context.getPathsToAllControls()}async mounted(){X.PK.localDependenciesFiles.length||await this.getLocalDependenciesFilesFromWordpress()}async getLocalDependenciesFilesFromWordpress(){(0,Uo.pipe)(await(0,Go.D)({action:"breakdance_get_local_dependency_files",decoder:Kr.IX(dh.xY),resultKey:"localDependencyFiles"}),(0,Ko.fold)((e=>e.forEach((e=>Yo.Z.log.message(e.msg)))),(e=>{X.PK.setLocalDependenciesFiles(e)})))}updateDependenciesRoot(e){this.context.updateDependency(e)}updateDependencies(e,t){const n=(0,ur.Z)(this.value)||[];lr()(n,t,e.map((e=>"string"===typeof e?e:""))),this.context.updateDependency(n)}updateDependency(e,t){const n=(0,ur.Z)(this.value)||[];lr()(n,t,e),this.context.updateDependency(n)}toggleAccordion(e){this.accordionState=this.accordionState===e?"":e}executeInlineScript(e){const t=G()(this.value,e);t&&(0,Uv.Oz)((0,D.RY)(),{code:t,origin:"Executed inline script from Element Studio"})}dependencyIsNotLocal(e,t){return!t.find((t=>"value"in t&&t.value===e))}get jsLocalDependencies(){return this.localDependenciesAsVuetifySelectShape("js")}get cssLocalDependencies(){return this.localDependenciesAsVuetifySelectShape("css")}localDependenciesAsVuetifySelectShape(e){const t=[];return X.PK.localDependenciesFiles.forEach((n=>{n.files[e].length&&(t.push({header:n.name}),n.files[e].forEach((e=>{t.push({text:e.name,value:e.url})})))})),t}};(0,r.gn)([(0,l.fI)()],qv.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],qv.prototype,"context",void 0),qv=(0,r.gn)([(0,l.wA)({components:{TextInput:Qs.Z,TextWithChevron:zv,CodeInput:Mv.Z,Accordion:yh.Z,ShittyTextInput:Ih,Repeater:bh.Z}})],qv);const jv=qv,Yv=jv;var Xv=(0,L.Z)(Yv,Lv,Rv,!1,null,null,null);const Qv=Xv.exports,Jv=e=>{const t=(0,ur.Z)(e),n=ef(t);return n.controls.settingsSections=[],n.cssTemplate=n.cssTemplate.split("\n{#%---")[0],n.dynamicPropertyPaths&&(n.dynamicPropertyPaths=n.dynamicPropertyPaths.filter((e=>!e.path.startsWith("settings.")))),n.propertyPathsToWhitelistInFlatProps&&(n.propertyPathsToWhitelistInFlatProps=n.propertyPathsToWhitelistInFlatProps.filter((e=>!e.startsWith("settings.")))),n};function ef(e){const t=(0,ur.Z)(e);return(0,Ov.f)(t.controls).forEach((e=>{t.controls[e]=t.controls[e].filter((e=>!e.options.isExternal))})),t}var tf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("Accordion",{attrs:{expanded:e.accordionState===e.actionKey},on:{toggle:e.toggleAccordion},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" "+e._s(e.actionName)+" ("+e._s(e.value&&e.value[e.actionKey]?e.value[e.actionKey].length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[t("b",[e._t("action-description")],2),t("Repeater",{attrs:{value:e.value[e.actionKey],control:{options:{repeaterOptions:{titleTemplate:"Script",buttonName:"Add script"}}},"default-new-value":{script:""}},on:{input:function(t){return e.updateActions(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t("CodeInput",{attrs:{language:"javascript",value:s.script,"twig-variables":e.twigVariables,tags:e.tags},on:{input:function(t){return e.updateAction(t||"",`${e.actionKey}[${n}].script`)}}}),t("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.actionInfoOpen},on:{click:function(t){e.actionInfoOpen=!e.actionInfoOpen}}},[t("TextWithChevron",{attrs:{open:e.actionInfoOpen}},[e._t("default",(function(){return[e._v(" Available within the action's code: ")]}))],2),"onAfterDeletedElement"===e.actionKey?[t("div",{staticClass:"mt-3"},[e._v(" Tags: "),t("code",[e._v("%%PARENT_SELECTOR%%")]),e._v(" and "),t("code",[e._v("%%PARENT_ID%%")]),e._v(" are available. ")])]:[t("div",{staticClass:"mt-3"},[e._v(" You can use Twig to access the element properties. eg. "),t("code",[e._v("{ { design.background.color } }")]),e._v(". ")]),t("div",{staticClass:"mt-3"},[t("code",[e._v("%%SELECTOR%%, %%ID%%")]),e._v(" are also available. ")])]],2),e.withDependencies?t("Repeater",{attrs:{value:s.dependencies,control:{options:{repeaterOptions:{titleTemplate:"Dependency",buttonName:"Add dependency"}}}},on:{input:function(t){return e.updateDependencies(t,n)}},scopedSlots:e._u([{key:"default",fn:function({index:s,value:a}){return[t(rh.Z,{attrs:{items:e.pathsToAllControls,value:a},on:{input:function(t){return e.updateDependency(t,`${e.actionKey}[${n}].dependencies[${s}]`)}}}),t("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.dependencyInfoOpen},on:{click:function(t){e.dependencyInfoOpen=!e.dependencyInfoOpen}}},[t("TextWithChevron",{attrs:{open:e.dependencyInfoOpen}},[e._t("default",(function(){return[e._t("dependency-description-title")]}))],2),t("div",{staticClass:"mt-2"},[e._t("dependency-description")],2)],1)]}}],null,!0)}):e._e(),t(oh.Z,{attrs:{"input-value":s.runForAllChildren,label:"Run for all children",hint:"beware that the Twig code running in the action will be with the child's data, including tags","persistent-hint":""},on:{change:function(t){return e.updateAction(t,`${e.actionKey}[${n}].runForAllChildren`)}}})]}}],null,!0)})]},proxy:!0}],null,!0)})],1)},nf=[],sf=n(45021),af=n.n(sf);let of=class extends s.ZP{constructor(){super(...arguments),this.index=0,this.actionInfoOpen=!1,this.dependencyInfoOpen=!1}get actionName(){return af()(this.actionKey)}get tags(){return Gv}get twigVariables(){return this.context.getPathsToAllControls()}toggleAccordion(){this.$emit("toggle",this.accordionState===this.actionKey?"":this.actionKey)}getValueOrDefault(e){let t=(0,ur.Z)(this.value);return t?t[e]||(t[e]=[{script:""}]):t={[e]:[{script:""}]},t}updateActions(e){const t=this.getValueOrDefault(this.actionKey);t[this.actionKey]=e,this.context.updateActions(t)}updateAction(e,t){const n=(0,ur.Z)(this.value);lr()(n,t,e),this.context.updateActions(n)}updateDependencies(e,t){const n=this.getValueOrDefault(this.actionKey);let s=n[this.actionKey];s||(s=[]),s[t].dependencies=e.map((e=>"string"===typeof e?e:"")),n[this.actionKey]=s,this.context.updateActions(n)}get pathsToAllControls(){const e=this.context.element().controls;return[e.designSections.length?"design":null,e.contentSections.length?"content":null,...this.context.getPathsToAllControls([],[])].filter(Boolean)}updateDependency(e,t){const n=(0,ur.Z)(this.value);lr()(n,t,e),this.context.updateActions(n)}};(0,r.gn)([(0,l.fI)()],of.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],of.prototype,"actionKey",void 0),(0,r.gn)([(0,l.fI)()],of.prototype,"accordionState",void 0),(0,r.gn)([(0,l.fI)({default:!0})],of.prototype,"withDependencies",void 0),(0,r.gn)([(0,l.tB)("context")],of.prototype,"context",void 0),of=(0,r.gn)([(0,l.wA)({components:{TextWithChevron:zv,CodeInput:Mv.Z,ShittyTextInput:Ih,Repeater:bh.Z,Accordion:yh.Z}})],of);const rf=of,lf=rf;var cf=(0,L.Z)(lf,tf,nf,!1,null,null,null);const df=cf.exports;var uf=n(67389),pf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{defaultNewValue:{name:"",template:""},defaultTitle:"HTML Attribute",titleTemplate:"{name}",buttonName:"Add new HTML attribute"}}}},on:{input:function(t){return e.updateAttributes(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t("b",[e._v("Attribute Name")]),t(Fo.Z,{attrs:{value:s.name,rules:[e.htmlAttributeNameRule]},on:{input:function(t){return e.updateName(n,t)}}}),t("b",[e._v("Attribute Value")]),"template"in s?t("CodeInput",{attrs:{value:s.template,language:"html"},on:{input:function(t){return e.updateTemplateValue(n,t)}}}):"propertyPath"in s?t(Fo.Z,{attrs:{value:s.template},on:{input:function(t){return e.updatePropertyPathValue(n,t)}}}):"rawValue"in s?t(Fo.Z,{attrs:{value:s.template},on:{input:function(t){return e.updateRawValue(n,t)}}}):e._e()]}}])})},hf=[];let gf=class extends s.ZP{updateAttributes(e){this.$emit("input",e)}updateName(e,t){const n=(0,ur.Z)(this.value);!0===this.htmlAttributeNameRule(t)&&(n[e].name=t.trim(),this.$emit("input",n))}updateTemplateValue(e,t){const n=(0,ur.Z)(this.value);n[e].template=t??"",this.$emit("input",n)}updatePropertyPathValue(e,t){const n=(0,ur.Z)(this.value);n[e].propertyPath=t,this.$emit("input",n)}updateRawValue(e,t){const n=(0,ur.Z)(this.value);n[e].rawValue=t,this.$emit("input",n)}htmlAttributeNameRule(e){return Gu.hB.validateHtmlAttributeName(e)}};(0,r.gn)([(0,l.fI)({default:()=>[]})],gf.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],gf.prototype,"context",void 0),gf=(0,r.gn)([(0,l.wA)({components:{CodeInput:Mv.Z,Repeater:bh.Z,Dropdown:yo.Z,Accordion:yh.Z,draggable:fh()}})],gf);const mf=gf,vf=mf;var ff=(0,L.Z)(vf,pf,hf,!1,null,null,null);const yf=ff.exports;var bf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"Class .{name}",buttonName:"Add Class",defaultNewValue:{name:"my-class",template:"yes"}}}}},on:{input:function(t){return e.updateClasses(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t("b",[e._v("Class Name")]),t(Fo.Z,{attrs:{value:s.name,rules:[e.htmlClassNameRule]},on:{input:function(t){return e.updateName(n,t)}}}),t("b",[e._v("Class Condition Twig Template")]),t("CodeInput",{attrs:{value:s.template,language:"html"},on:{input:function(t){return e.updateValue(n,t)}}}),t("div",{staticClass:"mt-2"},[e._v(" The template can run Twig code. Properties like design.something.whatever are available. If the template returns a blank string, the class will not be added. If the template returns anything, the class will be added. ")]),t("div",[e._v("(the returned value is trimmed for spaces and newlines)")])]}}])})},_f=[];let xf=class extends s.ZP{updateClasses(e){this.$emit("input",e)}updateName(e,t){const n=(0,ur.Z)(this.value);!0===this.htmlClassNameRule(t)&&(n[e].name=t.trim(),this.$emit("input",n))}updateValue(e,t){const n=(0,ur.Z)(this.value);n[e].template=t??"",this.$emit("input",n)}htmlClassNameRule(e){return Gu.hB.validateHtmlClassName(e)}};(0,r.gn)([(0,l.fI)({default:[]})],xf.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],xf.prototype,"context",void 0),xf=(0,r.gn)([(0,l.wA)({components:{CodeInput:Mv.Z,Repeater:bh.Z,Dropdown:yo.Z,Accordion:yh.Z,draggable:fh()}})],xf);const Sf=xf,Pf=Sf;var Cf=(0,L.Z)(Pf,bf,_f,!1,null,null,null);const wf=Cf.exports;var If=n(6184),kf=n(75617),Df=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(No.Z,[t(ar.ZB,[e._v(" Looks Good "),t("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.looksGood,clearable:""},on:{input:function(t){return e.updateValueForKey("looksGood",t)}}}),t("br"),e._v(" Options Are Good "),t("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.optionsGood,clearable:""},on:{input:function(t){return e.updateValueForKey("optionsGood",t)}}}),t("br"),e._v(" Options Work "),t("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.optionsWork,clearable:""},on:{input:function(t){return e.updateValueForKey("optionsWork",t)}}}),t("br"),e._v(" Dynamic Behavior Works "),t("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.dynamicBehaviorWorks,clearable:""},on:{input:function(t){return e.updateValueForKey("dynamicBehaviorWorks",t)}}}),t("br"),t("br"),t(kf.Z,{staticStyle:{border:"1px solid var(--gray500)"},attrs:{filled:"",value:e.value.notes},on:{input:e.updateNotes}}),t("br")],1)],1)},Ef=[];let Tf=class extends s.ZP{get dropdownItems(){return["yes","no","unknown","sort of"]}updateValueForKey(e,t){const n=(0,ur.Z)(this.value);n[e]=t,this.emit(n)}updateNotes(e){const t=(0,ur.Z)(this.value);t.notes="string"===typeof e?e:"",this.emit(t)}emit(e){this.$emit("input",e)}};(0,r.gn)([(0,l.fI)()],Tf.prototype,"value",void 0),Tf=(0,r.gn)([(0,l.wA)({components:{DropdownInput:cr.Z}})],Tf);const Zf=Tf,Af=Zf;var Bf=(0,L.Z)(Af,Df,Ef,!1,null,null,null);const Mf=Bf.exports;var Of=n(78),Lf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("InlineRepeater",{attrs:{value:e.value||[]},on:{input:function(t){return e.updateElementValue(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t(rh.Z,{attrs:{value:s,hint:'To describe a repeater, use "[]". e.g: "content.list.my_repeater[].url"',rules:[e.pathRules],items:e.allPaths},on:{input:function(t){return e.updatePropertyPathByIndex(n,t)}}})]}}])})},Rf=[];let Nf=class extends s.ZP{updateElementValue(e){const t=e.map((e=>"string"===typeof e?e:""));this.$emit("input",t)}updatePropertyPathByIndex(e,t){const n=(0,ur.Z)(this.value);t&&this.pathRules(t)&&(n[e]=t.trim(),this.updateElementValue(n))}pathRules(e){return(0,qe.qj)(e)}};(0,r.gn)([(0,l.fI)({default:()=>[]})],Nf.prototype,"value",void 0),(0,r.gn)([(0,l.fI)({default:()=>[]})],Nf.prototype,"allPaths",void 0),Nf=(0,r.gn)([(0,l.wA)({components:{InlineRepeater:Vm.Z,Repeater:bh.Z,DropdownInput:cr.Z,CodeInput:Mv.Z,Dropdown:yo.Z,Accordion:yh.Z,draggable:fh()}})],Nf);const Ff=Nf,$f=Ff;var Vf=(0,L.Z)($f,Lf,Rf,!1,null,null,null);const Wf=Vf.exports;var Hf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e.value.dynamicPropertyPaths&&e.value.dynamicPropertyPaths.length?t("Accordion",{attrs:{expanded:"dynamicPropertyPaths"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("dynamicPropertyPaths")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v("Dynamic Property Paths (deprecated)")])]},proxy:!0},{key:"content",fn:function(){return[t("ElementStudioDynPropPaths",{attrs:{value:e.value.dynamicPropertyPaths,"all-paths":e.allPaths},on:{input:function(t){return e.updateElementValuePropPath(t,"dynamicPropertyPaths")}}})]},proxy:!0}],null,!1,350629959)}):e._e(),t("Accordion",{attrs:{expanded:"propertyPathsToWhitelistInFlatProps"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("propertyPathsToWhitelistInFlatProps")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v("Property paths to whitelist in flat props")])]},proxy:!0},{key:"content",fn:function(){return[t("ElementStudioPropertyPaths",{attrs:{value:e.value.propertyPathsToWhitelistInFlatProps,"all-paths":e.allPathsWithDesignAndContent},on:{input:function(t){return e.updateElementValuePropPath(t,"propertyPathsToWhitelistInFlatProps")}}})]},proxy:!0}])}),t("Accordion",{attrs:{expanded:"dynamic-prop-paths"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("dynamic-prop-paths")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Property paths to SSR the element when value changes ")])]},proxy:!0},{key:"content",fn:function(){return[t("ElementStudioPropertyPaths",{attrs:{value:e.value.propertyPathsToSsrElementWhenValueChanges,"all-paths":e.allPathsWithDesignAndContent},on:{input:function(t){return e.updateElementValuePropPath(t,"propertyPathsToSsrElementWhenValueChanges")}}})]},proxy:!0}])}),t("Accordion",{attrs:{expanded:"spacing-bars"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("spacing-bars")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v("Spacing Bars")])]},proxy:!0},{key:"content",fn:function(){return[t("ElementStudioSpacingBars",{attrs:{value:e.value.spacingBars}})]},proxy:!0}])})],1)},zf=[],Uf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"{path} - {accepts}",buttonName:"Add new Dynamic Property Path",defaultNewValue:{accepts:"string",path:""}}}}},on:{input:function(t){return e.updateElementValue(t)}},scopedSlots:e._u([{key:"default",fn:function({index:n,value:s}){return[t("b",[e._v("Dynamic Property Path")]),t(rh.Z,{attrs:{value:s.path,hint:'To describe a repeater, use "[]". e.g: "content.list.my_repeater[].url"',rules:[e.pathRules],items:e.allPaths},on:{input:function(t){return e.updateDynamicPropertyPath(n,t)}}}),t("b",{staticClass:"d-block pt-2"},[e._v("Accepts:")]),t("DropdownInput",{attrs:{items:e.getDynamicPathAcceptsItems,value:s.accepts},on:{input:function(t){return e.updateValue(n,t)}}})]}}])})},Kf=[];let Gf=class extends s.ZP{updateElementValue(e){this.$emit("input",e)}updateDynamicPropertyPath(e,t){const n=(0,ur.Z)(this.value);this.pathRules(t)&&(n[e].path=t.trim(),this.updateElementValue(n))}pathRules(e){return(0,qe.qj)(e)}get getDynamicPathAcceptsItems(){return(0,lm.cS)()}updateValue(e,t){const n=(0,ur.Z)(this.value);n[e].accepts=t,this.updateElementValue(n)}};(0,r.gn)([(0,l.fI)({default:()=>[]})],Gf.prototype,"value",void 0),(0,r.gn)([(0,l.fI)({default:()=>[]})],Gf.prototype,"allPaths",void 0),Gf=(0,r.gn)([(0,l.wA)({components:{Repeater:bh.Z,DropdownInput:cr.Z,CodeInput:Mv.Z,Dropdown:yo.Z,Accordion:yh.Z,draggable:fh()}})],Gf);const qf=Gf,jf=qf;var Yf=(0,L.Z)(jf,Uf,Kf,!1,null,null,null);const Xf=Yf.exports;var Qf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"Spacing bar",buttonName:"Add new spacing bar"}}}},on:{input:function(t){return e.updateSpaceBars(t)}},scopedSlots:e._u([{key:"default",fn:function({value:n,index:s}){return[t("ElementStudioSpacingBar",{attrs:{value:n},on:{input:function(t){return e.updateSpaceBar(t,s)}}})]}}])})},Jf=[],ey=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"mt-4"},[e._v("Location")]),t("DropdownInput",{attrs:{items:e.cssProperties,value:e.newSpaceBar.cssProperty},on:{input:e.updateLocationAndProperty}}),t("div",{staticClass:"mt-4"},[e._v("Affected property path")]),t(rh.Z,{attrs:{items:e.pathsToAllControls,placeholder:"design.spacing.%%BREAKPOINT%%.top"},model:{value:e.newSpaceBar.affectedPropertyPath,callback:function(t){e.$set(e.newSpaceBar,"affectedPropertyPath",t)},expression:"newSpaceBar.affectedPropertyPath"}}),t("NiceButton",{on:{click:e.saveNewSpaceBar}},[e._v("Save")])],1)},ty=[],ny=n(16442);let sy=class extends s.ZP{constructor(){super(...arguments),this.newSpaceBar=this.value||{}}get pathsToAllControls(){return this.context.getPathsToAllControls()}get propertiesLocationsKeyPair(){const e=dh.g3.types.map((e=>e.value)),t=dh.U$.types.map((e=>e.value));return t.reduce(((t,n,s)=>({...t,[n]:e[s]})),{})}get cssProperties(){return Object.keys(this.propertiesLocationsKeyPair)}updateLocationAndProperty(e){this.newSpaceBar.cssProperty=e,this.newSpaceBar.location=this.propertiesLocationsKeyPair[e]}saveNewSpaceBar(){(0,Ur.zG)(dh.pG.decode(this.newSpaceBar),(0,Gr.g_)((e=>{Yo.Z.log.message("Error saving new space bar, please fill out all fields"),(0,ny.H)(e)}),(()=>{this.$emit("input",this.newSpaceBar)})))}};(0,r.gn)([(0,l.fI)()],sy.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],sy.prototype,"context",void 0),sy=(0,r.gn)([(0,l.wA)({components:{NiceButton:Wr.Z,DropdownInput:cr.Z}})],sy);const ay=sy,iy=ay;var oy=(0,L.Z)(iy,ey,ty,!1,null,null,null);const ry=oy.exports;let ly=class extends s.ZP{updateSpaceBar(e,t){const n=(0,ur.Z)(this.value);n[t]=e,this.updateSpaceBars(n)}updateSpaceBars(e){this.context.updateElementValue("spacingBars",e)}};(0,r.gn)([(0,l.fI)({default:[]})],ly.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],ly.prototype,"context",void 0),ly=(0,r.gn)([(0,l.wA)({components:{ElementStudioSpacingBar:ry,NiceButton:Wr.Z,TextInput:Qs.Z,InlineRepeater:Vm.Z,Repeater:bh.Z,DropdownInput:cr.Z,CodeInput:Mv.Z,Dropdown:yo.Z,Accordion:yh.Z,draggable:fh()}})],ly);const cy=ly,dy=cy;var uy=(0,L.Z)(dy,Qf,Jf,!1,null,null,null);const py=uy.exports;let hy=class extends s.ZP{constructor(){super(...arguments),this.accordionState=""}toggleAccordion(e){this.accordionState=this.accordionState===e?"":e}get allPathsWithDesignAndContent(){return[this.context.element().controls.designSections.length?"design":null,this.context.element().controls.contentSections.length?"content":null,...this.context.getPathsToAllControls([],[])].filter(Boolean)}get allPaths(){return this.context.getPathsToAllControls()}updateElementValuePropPath(e,t){this.context.updateElementValue(t,e)}};(0,r.gn)([(0,l.fI)()],hy.prototype,"value",void 0),(0,r.gn)([(0,l.tB)("context")],hy.prototype,"context",void 0),hy=(0,r.gn)([(0,l.wA)({components:{ElementStudioSpacingBars:py,ElementStudioPropertyPaths:Wf,ElementStudioDynPropPaths:Xf,Accordion:yh.Z}})],hy);const gy=hy,my=gy;var vy=(0,L.Z)(my,Hf,zf,!1,null,null,null);const fy=vy.exports;var yy=n(46368),by=n(86592);function _y(e){X.PK.setTwigMacros(e),(0,by.J6)((0,by.GJ)(e),by.rf),X.kD.forceUpdateEntireCanvas()}const xy=Ho()(mi.w.registerAllStoreActions,500);let Sy=class extends s.ZP{constructor(){super(...arguments),this.tab=(0,op.z)(`element-studio-tab-${this.type}`)||"content",this.actionsAccordionState="",this.nameHasChanged=!1,this.useLocalIcon=!!Og.iconNames.find((e=>e===this.element.uiIcon))||!this.element.uiIcon||!1,this.contextMenu=!1,this.showNewMacroDialog=!1,this.savedCssSelection="",this.elementStudioContext={replaceControls:(e,t)=>{const n=(0,ur.Z)(this.element);lr()(n.controls,e,t),this.emit(n)},pasteControl:(e,t)=>{const n=(0,ur.Z)(this.element),s=G()(n.controls,e);s.push(t),lr()(n.controls,e,s),this.emit(n)},addControl:(e,t="text")=>{const n=(0,ur.Z)(this.element),s={slug:"section"===t?"new_section":"new_control",label:"section"===t?"New Section":"New Control",keywords:[],options:{type:t},enableMediaQueries:!1,enableHover:!1,enableVariables:!1,children:[]};(e.startsWith("contentSections")||"text"===t||"number"===t)&&(s.options.layout="vertical");const a=this.cleanElement.controls,i=G()(a,e);Array.isArray(i)?i.push(s):i.children.push(s),lr()(a,e,i),n.controls=this.mergeElementControlsWithExternalControls(a),this.emit(n)},addPreset:e=>{const t=(0,ur.Z)(this.element),n=(0,ur.Z)(this.elementStudioContext.getPresetSection("EssentialElements\\typography"));if(!n)return;n.section.options.sectionOptions={...n.section.options.sectionOptions,type:"popout"};const s=this.cleanElement.controls,a=G()(s,e);Array.isArray(a)?a.push(n.section):a.children.push(n.section),lr()(s,e,a),t.controls=this.mergeElementControlsWithExternalControls(s),this.emit(t)},deleteControl:(e,t)=>{const n=(0,ur.Z)(this.element),s=this.parentControls(e);Array.isArray(s)?s.splice(t,1):s.children.splice(t,1),lr()(n.controls,e,s),this.emit(n)},updateControl:(e,t,n)=>{const s=(0,ur.Z)(this.element),a=this.parentControls(e);Array.isArray(a)?a.splice(t,1,n):a.children.splice(t,1,n),lr()(s.controls,e,a),this.emit(s)},updateDependency:e=>{this.updateElementValue("dependencies",e)},updateActions:e=>{this.updateElementValue("actions",e),xy()},getPresetSection:e=>this.available.presetSections.find((t=>t.slug===e)),getPresetSections:()=>this.available.presetSections,getPathsToAllControls:(e=[],t=["section"])=>{const n=(0,qp.eH)(this.element.controls.contentSections,e,t,"content"),s=(0,qp.eH)(this.element.controls.designSections,e,t,"design");return[...n,...s]},element:()=>this.element,updateElementValue:this.updateElementValue,getElementStudioData:()=>this.available,updateElementStudioData:e=>{this.update(e)}}}async mounted(){document.addEventListener("contextmenu",this.handleRightClickInCodeInput)}beforeDestroy(){document.removeEventListener("contextmenu",this.handleRightClickInCodeInput)}onElementSlugChange(){this.nameHasChanged=!0}handleRightClickInCodeInput(e){const t=window.getSelection()?.toString();!t||"css"!==this.tab&&"html"!==this.tab||(e.preventDefault(),this.contextMenu={x:e.clientX,y:e.clientY})}handleCreateMacro(){this.savedCssSelection=window.getSelection()?.toString()||"",this.showNewMacroDialog=!0}async saveNewMacro(e){if(!this.savedCssSelection)return;this.contextMenu=!1;const t=this.savedCssSelection?.toString(),n=(0,pv.dZ)(e.namespace,e.name),s=(0,by.as)(t,{selector:"{{ selector }}",id:"{{ id }}",postId:"{{ postId }}"}).replace("macros.","_self."),a=`{% macro ${n}() %}\n\n${s} \n\n{% endmacro %}`,i=gv()(e.name),o=vv(e.namespace,e.name);this.available.macros.find((e=>e.slug===o))?(0,qp.O6)(this.available.saveLocations,e,"macro"):(0,Ur.zG)(await(0,Go.D)({action:"breakdance_save_macro",dataToPost:{directoryPath:e.directoryPath,filename:i,macro:a},decoder:Kr._4}),(0,Gr.g_)((e=>{console.error(e),Yo.Z.log.message("Failed to save element, check console")}),(()=>{const t=`{{ macros.${n}() }}`;Yo.Z.log.message(`New macro created: ${t}. `),Mc()(t);const s=(0,ur.Z)(this.available);s.macros.push({slug:o,directoryPath:e.directoryPath}),this.elementStudioContext.updateElementStudioData(s);const i=(0,ur.Z)(X.PK.twigMacros);i.push({macro:a,slug:o}),_y(i)})))}updateSlug(){if(!window.confirm("Changing the slug of an existing element will make it obsolete in all pages, everywhere. Continue anyway?"))return;const e=(0,qp.kK)((0,qp.$_)(this.element.slug),this.element.name);this.updateElementValue("slug",e)}updateUiOrder(e){const t=Number(e);Number.isNaN(t)?this.updateElementValue("order",0):this.updateElementValue("order",t)}updateUiIcon(e="SquareIcon"){this.updateElementValue("uiIcon",e)}updateUseLocalIcon(e){this.useLocalIcon=e,e||this.updateUiIcon("")}updateClassName(e){!0===this.htmlClassNameRule(e)&&this.updateElementValue("className",e||!1)}htmlClassNameRule(e){return!e||Gu.hB.validateHtmlClassName(e)}isValidItemName(e){return(0,qp.nQ)(e)}updateElementName(e){if(!0!==(0,qp.nQ)(e))return;const t=(0,ur.Z)(this.element);t.name=e,this.emit(t)}updateElementValue(e,t){const n=(0,ur.Z)(this.element),s=(0,jh.lX)(t);lr()(n,e,s),this.emit(n)}emit(e){this.$emit("input",e)}updateTab(e){(0,op.r)(`element-studio-tab-${this.type}`,e),this.tab=e}mergeElementControlsWithExternalControls(e){const t=(0,ur.Z)(e);return(0,Ov.f)(this.element.controls).forEach((e=>{this.element.controls[e].forEach((n=>{n.options.isExternal&&t[e].push(n)}))})),t}get showAdvancedFeatures(){return(0,rp.y)()||X.PK.isElementStudioPowerUser}get requiredPluginItems(){return dh.ws.types.map((e=>e.value))}get tags(){return Gv}get pathsToAllControls(){return this.elementStudioContext.getPathsToAllControls()}get nestingRuleTypeIsContainer(){return(0,Re.ZC)(this.cleanElement.nestingRule.type).length>0||"container-restricted"===this.cleanElement.nestingRule.type}get cleanElement(){return Jv(this.element)}get elementCategories(){return X.PK.builderElementCategories.map((e=>({text:e.label,value:e.slug})))}get badgeColors(){return Object.entries(yy.Z).map((([e])=>{const t=e.replace(/brand_/g,"brand").replace(/_dark|_light|breakdance_/g,"");return{text:t,value:`var(--${t})`}}))}get elementType(){return dh.iQ.types.map((e=>e.value))}get containerRestrictedElements(){return Object.values(X.PK.elements).filter((e=>"container-restricted"===e?.nestingRule.type&&e?.slug!==Ue.Cc)).map((e=>e?.slug))}get elementsThisElementIsAllowedToBeInsideOf(){return Object.values(X.PK.elements).filter((e=>e&&(0,Re.V4)(this.element.nestingRule,e.nestingRule,e.slug))).map((e=>e?.slug))}get allElementSlugs(){return Object.values(X.PK.elements).map((e=>e?.slug))}get elementClass(){return`.${(0,qe.MO)(this.element)}`}get elementClassToCopy(){return"oxygen"===X.PK.builderMode?this.elementClass:`.breakdance ${this.elementClass}`}parentControls(e){return(0,ur.Z)(G()(this.element.controls,e))}update(e){this.$emit("update",e)}toggleActionAccordion(e){this.actionsAccordionState=e}get htmlTags(){return["section","div","span","p","h1","h2","h3","h4","h5","h6","footer","header","nav","aside","figure","figcaption","ul","ol","li","a","article","main","details","summary","img","video"].filter((e=>e!==this.cleanElement.htmlTag.default))}get defaultTag(){return[...this.htmlTags,this.cleanElement.htmlTag.default]}};(0,r.gn)([(0,l.fI)()],Sy.prototype,"element",void 0),(0,r.gn)([(0,l.fI)({default:"primary"})],Sy.prototype,"type",void 0),(0,r.gn)([(0,l.fI)()],Sy.prototype,"available",void 0),(0,r.gn)([(0,l.RL)("element.name")],Sy.prototype,"onElementSlugChange",null),(0,r.gn)([(0,l.DF)("context")],Sy.prototype,"elementStudioContext",void 0),Sy=(0,r.gn)([(0,l.wA)({components:{Dropdown:yo.Z,ElementStudioSaveNewDialog:Jp,TextInput:Qs.Z,ElementStudioIconsAutocomplete:$g,ElementStudioManagePropertyPaths:fy,ElementStudioPropertyPaths:Wf,Accordion:yh.Z,ElementIcon:Of.Z,ToggleInput:zc.Z,Icon:ze.Z,ElementStudioAttributes:yf,ElementStudioAdditionalClasses:wf,ElementStudioDefaultElements:uf.Z,CopyButton:kh.Z,ElementStudioAction:df,ElementStudioDependencies:Qv,ElementStudioControls:Bv,CodeInput:Mv.Z,ElementStudioDefaultProperties:If.Z,ElementStudioProjectManagement:Mf}})],Sy);const Py=Sy,Cy=Py;var wy=(0,L.Z)(Cy,lh,ch,!1,null,null,null);const Iy=wy.exports,ky={className:!1,uiIcon:!1,category:"other",badge:!1,htmlTag:{default:"div",options:[],pathToControl:!1},template:"Blank Element",attributes:!1,cssTemplate:"%%SELECTOR%% { }",defaultCss:" ",defaultProperties:!1,defaultChildren:!1,controls:{contentSections:[],designSections:[],settingsSections:[]},dependencies:!1,actions:!1,nestingRule:{type:"final"},spacingBars:!1,dynamicPropertyPaths:!1,settings:!1,addPanelRules:!1,experimental:!1,availableIn:["breakdance"],order:0,additionalClasses:!1,projectManagement:!1,propertyPathsToWhitelistInFlatProps:!1,propertyPathsToSsrElementWhenValueChanges:!1};let Dy=class extends s.ZP{constructor(){super(...arguments),this.lastSavedElement=!1,this.currentlyEditingElement=!1,this.saveInProgress=!1,this.throttledUpdateElement=W()(qe.Cf,500),this.mode=(0,op.z)("element-studio-mode")||"split-horizontal"}get elementsSlug(){return this.value.elements.map((e=>e.slug))}updateCurrentlyEditingElement(e){this.currentlyEditingElement=(0,ur.Z)(e),!1===this.lastSavedElement&&(this.lastSavedElement=(0,ur.Z)(e))}updateAvailableElementsAndStore(e){const t=e.element.slug;this.lastSavedElement&&t!==this.lastSavedElement.element.slug&&(0,qp.$_)(t)===(0,qp.$_)(this.lastSavedElement.element.slug)&&this.deleteElementFromServer(this.lastSavedElement);const n=!!this.value.elements.find((e=>e.slug===t));if(!n&&e.directoryPath){const n=(0,ur.Z)(this.value);n.elements.push({slug:t,directoryPath:e.directoryPath}),this.$emit("input",n)}this.lastSavedElement=e}get hasUnsavedChanges(){return!(!this.currentlyEditingElement||!this.lastSavedElement)&&!fd()(this.lastSavedElement.element,this.currentlyEditingElement.element)}updateData(e){this.$emit("input",e)}updateElement(e){if(!this.currentlyEditingElement||!this.lastSavedElement||!this.lastSavedElement.element)return;const t=e.slug!==this.lastSavedElement.element.slug;let n=this.currentlyEditingElement.directoryPath;t&&this.currentlyEditingElement.directoryPath&&(n=(0,pv.Lg)({directoryPath:(0,pv.HT)(this.currentlyEditingElement.directoryPath),elementName:this.currentlyEditingElement.element.name})),this.currentlyEditingElement={directoryPath:n,element:e,onlyForAdvancedUsers:this.currentlyEditingElement.onlyForAdvancedUsers},this.throttledUpdateElement(e)}deleteElementFromStore(e){const t=this.value.elements.findIndex((t=>t.slug===e));c.PK.deleteElement(e),-1!==t&&this.value.elements.splice(t,1)}deleteElement(){this.currentlyEditingElement&&this.deleteElementFromServer(this.currentlyEditingElement,(()=>{this.currentlyEditingElement=!1}))}async deleteElementFromServer(e,t=(()=>{})){e.element&&(0,Uo.pipe)(await(0,Go.D)({action:"breakdance_delete_element",dataToPost:{directoryPath:e.directoryPath},decoder:Kr.i0("success"),resultKey:"data"}),(0,Ko.fold)((()=>{Yo.Z.log.message("Failed to delete element")}),(()=>{e.element?(this.deleteElementFromStore(e.element.slug),t()):Yo.Z.log.message("Failed to delete element")})))}discardChanges(){this.lastSavedElement&&this.lastSavedElement.element&&this.updateElement(this.lastSavedElement.element),this.resetCurrentlyEditingElement()}resetCurrentlyEditingElement(){this.currentlyEditingElement=!1,this.lastSavedElement=!1,this.$emit("active",null)}switchMode(){switch(this.mode){case"split-vertical":this.mode="split-horizontal",this.$emit("width",750);break;case"split-horizontal":this.$emit("width",600),this.mode="normal";break;case"normal":this.$emit("width",600),this.mode="split-vertical";break}(0,op.r)("element-studio-mode",this.mode)}openElement(e){const t=(0,ur.Z)(c.PK.element(e)),n=this.value.elements.find((t=>t.slug===e));if(!n)return;const s=this.value.saveLocations.find((e=>n.directoryPath.startsWith(e.directoryPath))),a=!!s?.onlyForAdvancedUsers;this.updateCurrentlyEditingElement({element:t,directoryPath:n.directoryPath,onlyForAdvancedUsers:a}),this.$emit("active","element")}saveAs(e){if(!this.currentlyEditingElement)return;const{namespace:t,directoryPath:n,onlyForAdvancedUsers:s}=e,a=(0,ur.Z)(this.currentlyEditingElement.element);this.currentlyEditingElement.directoryPath!==n&&(a.slug=""),this.saveToServer(a,(0,pv.Lg)({directoryPath:n,elementName:this.currentlyEditingElement.element.name}),t,!1,s)}saveNewItem(e){const t=(0,qp.kK)(e.namespace,e.name);if(this.value.elements.find((e=>e.slug===t)))return void(0,qp.O6)(this.value.saveLocations,e,"element");const n={...(0,ur.Z)(ky),slug:t,name:e.name};this.saveToServer(n,(0,pv.Lg)({directoryPath:e.directoryPath,elementName:e.name}),e.namespace,!1,e.onlyForAdvancedUsers),this.$emit("active","element")}saveOverride(e){this.currentlyEditingElement&&this.currentlyEditingElement.directoryPath&&this.saveToServer(this.currentlyEditingElement.element,this.currentlyEditingElement.directoryPath,(0,qp.$_)(this.currentlyEditingElement.element.slug),e,this.currentlyEditingElement.onlyForAdvancedUsers)}async saveToServer(e,t,n,s=!1,a){this.saveInProgress=!0;const i=n||(0,qp.$_)(e.slug),o=Jv(e),r=e.slug||(0,qp.kK)(i,e.name);(0,Uo.pipe)(await(0,Go.D)({action:"breakdance_save_element",dataToPost:{...(0,pv.x)(o,i),directoryPath:t,bypassPsalm:s?"yes":"no"},decoder:Kr._4}),(0,Ko.fold)((e=>{console.error(e),Yo.Z.log.message("Failed to save element, check console")}),(()=>{const n={element:{...(0,ur.Z)(e),slug:r,name:e.name.split(" ").map((e=>e.charAt(0).toUpperCase()+e.substring(1))).join(" ")},directoryPath:t,onlyForAdvancedUsers:a};this.updateCurrentlyEditingElement(n),this.updateAvailableElementsAndStore(n),(0,qe.Cf)(n.element)}))),this.saveInProgress=!1}};(0,r.gn)([(0,l.fI)()],Dy.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Dy.prototype,"width",void 0),Dy=(0,r.gn)([(0,l.wA)({components:{ElementStudioTabsAndPanels:Iy,ElementStudioWidthAdjustmentBar:Vp,ElementStudioTopbar:ah}})],Dy);const Ey=Dy,Ty=Ey;var Zy=(0,L.Z)(Ty,Wp,Hp,!1,null,null,null);const Ay=Zy.exports,By=Kr.dt({slug:Kr.Z_,directoryPath:Kr.Z_}),My=Kr.G0([Kr.i0("element"),Kr.i0("macro"),Kr.i0("preset")]),Oy=Kr.dt({directoryPath:Kr.Z_,namespace:Kr.Z_,type:My,label:Kr.Z_,onlyForAdvancedUsers:Kr.O7}),Ly=Kr.dt({slug:Kr.Z_,section:mh.ur}),Ry=Kr.dt({elements:Kr.IX(By),macros:Kr.IX(By),presets:Kr.IX(By),saveLocations:Kr.IX(Oy),presetSections:Kr.IX(Ly)});var Ny=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"element-studio-wrapper":e.currentlyEditingMacro,"element-studio__hide-the-close-button":!e.currentlyEditingMacro,"element-studio__hide-the-switch-mode-button":!0}},[t("ElementStudioTopbar",{attrs:{"save-locations":e.value.saveLocations,"items-slug":e.macrosSlug,value:e.currentlyEditingMacro,itemType:"macro","item-name":e.currentMacroName,hasUnsavedChanges:e.hasUnsavedChanges,saveInProgress:e.saveInProgress},on:{open:e.openMacro,delete:e.deleteMacro,saveOverride:e.saveOverride,saveAs:e.saveAs,saveNew:e.saveNewItem,discardChanges:e.discardChanges,reset:e.resetCurrentlyEditingMacro}}),e.currentlyEditingMacro?t("div",{staticClass:"element-studio-content"},[t("div",{staticClass:"panel-100 vscroll-scroll"},[t("div",{staticClass:"element-studio-tabs-panel d-flex flex-column"},[t("div",{staticClass:"element-studio-tabs"},[t(dd.Z,{attrs:{value:e.activeTab},on:{change:e.updateTab}},[t(cd.Z,{attrs:{href:"#macro",title:"Macro"}},[t("Icon",{attrs:{icon:"PenIcon",size:"16"}})],1),t(cd.Z,{attrs:{href:"#settings",title:"Settings"}},[t("Icon",{attrs:{icon:"GearIcon",size:"16"}})],1)],1)],1)]),t("div",{staticClass:"element-studio-tabs-items vscroll-scroll"},[t("CodeInput",{directives:[{name:"show",rawName:"v-show",value:"macro"===e.activeTab,expression:"activeTab === 'macro'"}],attrs:{value:e.currentlyEditingMacro.macroData.macro,language:"twig"},on:{input:e.updateMacroValue}}),"settings"===e.activeTab?t("div",{staticClass:"pa-4"},[t(Fo.Z,{attrs:{value:e.currentMacroName,label:"Name",rules:[e.isValidItemName]},on:{input:e.updateMacroName}}),t("ToggleInput",{attrs:{value:e.autoRefresh},on:{input:e.updateAutoRefresh}}),t("label",{staticClass:"ml-2"},[e._v("Live preview changes")])],1):e._e()],1)])]):e._e()],1)},Fy=[];let $y=class extends s.ZP{constructor(){super(...arguments),this.lastSavedMacro=!1,this.currentlyEditingMacro=!1,this.saveInProgress=!1,this.autoRefresh=!0,this.activeTab="macro",this.throttledUpdateElement=Ho()(this.updateMacroAndRecompileTwigTemplates,1e3)}get macrosSlug(){return this.value.macros.map((e=>e.slug))}isValidItemName(e){return(0,qp.nQ)(e)}updateCurrentlyEditingMacro(e){this.currentlyEditingMacro=(0,ur.Z)(e),!1===this.lastSavedMacro&&(this.lastSavedMacro=(0,ur.Z)(e))}updateTab(e){this.activeTab=e}updateMacroName(e){this.currentlyEditingMacro&&(this.currentlyEditingMacro.macroData.slug=vv((0,qp.$_)(this.currentlyEditingMacro.macroData.slug),e))}updateAutoRefresh(e){this.autoRefresh=e,e&&this.currentlyEditingMacro&&this.updateMacroAndRecompileTwigTemplates(this.currentlyEditingMacro.macroData)}updateMacroAndRecompileTwigTemplates(e){const t=(0,ur.Z)(c.PK.twigMacros),n=t.findIndex((t=>t.slug===e.slug));if(-1===n){t.push(e);const n=(0,ur.Z)(this.value);n.macros.push(e),this.$emit("input",n)}else t[n].macro=e.macro;this.lastSavedMacro&&this.lastSavedMacro.directoryPath&&e.slug!==this.lastSavedMacro.macroData.slug&&e.directoryPath===this.lastSavedMacro.directoryPath&&this.deleteMacroFromServer(this.lastSavedMacro),this.autoRefresh&&_y(t)}deleteMacroAndRecompileTwigTemplates(e){const t=(0,ur.Z)(c.PK.twigMacros),n=t.findIndex((t=>t.slug===e)),s=this.value.macros.findIndex((t=>t.slug===e));if(-1!==n&&t.splice(n,1),-1!==s){const e=(0,ur.Z)(this.value);e.macros.splice(s,1),this.$emit("input",e)}_y(t)}get currentMacroName(){return this.currentlyEditingMacro?(0,qp.iC)(this.currentlyEditingMacro.macroData.slug):""}get hasUnsavedChanges(){return!(!this.currentlyEditingMacro||!this.lastSavedMacro)&&!fd()(this.lastSavedMacro.macroData,this.currentlyEditingMacro.macroData)}updateMacroValue(e){this.currentlyEditingMacro&&(this.currentlyEditingMacro.macroData.macro=e,this.throttledUpdateElement(this.currentlyEditingMacro.macroData))}deleteMacro(){this.currentlyEditingMacro&&this.deleteMacroFromServer(this.currentlyEditingMacro,(()=>{this.currentlyEditingMacro=!1}))}async deleteMacroFromServer(e,t=(()=>{})){(0,Uo.pipe)(await(0,Go.D)({action:"breakdance_delete_macro",dataToPost:{directoryPath:e.directoryPath,filename:(0,qp.iC)(e.macroData.slug)},decoder:Kr.i0("success"),resultKey:"data"}),(0,Ko.fold)((()=>{Yo.Z.log.message("Failed to delete element")}),(()=>{t(),this.deleteMacroAndRecompileTwigTemplates(e.macroData.slug)})))}discardChanges(){this.lastSavedMacro&&this.lastSavedMacro.macroData&&this.updateMacroAndRecompileTwigTemplates(this.lastSavedMacro.macroData),this.resetCurrentlyEditingMacro()}resetCurrentlyEditingMacro(){this.currentlyEditingMacro=!1,this.lastSavedMacro=!1,this.$emit("active",null)}openMacro(e){const t=(0,ur.Z)(this.value.macros.find((t=>t.slug===e)));if(!t)return;const n=c.PK.twigMacros.find((t=>t.slug===e))?.macro;if(!n)return;const s=this.value.saveLocations.find((e=>t.directoryPath.startsWith(e.directoryPath))),a=!!s?.onlyForAdvancedUsers;this.updateCurrentlyEditingMacro({macroData:{...t,macro:n},directoryPath:t.directoryPath,onlyForAdvancedUsers:a}),this.$emit("active","macro")}saveAs(e){if(!this.currentlyEditingMacro)return;const t=(0,qp.iC)(this.currentlyEditingMacro.macroData.slug);this.saveToServer(this.currentlyEditingMacro.macroData.macro,e.directoryPath,t,vv(e.namespace,t),e.onlyForAdvancedUsers)}saveNewItem(e){const t=(0,pv.dZ)(e.namespace,e.name),n=gv()(e.name),s=vv(e.namespace,e.name);this.value.macros.find((e=>e.slug===s))?(0,qp.O6)(this.value.saveLocations,e,"macro"):(this.saveToServer(`{% macro ${t}() %}\n  {# Your code here #} \n{% endmacro %}`,e.directoryPath,n,s,e.onlyForAdvancedUsers),this.$emit("active","macro"))}saveOverride(){this.currentlyEditingMacro&&this.currentlyEditingMacro.directoryPath&&this.saveToServer(this.currentlyEditingMacro.macroData.macro,this.currentlyEditingMacro.directoryPath,(0,qp.iC)(this.currentlyEditingMacro.macroData.slug),this.currentlyEditingMacro.macroData.slug,this.currentlyEditingMacro.onlyForAdvancedUsers)}async saveToServer(e,t,n,s,a){this.saveInProgress=!0,(0,Uo.pipe)(await(0,Go.D)({action:"breakdance_save_macro",dataToPost:{directoryPath:t,filename:n,macro:e},decoder:Kr._4}),(0,Ko.fold)((e=>{console.error(e),Yo.Z.log.message("Failed to save element, check console")}),(()=>{const n={macroData:{macro:e,slug:s,directoryPath:t},directoryPath:t,onlyForAdvancedUsers:a};this.updateCurrentlyEditingMacro(n),this.updateMacroAndRecompileTwigTemplates(n.macroData),this.lastSavedMacro=n}))),this.saveInProgress=!1}};(0,r.gn)([(0,l.fI)()],$y.prototype,"value",void 0),$y=(0,r.gn)([(0,l.wA)({components:{ToggleInput:zc.Z,TextInput:Qs.Z,Icon:ze.Z,CodeInput:Mv.Z,ElementStudioTabsAndPanels:Iy,ElementStudioWidthAdjustmentBar:Vp,ElementStudioTopbar:ah}})],$y);const Vy=$y,Wy=Vy;var Hy=(0,L.Z)(Wy,Ny,Fy,!1,null,null,null);const zy=Hy.exports;var Uy=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"element-studio-wrapper":e.currentlyEditingPreset,"element-studio__hide-the-close-button":!e.currentlyEditingPreset,"element-studio__hide-the-switch-mode-button":!0}},[t("ElementStudioTopbar",{attrs:{"save-locations":e.value.saveLocations,"items-slug":e.presetsSlug,value:e.currentlyEditingPreset,itemType:"preset","item-name":e.currentPresetName,hasUnsavedChanges:e.hasUnsavedChanges,saveInProgress:e.saveInProgress},on:{open:e.openPreset,delete:e.deletePreset,saveOverride:e.saveOverride,saveAs:e.saveAs,saveNew:e.saveNewItem,discardChanges:e.discardChanges,reset:e.resetCurrentlyEditingPreset}}),e.currentlyEditingPreset?t("div",{staticClass:"element-studio-content"},[t("div",{staticClass:"panel-100 vscroll-scroll"},[t("div",{staticClass:"element-studio-tabs-panel d-flex flex-column"},[t("div",{staticClass:"element-studio-tabs"},[t(dd.Z,{attrs:{value:e.activeTab},on:{change:e.updateTab}},[t(cd.Z,{attrs:{href:"#preset",title:"Preset"}},[t("Icon",{attrs:{icon:"PenIcon",size:"16"}})],1),t(cd.Z,{attrs:{href:"#code-help",title:"Code Help"}},[t("Icon",{attrs:{icon:"CodeIcon",size:"16"}})],1),t(cd.Z,{attrs:{href:"#prop-paths",title:"Property Paths"}},[t("Icon",{attrs:{icon:"SlidersSimpleIcon",size:"16"}})],1),t(cd.Z,{attrs:{href:"#settings",title:"Settings"}},[t("Icon",{attrs:{icon:"GearIcon",size:"16"}})],1)],1)],1)]),t("div",{staticClass:"element-studio-tabs-items vscroll-scroll"},[t("ControlSectionOrControl",{directives:[{name:"show",rawName:"v-show",value:"preset"===e.activeTab,expression:"activeTab === 'preset'"}],attrs:{value:e.currentPresetWithoutPresetSlug?e.currentPresetWithoutPresetSlug.presetData.preset.section:[],index:0,path:"control",parentPath:"presetSection",twigParentPath:""}}),t("div",{directives:[{name:"show",rawName:"v-show",value:"code-help"===e.activeTab,expression:"activeTab === 'code-help'"}]},[e._m(0),t("CodeInput",{attrs:{language:"twig",value:e.codeHelpValue,placeholder:e.codeHelpPlaceholder},on:{input:e.updateCodeHelp}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"prop-paths"===e.activeTab,expression:"activeTab === 'prop-paths'"}]},[t("Accordion",{attrs:{expanded:"relativePropertyPathsToWhitelistInFlatProps"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("relativePropertyPathsToWhitelistInFlatProps")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"pa-4"},[e._v(" Relative Property Paths To Whitetlist In Flatprops ")])]},proxy:!0},{key:"content",fn:function(){return[t("ElementStudioPropertyPaths",{attrs:{value:e.presetRelativePropertyPathsToWhitelistInFlatProps,"all-paths":e.allPaths},on:{input:function(t){return e.updateElementValuePropPath(t,"relativePropertyPathsToWhitelistInFlatProps")}}})]},proxy:!0}],null,!1,3695337097)})],1),"settings"===e.activeTab?t("div",{staticClass:"pa-4"},[t(Fo.Z,{attrs:{value:e.currentPresetName,label:"Name",rules:[e.isValidItemName]},on:{input:e.updatePresetSlug}}),t("ToggleInput",{attrs:{value:e.autoRefresh},on:{input:e.updateAutoRefresh}}),t("label",{staticClass:"ml-2"},[e._v("Live preview changes")])],1):e._e()],1)])]):e._e()],1)},Ky=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"element-studio__presets-code-help"},[t("div",[t("b",[e._v("Code Help")])]),t("pre",[e._v("%%TWIG_PATH%%")]),e._v(" will be replaced with the correct path in the element. ")])}];let Gy=class extends s.ZP{constructor(){super(...arguments),this.lastSavedPreset=!1,this.currentlyEditingPreset=!1,this.saveInProgress=!1,this.activeTab="preset",this.accordionState="",this.autoRefresh=!0,this.elementStudioContext=this.reactiveContext()}toggleAccordion(e){this.accordionState=this.accordionState===e?"":e}reactiveContext(){return{replaceControls:(e,t)=>{if(!this.currentlyEditingPreset)return;const n=(0,ur.Z)(this.currentlyEditingPreset),s=this.getCorrectPathForPresetFromContextPath(e);lr()(n.presetData.preset,s,t),this.updateCurrentlyEditingPreset(n)},pasteControl:(e,t)=>{if(!this.currentlyEditingPreset)return;const n=(0,ur.Z)(this.currentlyEditingPreset),s=this.getCorrectPathForPresetFromContextPath(e),a=G()(n.presetData.preset,s);a.push(t),lr()(n.presetData.preset,s,a),this.updateCurrentlyEditingPreset(n)},addControl:e=>{if(!this.currentlyEditingPreset)return;const t=(0,ur.Z)(this.currentlyEditingPreset),n=this.getCorrectPathForPresetFromContextPath(e),s=this.getParentControlOrControls(n);s&&(Array.isArray(s)?s.push((0,jh._n)()):s.children.push((0,jh._n)()),lr()(t.presetData.preset,n,s),this.updateCurrentlyEditingPreset(t))},addPreset:e=>{if(!this.currentlyEditingPreset)return;const t=(0,ur.Z)(this.elementStudioContext.getPresetSection("EssentialElements\\typography"));if(!t)return;t.section.options.sectionOptions={...t.section.options.sectionOptions,type:"popout"};const n=(0,ur.Z)(this.currentlyEditingPreset),s=this.getCorrectPathForPresetFromContextPath(e),a=this.getParentControlOrControls(s);a&&(Array.isArray(a)?a.push(t.section):a.children.push(t.section),lr()(n.presetData.preset,s,a),this.updateCurrentlyEditingPreset(n))},deleteControl:(e,t)=>{if(!this.currentlyEditingPreset)return;const n=(0,ur.Z)(this.currentlyEditingPreset),s=this.getCorrectPathForPresetFromContextPath(e),a=this.getParentControlOrControls(s);a&&(Array.isArray(a)?a.splice(t,1):a.children.splice(t,1),lr()(n.presetData.preset,s,a),this.updateCurrentlyEditingPreset(n))},updateControl:(e,t,n)=>{if(!this.currentlyEditingPreset)return;const s=(0,ur.Z)(this.currentlyEditingPreset);if("presetSection"===e)s.presetData.preset.section=n;else{const a=this.getCorrectPathForPresetFromContextPath(e),i=this.getParentControlOrControls(a);if(!i)return;Array.isArray(i)?i.splice(t,1,n):i.children.splice(t,1,n),lr()(s.presetData.preset,a,i)}this.updateCurrentlyEditingPreset(s)},getPresetSection:e=>this.value.presetSections.find((t=>t.slug===e)),getPresetSections:()=>this.value.presetSections,getPathsToAllControls:(e=[],t=["section"])=>{if(this.currentlyEditingPreset)return(0,qp.eH)(this.currentlyEditingPreset.presetData.preset.section.children,e,t,"")},element:qe.BQ,updateDependency:()=>{},updateActions:()=>{},updateElementValue:()=>{},getElementStudioData:()=>this.value,updateElementStudioData:e=>{this.$emit("input",e)}}}updateAutoRefresh(e){this.autoRefresh=e,e&&this.currentlyEditingPreset&&this.updateCurrentlyEditingPreset(this.currentlyEditingPreset)}getCorrectPathForPresetFromContextPath(e){return e.replace("control","section")}getParentControlOrControls(e){if(this.currentlyEditingPreset)return(0,ur.Z)(G()(this.currentlyEditingPreset.presetData.preset,e))}get codeHelpValue(){return this.currentlyEditingPreset&&this.currentlyEditingPreset.presetData.preset.section.options.sectionOptions?.preset?.codeHelp||""}get codeHelpPlaceholder(){if(!this.currentlyEditingPreset)return"";const e=(0,pv.dZ)((0,qp.$_)(this.currentlyEditingPreset.presetData.slug),this.currentPresetName);return`{{ macros.${e}(%%TWIG_PATH%%) }}`}updateCodeHelp(e){if(!this.currentlyEditingPreset)return;const t=(0,ur.Z)(this.currentlyEditingPreset);lr()(t,"presetData.preset.section.options.sectionOptions.preset.codeHelp",e),this.updateCurrentlyEditingPreset(t)}get presetsSlug(){return this.value.presets.map((e=>e.slug))}get allPaths(){return this.reactiveContext().getPathsToAllControls([],[])}get presetRelativePropertyPathsToWhitelistInFlatProps(){return this.currentlyEditingPreset?this.currentlyEditingPreset.presetData.preset.section.options.sectionOptions?.preset?.relativePropertyPathsToWhitelistInFlatProps:[]}updateElementValuePropPath(e,t){if(!this.currentlyEditingPreset)return;const n=(0,ur.Z)(this.currentlyEditingPreset);lr()(n,`presetData.preset.section.options.sectionOptions.preset[${t}]`,e),this.currentlyEditingPreset=n}isValidItemName(e){return(0,qp.nQ)(e)}updateCurrentlyEditingPreset(e){if(e.presetData.preset=this.getPresetWithRestoredSectionSlug(e.presetData.preset),this.currentlyEditingPreset=(0,ur.Z)(e),!1===this.lastSavedPreset&&(this.lastSavedPreset=(0,ur.Z)(e)),!this.autoRefresh)return;const t=Object.values(X.PK.elements).map((e=>e?(e.controls.designSections=e.controls.designSections.map(this.updateSectionWithCurrentPresetSection),e.controls.contentSections=e.controls.contentSections.map(this.updateSectionWithCurrentPresetSection),e.controls.settingsSections=e.controls.settingsSections.map(this.updateSectionWithCurrentPresetSection),e):e)).filter((e=>void 0!==e));X.PK.addElements(t)}get currentPresetWithoutPresetSlug(){if(!this.currentlyEditingPreset)return!1;const e=(0,ur.Z)(this.currentlyEditingPreset);return e.presetData.preset.section.options.sectionOptions?.preset?.slug&&(e.presetData.preset.section.options.sectionOptions.preset.slug=void 0),e}updateSectionWithCurrentPresetSection(e){if(e.options.sectionOptions?.preset?.slug&&this.currentlyEditingPreset&&e.options.sectionOptions.preset.slug===this.currentlyEditingPreset.presetData.slug)return(0,ur.Z)(this.currentlyEditingPreset.presetData.preset.section);if(e.children.length){const t=(0,ur.Z)(e);return t.children=t.children.map(this.updateSectionWithCurrentPresetSection),t}return e}filterOutCurrentSection(e,t){if(!e.options.sectionOptions?.preset?.slug||e.options.sectionOptions.preset.slug!==t){if(e.children.length){const n=(0,ur.Z)(e);return n.children=n.children.map((e=>this.filterOutCurrentSection(e,t))).filter((e=>!!e)),n}return e}}getPresetWithRestoredSectionSlug(e){return this.currentlyEditingPreset?(lr()(e,"section.options.sectionOptions.preset.slug",this.currentlyEditingPreset.presetData.slug),e):e}updateTab(e){this.activeTab=e}updatePresetSlug(e){if(!this.currentlyEditingPreset)return;const t=(0,ur.Z)(this.currentlyEditingPreset);t.presetData.slug=vv((0,qp.$_)(this.currentlyEditingPreset.presetData.slug),e),this.updateCurrentlyEditingPreset(t)}updatePreset(e){const t=(0,ur.Z)(e),n=this.value.presets.findIndex((e=>e.slug===t.slug)),s=this.value.presetSections.findIndex((e=>e.slug===t.preset.slug)),a=(0,ur.Z)(this.value);-1===n&&-1===s?(a.presets.push(t),a.presetSections.push(t.preset)):(a.presets[n]=t,a.presetSections[s].section=t.preset.section),this.$emit("input",a),this.lastSavedPreset&&this.lastSavedPreset.directoryPath&&t.slug!==this.lastSavedPreset.presetData.slug&&t.directoryPath===this.lastSavedPreset.directoryPath&&this.deletePresetFromServer(this.lastSavedPreset)}deletePresetAndRecompileTwigTemplates(e){const t=(0,qp.iC)(e),n=(0,ur.Z)(this.value.presetSections),s=n.findIndex((e=>e.slug===t)),a=this.value.presets.findIndex((t=>t.slug===e));if(-1!==s&&n.splice(s,1),-1!==a){const e=(0,ur.Z)(this.value);e.presets.splice(a,1),this.$emit("input",e)}if(!this.autoRefresh)return;const i=Object.values(X.PK.elements).map((t=>t?(t.controls.designSections=t.controls.designSections.map((t=>this.filterOutCurrentSection(t,e))).filter((e=>!!e)),t.controls.contentSections=t.controls.contentSections.map((t=>this.filterOutCurrentSection(t,e))).filter((e=>!!e)),t.controls.settingsSections=t.controls.settingsSections.map((t=>this.filterOutCurrentSection(t,e))).filter((e=>!!e)),t):t)).filter((e=>void 0!==e));X.PK.addElements(i)}get currentPresetName(){return this.currentlyEditingPreset?(0,qp.iC)(this.currentlyEditingPreset.presetData.slug):""}get hasUnsavedChanges(){return!(!this.currentlyEditingPreset||!this.lastSavedPreset)&&!fd()(this.lastSavedPreset.presetData,this.currentlyEditingPreset.presetData)}deletePreset(){this.currentlyEditingPreset&&this.deletePresetFromServer(this.currentlyEditingPreset,(()=>{this.currentlyEditingPreset=!1}))}async deletePresetFromServer(e,t=(()=>{})){(0,Uo.pipe)(await(0,Go.D)({action:"breakdance_delete_preset",dataToPost:{directoryPath:e.directoryPath,filename:(0,qp.iC)(e.presetData.slug)},decoder:Kr.i0("success"),resultKey:"data"}),(0,Ko.fold)((()=>{Yo.Z.log.message("Failed to delete element")}),(()=>{t(),this.deletePresetAndRecompileTwigTemplates(e.presetData.slug)})))}discardChanges(){this.lastSavedPreset&&this.lastSavedPreset.presetData&&(this.updateCurrentlyEditingPreset(this.lastSavedPreset),this.updatePreset(this.lastSavedPreset.presetData)),this.resetCurrentlyEditingPreset()}resetCurrentlyEditingPreset(){this.currentlyEditingPreset=!1,this.lastSavedPreset=!1,this.$emit("active",null)}openPreset(e){const t=(0,ur.Z)(this.value.presets.find((t=>t.slug===e)));if(!t)return;const n=this.value.presetSections.find((t=>t.slug===e));if(!n)return void Yo.Z.log.message(`${e} couldn't be found`);const s=this.value.saveLocations.find((e=>t.directoryPath.startsWith(e.directoryPath))),a=!!s?.onlyForAdvancedUsers;this.updateCurrentlyEditingPreset({presetData:{...t,preset:n},directoryPath:t.directoryPath,onlyForAdvancedUsers:a}),this.$emit("active","preset")}saveAs(e){this.currentlyEditingPreset&&this.saveToServer(this.currentlyEditingPreset.presetData.preset,e.directoryPath,this.currentPresetName,vv(e.namespace,this.currentPresetName),e.onlyForAdvancedUsers)}saveNewItem(e){const t=gv()(e.name),n=vv(e.namespace,e.name);this.value.presets.find((e=>e.slug===n))?(0,qp.O6)(this.value.saveLocations,e,"preset"):(this.saveToServer({slug:n,section:(0,jh.tr)()},e.directoryPath,t,n,e.onlyForAdvancedUsers),this.$emit("active","preset"))}saveOverride(){this.currentlyEditingPreset&&this.currentlyEditingPreset.directoryPath&&this.saveToServer(this.currentlyEditingPreset.presetData.preset,this.currentlyEditingPreset.directoryPath,this.currentPresetName,this.currentlyEditingPreset.presetData.slug,this.currentlyEditingPreset.onlyForAdvancedUsers)}async saveToServer(e,t,n,s,a){this.saveInProgress=!0,(0,Uo.pipe)(await mv(e,t,n,s),(0,Ko.fold)((e=>{console.error(e),Yo.Z.log.message("Failed to save element, check console")}),(()=>{const n={presetData:{preset:(0,ur.Z)(e),slug:s,directoryPath:t},directoryPath:t,onlyForAdvancedUsers:a};this.updateCurrentlyEditingPreset(n),this.updatePreset(n.presetData),this.lastSavedPreset=n}))),this.saveInProgress=!1}};(0,r.gn)([(0,l.fI)()],Gy.prototype,"value",void 0),(0,r.gn)([(0,l.DF)("context")],Gy.prototype,"elementStudioContext",void 0),Gy=(0,r.gn)([(0,l.wA)({components:{ToggleInput:zc.Z,ElementStudioDynPropPaths:Xf,ElementStudioPropertyPaths:Wf,Accordion:yh.Z,ControlSectionOrControl:Dv,TextInput:Qs.Z,Icon:ze.Z,CodeInput:Mv.Z,ElementStudioTabsAndPanels:Iy,ElementStudioWidthAdjustmentBar:Vp,ElementStudioTopbar:ah}})],Gy);const qy=Gy,jy=qy;var Yy=(0,L.Z)(jy,Uy,Ky,!1,null,null,null);const Xy=Yy.exports;let Qy=class extends s.ZP{constructor(){super(...arguments),this.data={elements:[],macros:[],presets:[],saveLocations:[],presetSections:[]},this.width=600,this.activeItemType=null}async mounted(){(0,Ur.zG)(await(0,Go.D)({action:"breakdance_load_element_studio",decoder:Ry}),(0,Gr.g_)((e=>e.forEach((e=>Yo.Z.log.message(e.msg)))),(e=>{this.data=e})))}updateData(e){this.data=(0,ur.Z)(e)}updateActiveItemType(e){this.activeItemType=e}updateWidth(e){this.width=e}adjustWidth(e){this.width+=e}get styles(){return{width:`${this.width}px`}}};Qy=(0,r.gn)([(0,l.wA)({components:{ElementStudioPresets:Xy,ElementStudioMacros:zy,ElementStudioElements:Ay,ElementStudioWidthAdjustmentBar:Vp}})],Qy);const Jy=Qy,eb=Jy;var tb=(0,L.Z)(eb,Ip,kp,!1,null,null,null);const nb=tb.exports;var sb=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("AppLayoutBodyPanelArea",{attrs:{"panel-state":e.panelState,position:e.position}},[t("Add",{directives:[{name:"show",rawName:"v-show",value:"add"===e.panelState,expression:"panelState === 'add'"}]}),"selectors"===e.panelState?t("SelectorsPanel"):"oxySelectors"===e.panelState?t("OxySelectorsPanel"):"presets"===e.panelState?t("PresetsPanel"):"structure"===e.panelState?t("StructurePanel"):e._e(),"elementproperties"===e.panelState?["breakdance"==e.builderMode?t("ElementPropertiesPanel",{key:e.activeElementId}):"oxygen"==e.builderMode?t("OxygenElementPropertiesPanel",{key:e.activeElementId}):e._e()]:"ai"===e.panelState?t("AIPanel"):"history"===e.panelState?t("HistoryAndRevisionsPanel"):"globalSettings"===e.panelState?t("GlobalSettingsPanel"):"variables"===e.panelState?t("VariablesPanel"):e._e()],2)},ab=[],ib=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-element-properties-panel vscroll-wrap vscroll-scroll",attrs:{"data-test-id":"element-properties-panel"}},[e.elementIsActive?[t("Titlebar"),t("TabsAndControls")]:[t("BlankSidebarContent")]],2)},ob=[],rb=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"properties-panel-titlebar",class:`properties-panel-titlebar--${e.size}`},[t("div",{staticClass:"properties-panel-titlebar-title truncate"},[e._v(" "+e._s(e.elementTitle)+" ")]),"breakdance"===e.builderMode?e._l(e.elementBadges,(function(e,n){return t("ElementBadge",{key:n,staticClass:"ml-1",attrs:{value:e}})})):e._e(),t(eo.Z),"breakdance"===e.builderMode?[t("IconButton",{staticClass:"properties-panel-duplicate-button",attrs:{icon:"DuplicateIcon",size:"small"===e.size?"14":"16",small:!0},on:{click:e.duplicateElement}}),t("IconButton",{staticClass:"properties-panel-delete-button",attrs:{icon:"TrashIcon",size:"small"===e.size?"14":"16",small:!0},on:{click:e.remove}})]:e._e(),"oxygen"!==e.builderMode||e.isComponent?e._e():[t("OxygenTagChooser")]],2)},lb=[],cb=n(27517),db=n(13960),ub=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-tag-chooser",class:{"oxy-tag-chooser--disabled":1===e.tags?.length}},[t(rh.Z,{ref:"input",attrs:{value:e.value,items:e.tags,dense:"",flat:"",solo:"","hide-details":"","no-data-text":"","search-input":e.searchQuery,disabled:1===e.tags.length,"menu-props":{maxHeight:350,minWidth:145,closeOnContentClick:!0}},on:{input:e.setValue,"update:searchInput":function(t){e.searchQuery=t},"update:search-input":function(t){e.searchQuery=t}},scopedSlots:e._u([{key:"append",fn:function(){return[t("span",{staticClass:"oxy-tag-chooser__bracket-1"},[e._v("<")]),t("span",{staticClass:"oxy-tag-chooser__bracket-2"},[e._v(">")]),e.tags?.length>1?t("Icon",{staticClass:"oxy-tag-chooser__tag-icon",attrs:{icon:"ChevronDownIcon",size:10}}):e._e()]},proxy:!0},{key:"append-item",fn:function(){return[!e.doesQueryMatchAnyTag&&e.isValidHtmlTagName(e.searchQuery)?t(go.Z,{attrs:{dense:""},on:{click:function(t){return e.setValue(e.searchQuery)}}},[t(mo.V9,[e._v(" Custom: "+e._s(e.searchQuery)+" ")])],1):e._e()]},proxy:!0},{key:"no-data",fn:function(){return[t("div")]},proxy:!0}])})],1)},pb=[],hb=n(25770),gb=n(3225);let mb=class extends l.w3{constructor(){super(...arguments),this.open=!1,this.searchQuery=""}onValueChange(){this.$nextTick((()=>{this.$refs.input.isMenuActive=!1,this.$refs.input.blur()}))}get control(){return{type:"select",name:"Tag",slug:"tag",items:this.tags,disableVariable:!0}}get element(){return c.kD.activeElement}get builderElement(){return this.element?c.PK.element(this.element.data.type):null}get htmlTag(){return this.element?this.builderElement?.htmlTag:null}get tags(){if(!this.element)return[];const e=[...this.htmlTag?.options||[]];return this.defaultTag?[this.defaultTag,...e]:e}get defaultTag(){return this.htmlTag?.default}get value(){return G()(c.kD.activeElement,"data.properties.settings.advanced.tag")||this.defaultTag}setValue(e){c.kD.activeElementId&&(this.isValidHtmlTagName(e)?(0,qe.Q$)(c.kD.activeElementId,e):this.handleInvalidTag())}handleInvalidTag(){this.$nextTick((()=>{this.defaultTag&&(this.searchQuery=this.defaultTag)}))}isValidHtmlTagName(e){const t=/^[a-zA-Z][a-zA-Z0-9-]*$/;return t.test(e)}get doesQueryMatchAnyTag(){return this.tags?.some((e=>e===this.searchQuery))}};(0,r.gn)([(0,l.RL)("value")],mb.prototype,"onValueChange",null),mb=(0,r.gn)([(0,l.wA)({components:{Dropdown:yo.Z,Icon:ze.Z,OxygenControl:gb["default"],OxygenSelectInput:hb.Z,DropdownInput:cr.Z}})],mb);const vb=mb,fb=vb;var yb=(0,L.Z)(fb,ub,pb,!1,null,null,null);const bb=yb.exports;let _b=class extends s.ZP{get element(){return c.kD.activeElement}get elementId(){return c.kD.activeElementId}get elementTitle(){return this.element?c.PK.element(this.element.data.type).name:"No Active Element"}get elementBadges(){if(!this.element)return[];const e=c.PK.element(this.element.data.type),t=e.badge?[e.badge]:[];return e.settings&&e.settings.proOnly&&"free"===c.PK.subscriptionMode&&t.push((0,db.ur)()),t}get isComponent(){return!!this.element&&this.element?.data?.type===Ue.Hw}get builderMode(){return c.PK.builderMode}duplicateElement(){this.elementId&&c.Hb.duplicateElementAndActivateIt(this.elementId)}remove(){null!==this.elementId&&c.Hb.deleteElement({nodeId:this.elementId})}};(0,r.gn)([(0,l.fI)()],_b.prototype,"size",void 0),_b=(0,r.gn)([(0,l.wA)({components:{Dropdown:yo.Z,IconButton:oo.Z,ElementBadge:cb.Z,OxygenTagChooser:bb}})],_b);const xb=_b,Sb=xb;var Pb=(0,L.Z)(Sb,rb,lb,!1,null,null,null);const Cb=Pb.exports;var wb=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"pa-7 d-flex align-center justify-center flex-column",staticStyle:{height:"100%"}},[e._m(0),t("StandardButton",{staticClass:"open-elements-toolbar-button",attrs:{size:"22",testId:"open-elements-toolbar-button"},on:{click:e.toggleAdd}},[e._v(" Add ")])],1)},Ib=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"blank-sidebar-text"},[t("p",[e._v(" Add an element to your page or click an existing element to edit it. ")])])}];let kb=class extends s.ZP{toggleAdd(){(0,Pl._y)("add")}};kb=(0,r.gn)([(0,l.wA)({components:{StandardButton:Si}})],kb);const Db=kb,Eb=Db;var Tb=(0,L.Z)(Eb,wb,Ib,!1,null,null,null);const Zb=Tb.exports;var Ab=n(99868),Bb=n(96878),Mb=n(47233),Ob=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[e.hasSearchParameters?e._e():t("DesignContentSettingsTabs",{attrs:{value:e.tab,controls:e.controls},on:{input:e.updateTab}}),t("div",{staticClass:"vscroll-scroll"},["design"===e.tab?t("ElementPresetChooser",{attrs:{element:e.element}}):e._e(),e.searchDisabled&&!e.isPresetsOverridesEnabled?t("p",{staticClass:"preset-selected-message"},[t("Icon",{attrs:{icon:"PaintbrushFineIcon",size:"24"}}),e._v(" A preset is currently selected for this element. ")],1):e.hasSearchParameters&&!e.noSearchResults?t(Ab.Z,[""!==e.searchBoxState.query?t("div",{staticClass:"control-tree-search-term"},[t("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),t("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[t("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams.contentSections,path:"content",linear:!0}}),t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams.designSections,path:"design",linear:!0}}),t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams.settingsSections,path:"settings",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?t(Ab.Z,{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[t("SearchBoxEmptyState",{attrs:{label:"controls"},on:{input:e.clearQuery}})],1):t(Mb.Z,{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[e.hasContentControls?t(Bb.Z,{attrs:{value:"content",transition:!1,"reverse-transition":!1}},[t("ControlsTree",{attrs:{controls:e.contentSections,path:"content",forceFirstSectionOpen:!0}})],1):e._e(),e.hasDesignControls?t(Bb.Z,{attrs:{value:"design",transition:!1,"reverse-transition":!1}},[t("DesignTabContent",{attrs:{controls:e.designSections,path:"design"}})],1):e._e(),e.hasSettingsControls?t(Bb.Z,{attrs:{value:"settings",transition:!1,"reverse-transition":!1}},[t("ControlsTree",{attrs:{controls:e.settingsSections,path:"settings"}})],1):e._e()],1)],1),t("SearchBox",{attrs:{value:e.searchBoxState,location:"element","include-settings-toggle":!0,disabled:e.searchDisabled},on:{input:e.updateSearchBoxState}})],1)},Lb=[],Rb=n(20951),Nb=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"properties-panel-search-box-wrap",class:{"properties-panel-search-box-wrap--disabled":e.disabled}},[t("div",{staticClass:"properties-panel-search-box-inner-wrap"},[t("Icon",{staticClass:"properties-panel-search-icon",attrs:{icon:"SearchIcon",size:"13"}}),t("TextInput",{staticClass:"properties-panel-search-text-input",attrs:{value:e.value.query,placeholder:e.placeholder,"data-test-id":"elements-panel-search"},on:{input:e.editQuery}}),t("div",{staticClass:"properties-panel-search-actions"},[e.value.query?t("div",{staticClass:"properties-panel-search-extra-button",on:{click:e.clearQuery}},[t("Icon",{attrs:{icon:"CloseIcon",size:"12"}})],1):e._e(),t("SearchFilter",{staticClass:"properties-panel-search-modified",attrs:{value:e.value.modifiedOnly},on:{input:e.editModified}},[e._v("modified")]),e.includeSettingsToggle?t("SearchFilter",{staticClass:"properties-panel-search-settings-toggle",attrs:{value:e.value.includeSettings,title:"Include Settings"},on:{input:e.editSettings}},[t("Icon",{attrs:{icon:"GearIcon",size:"12"}}),t("Icon",{attrs:{icon:"PlusIcon",size:"10"}})],1):e._e()],1)],1)])},Fb=[],$b=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"properties-panel-search-extra-button":!0,"properties-panel-search-extra-button-on":this.value},on:{click:e.toggle}},[e._t("default")],2)},Vb=[];let Wb=class extends s.ZP{toggle(){this.$emit("input",!this.value)}};(0,r.gn)([(0,l.fI)()],Wb.prototype,"value",void 0),Wb=(0,r.gn)([l.wA],Wb);const Hb=Wb,zb=Hb;var Ub=(0,L.Z)(zb,$b,Vb,!1,null,null,null);const Kb=Ub.exports;let Gb=class extends s.ZP{emit(e){this.$emit("input",e)}editQuery(e){"string"===typeof e?this.emit({...this.value,query:e.trim().toLowerCase()}):this.emit({...this.value,query:""})}clearQuery(){this.emit({...this.value,query:"",modifiedOnly:!1})}editModified(e){this.emit({...this.value,modifiedOnly:e})}editSettings(e){this.emit({...this.value,includeSettings:e})}get placeholder(){return"Search"}};(0,r.gn)([(0,l.fI)()],Gb.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],Gb.prototype,"includeSettingsToggle",void 0),(0,r.gn)([(0,l.fI)()],Gb.prototype,"disabled",void 0),(0,r.gn)([(0,l.fI)()],Gb.prototype,"location",void 0),Gb=(0,r.gn)([(0,l.wA)({components:{SearchFilter:Kb,TextInput:Qs.Z,Icon:ze.Z}})],Gb);const qb=Gb,jb=qb;var Yb=(0,L.Z)(jb,Nb,Fb,!1,null,null,null);const Xb=Yb.exports;var Qb=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TabsRow",[e.hasContentControls?t("Tab",{staticClass:"properties-panel-tab",attrs:{value:e.value,id:"content","data-test-id":"element-properties-tab-content"},on:{input:e.setTab},scopedSlots:e._u([{key:"icon",fn:function(){return[t("Icon",{attrs:{icon:"PenIcon",size:"18"}})]},proxy:!0},{key:"contextmenu",fn:function(){return[t(ho.Z,[t(go.Z,{attrs:{dense:""},on:{click:function(t){return e.resetToDefault("content")}}},[t(mo.V9,[e._v("Reset Content")])],1)],1)]},proxy:!0}],null,!1,855652120)}):e._e(),e.hasDesignControls?t("Tab",{staticClass:"properties-panel-tab",attrs:{value:e.value,id:"design","data-test-id":"element-properties-tab-design"},on:{input:e.setTab},scopedSlots:e._u([{key:"icon",fn:function(){return[t("Icon",{attrs:{icon:"PaletteIcon",size:"18"}})]},proxy:!0},{key:"contextmenu",fn:function(){return[t(ho.Z,[t(go.Z,{attrs:{dense:""},on:{click:function(t){return e.resetToDefault("design")}}},[t(mo.V9,[e._v("Reset Design")])],1)],1)]},proxy:!0}],null,!1,1825965438)}):e._e(),e.hasSettingsControls?t("Tab",{staticClass:"properties-panel-tab",attrs:{value:e.value,id:"settings","data-test-id":"element-properties-tab-settings"},on:{input:e.setTab},scopedSlots:e._u([{key:"icon",fn:function(){return[t("Icon",{attrs:{icon:"GearIcon",size:"18"}})]},proxy:!0},{key:"contextmenu",fn:function(){return[t(ho.Z,[t(go.Z,{attrs:{dense:""},on:{click:function(t){return e.resetToDefault("settings")}}},[t(mo.V9,[e._v("Reset Settings")])],1)],1)]},proxy:!0}],null,!1,325617522)}):e._e()],1)},Jb=[],e_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classList,on:{click:function(t){return e.$emit("input",e.id)},contextmenu:e.openContextMenu}},[e.hasIconSlot?t("div",{staticClass:"breakdance-tab__icon"},[e._t("icon")],2):e._e(),e.hasIconSlot?e._e():t("div",{staticClass:"breakdance-tab__label"},[e._t("default")],2),e.hasContextMenuSlot?t("div",{staticClass:"breakdance-tab__context-menu"},[t("Dropdown",{attrs:{"position-x":e.contextMenuX,"position-y":e.contextMenuY,absolute:"","offset-y":""},model:{value:e.contextMenu,callback:function(t){e.contextMenu=t},expression:"contextMenu"}},[e._t("contextmenu")],2)],1):e._e()])},t_=[];let n_=class extends s.ZP{constructor(){super(...arguments),this.contextMenu=!1,this.contextMenuX=0,this.contextMenuY=0}get classList(){return{"breakdance-tab":!0,[`breakdance-tab--id-${this.id}`]:!0,"breakdance-tab--active":this.value===this.id}}get hasContextMenuSlot(){return!!this.$slots.contextmenu}get hasIconSlot(){return!!this.$slots.icon}openContextMenu(e){this.hasContextMenuSlot&&(e.preventDefault(),this.contextMenu=!1,this.contextMenuX=e.clientX,this.contextMenuY=e.clientY,this.$nextTick((()=>{this.contextMenu=!0})))}};(0,r.gn)([(0,l.fI)()],n_.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],n_.prototype,"id",void 0),n_=(0,r.gn)([(0,l.wA)({components:{Dropdown:yo.Z}})],n_);const s_=n_,a_=s_;var i_=(0,L.Z)(a_,e_,t_,!1,null,null,null);const o_=i_.exports;var r_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-tabs-row"},[e._t("default")],2)},l_=[];let c_=class extends s.ZP{};c_=(0,r.gn)([(0,l.wA)({})],c_);const d_=c_,u_=d_;var p_=(0,L.Z)(u_,r_,l_,!1,null,null,null);const h_=p_.exports;var g_=n(47256);let m_=class extends s.ZP{setTab(e){this.$emit("input",e)}get hasContentControls(){return this.controls.contentSections.length>0}get hasDesignControls(){return this.controls.designSections.length>0}get hasSettingsControls(){return this.controls.settingsSections.length>0}resetToDefault(e){!1!==c.kD.activeElement&&f_(c.kD.activeElement.id,e)}};(0,r.gn)([(0,l.fI)({default:"content"})],m_.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],m_.prototype,"controls",void 0),(0,r.gn)([(0,l.tB)("context")],m_.prototype,"context",void 0),m_=(0,r.gn)([(0,l.wA)({components:{TabsRow:h_,Tab:o_,Icon:ze.Z}})],m_);const v_=m_;function f_(e,t){const n=(0,he.DY)(c.Hb.document.tree,e);if(!n)return;const s=c.PK.element(n.data.type).defaultProperties,a=G()(s,t,g_.Bz);c.Hb.throttledPropertyChanged({elementId:n.id,path:t,value:(0,ur.Z)(a),meta:{snapshotLabel:`Reset ${(0,se.JC)(n.data.type)} ${g()(t)}`}})}const y_=v_;var b_=(0,L.Z)(y_,Qb,Jb,!1,null,null,null);const __=b_.exports;var x_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("ControlsTree",{attrs:{controls:e.controls,path:e.path}})],1)},S_=[];let P_=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],P_.prototype,"controls",void 0),(0,r.gn)([(0,l.fI)()],P_.prototype,"path",void 0),P_=(0,r.gn)([(0,l.wA)({components:{ControlsTree:Rb["default"]}})],P_);const C_=P_,w_=C_;var I_=(0,L.Z)(w_,x_,S_,!1,null,null,null);const k_=I_.exports;var D_=n(78574);function E_(e,t,n,s){const a=new RegExp(n.trim().replace(" ","|"),"si"),i=(e,n)=>!(a&&!`${e.label}`.match(a)&&!`${e.slug}`.match(a)&&!`${e.keywords}`.match(a))&&!(t&&!(0,g_.Ed)(n,e,s));return{contentSections:Z_(e.contentSections,i,"content",t),designSections:Z_(e.designSections,i,"design",t),settingsSections:Z_(e.settingsSections,i,"settings",t)}}function T_(e,t,n,s,a){const i=new RegExp(n.trim().replace(" ","|"),"si"),o=(e,n)=>!(i&&!`${e.label}`.match(i)&&!`${e.slug}`.match(i)&&!`${e.keywords}`.match(i))&&!(t&&!(0,g_.Ed)(n,e,s));return Z_(e,o,a,t)}function Z_(e,t,n,s){const a=(0,ur.Z)(e);return a.filter((e=>{const a=t(e,`${n}.${e.slug}`);return"section"===e.options.type?!(!a||s)||(e.children=Z_(e.children,t,`${n}.${e.slug}`,s),e.children.length>0):a}))}const A_=(e,t)=>(e.forEach((e=>{t=A_(e.children,t+("section"===e.options.type?0:1))})),t);var B_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"properties-panel-search-empty-state"},[t("svg",{staticClass:"properties-panel-search-empty-state-icon",attrs:{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}},[t("path",{attrs:{d:"M90.667 34.388v-25a6.25 6.25 0 0 0-6.25-6.25h-75a6.25 6.25 0 0 0-6.25 6.25v68.75a6.25 6.25 0 0 0 6.25 6.25h25M3.167 21.888h87.5","stroke-width":"6.250005"}}),t("path",{attrs:{d:"M46.917 71.888a25 25 0 1 0 50 0 25 25 0 1 0-50 0ZM81.292 62.513l-18.75 18.75M62.542 62.513l18.75 18.75","stroke-width":"6.250005"}})])]),t("h5",[e._v("No "+e._s(e.label)+" found.")]),t(qs.Z,{staticClass:"mt-4",attrs:{text:"",outlined:"",small:""},on:{click:e.clearSearch}},[e._v("Clear Search")])],1)},M_=[];let O_=class extends s.ZP{clearSearch(){this.$emit("input")}};(0,r.gn)([(0,l.fI)({default:"element"})],O_.prototype,"label",void 0),O_=(0,r.gn)([(0,l.wA)({components:{Dropdown:yo.Z,IconButton:oo.Z}})],O_);const L_=O_,R_=L_;var N_=(0,L.Z)(R_,B_,M_,!1,null,null,null);const F_=N_.exports;var $_=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"element-preset-chooser"},[t("div",{staticClass:"element-preset-chooser__input"},[t(ih.Z,{ref:"input",staticClass:"breakdance-dense-select breakdance-white-gray-outlined-input",attrs:{items:e.presetItems,dense:"",solo:"",flat:"",filled:"","search-input":e.newPresetName,placeholder:"Choose Design Preset","no-data-text":"","hide-details":"",value:e.currentPreset,loading:e.addingPreset},on:{"update:searchInput":function(t){e.newPresetName=t},"update:search-input":function(t){e.newPresetName=t},input:e.selectPreset,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createPresetOnEnter.apply(null,arguments)},"update:list-index":e.onListIndexUpdate,blur:function(t){e.autocompleteListIndex=-1}},scopedSlots:e._u([{key:"append-item",fn:function(){return[t(go.Z,{staticClass:"element-preset-chooser__create-button",class:{"element-preset-chooser__create-button--disabled":!e.canCreatePreset},attrs:{dense:"",link:""},on:{click:e.openSavePresetDialog}},[t(mo.V9,[e.foundPresetsWithName?t("b",[e._v(" Create preset from design ")]):t("b",[e._v(" Create "),t("i",[e._v(e._s(e.newPresetName))]),e._v(" preset ")])])],1)]},proxy:!0},{key:"no-data",fn:function(){return[t("div")]},proxy:!0}])}),t("div",{staticClass:"element-preset-chooser__actions"},[e.currentPreset?t("div",{key:"detach",staticClass:"properties-panel-search-extra-button element-preset-chooser__detach",attrs:{"aria-label":"Detach Styles",title:"Detach Styles"},on:{click:function(t){return t.stopPropagation(),e.detach.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"LinkSimpleSlashSolidIcon",size:"12"}})],1):e._e(),e.currentPreset||!e.isPresetValid?t("div",{key:"clear",staticClass:"properties-panel-search-extra-button element-preset-chooser__clear",attrs:{"aria-label":"Clear Styles"},on:{click:function(t){return t.stopPropagation(),e.clear.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"CloseIcon",size:"12"}})],1):e._e()])],1),e.currentPreset?t("NiceButton",{staticClass:"element-preset-chooser__edit",attrs:{"aria-label":"Edit"},on:{click:e.edit}},[e._v(" Edit ")]):e._e()],1),e.isPresetValid?e._e():t("div",{staticClass:"element-preset-chooser-invalid"},[t("AlertBox",{attrs:{options:{style:"error",content:"The selected preset does not exist or has been deleted. Please select another preset."}}})],1),t("PresetDialog",{attrs:{open:e.savePresetDialog,"element-id":e.element.id,"default-name":e.newPresetName},on:{close:e.closePresetDialog}})],1)},V_=[];let W_=class extends l.w3{constructor(){super(...arguments),this.newPresetName="",this.autocompleteListIndex=-1,this.addingPreset=!1,this.savePresetDialog=!1}get foundPresetsWithName(){return!this.newPresetName||this.presetItems.filter((e=>e.text.toLowerCase().includes(this.newPresetName.toLowerCase()))).length}get elementName(){return c.PK.element(this.element.data.type).name}get availablePresets(){return c.cr.presets}get isPresetValid(){return!this.currentPreset||this.currentPreset&&this.presetItems.find((e=>e.value===this.currentPreset))}get isPresetsOverridesEnabled(){return c.PK.isExperimentEnabled("design-presets-overrides")}get presetItems(){const e=this.element.data.type;return this.availablePresets.filter((t=>t.availableForType===e)).map((e=>({text:e.name,value:e.id})))}get currentPreset(){return this.element.data.properties?.meta?.preset}get canCreatePreset(){return!!this.element.data.properties?.design}async createPresetOnEnter(){if(-1!==this.autocompleteListIndex)return;if(this.foundPresetsWithName)return;if(!this.newPresetName)return;if(!this.canCreatePreset)return void Yo.Z.log.errorMessage("No design to save as preset");const e=(0,ie.Lr)(this.newPresetName,this.element.data.type,this.element.data.properties.design);this.addingPreset=!0;try{(0,ie.xk)(e),(0,ie.I8)(e.id,this.element.id),this.$refs.input.blur()}catch(t){Yo.Z.log.errorMessage("Failed to save preset")}finally{this.addingPreset=!1}}onListIndexUpdate(e){this.autocompleteListIndex=e}selectPreset(e){this.newPresetName="",(0,ie.I8)(e,this.element.id,!this.isPresetsOverridesEnabled),this.autocompleteListIndex=-1}clear(){(0,ie.Tn)(this.element.id)}detach(){this.currentPreset&&((0,ie.WE)(this.currentPreset,this.element.id),(0,ie.Tn)(this.element.id))}edit(){c.kD.setActivePresetId(this.currentPreset),(0,Pl.oM)("presets")}openSavePresetDialog(){this.savePresetDialog=!0}closePresetDialog(){this.savePresetDialog=!1}};(0,r.gn)([(0,l.fI)()],W_.prototype,"element",void 0),W_=(0,r.gn)([(0,l.wA)({components:{NiceButton:Wr.Z,Icon:ze.Z,DropdownInput:cr.Z,AlertBox:qu.Z,PresetDialog:ba}})],W_);const H_=W_,z_=H_;var U_=(0,L.Z)(z_,$_,V_,!1,null,null,null);const K_=U_.exports;var G_=n(37220);let q_=class extends s.ZP{constructor(){super(...arguments),this.searchBoxState={modifiedOnly:!1,includeSettings:!1,query:""},this.editingElementControlsTreeContext=G_.rq,this.searchString=""}get element(){return c.kD.activeElement}get elementId(){return c.kD.activeElementId}clearQuery(){this.updateSearchBoxState({modifiedOnly:!1,query:"",includeSettings:!1})}updateSearchBoxState(e){this.searchBoxState=e}get hasSearchParameters(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}get noSearchResults(){return A_(this.controlsFilteredBySearchParams.contentSections,0)+A_(this.controlsFilteredBySearchParams.designSections,0)+A_(this.controlsFilteredBySearchParams.settingsSections,0)===0}get controlsFilteredBySearchParams(){const e=this.searchBoxState.includeSettings,t=this.searchBoxState.modifiedOnly,n=this.isPresetEnabled&&!this.isPresetsOverridesEnabled,s=this.searchBoxState.query,a={designSections:n?[]:this.controls.designSections,contentSections:this.controls.contentSections,settingsSections:e?this.controls.settingsSections:[]},i=t?this.controls:a;return E_(i,t,s,this.editingElementControlsTreeContext)}get controls(){const e=this.element.data.type,t=c.PK.element(e).controls;return(0,D_.Z)(t,c.PK.permission)}get isPresetEnabled(){return!!this.element&&(0,ie.CO)(this.element.id)}get searchDisabled(){return"design"===this.tab&&this.isPresetEnabled&&!this.isPresetsOverridesEnabled}get isPresetsOverridesEnabled(){return c.PK.isExperimentEnabled("design-presets-overrides")}get contentSections(){return this.controls.contentSections}get designSections(){return this.controls.designSections}get settingsSections(){return this.controls.settingsSections}get hasContentControls(){return this.controls.contentSections.length>0}get hasDesignControls(){return this.controls.designSections.length>0}get hasSettingsControls(){return this.controls.settingsSections.length>0}get tab(){return this.elementId&&c.kD.activeElementProperties?.tab?c.kD.activeElementProperties.tab:this.hasContentControls?"content":this.hasDesignControls?"design":this.hasSettingsControls?"settings":""}updateTab(e){this.elementId&&c.kD.setCurrentElementTab(e)}};(0,r.gn)([(0,l.fI)()],q_.prototype,"value",void 0),(0,r.gn)([(0,l.DF)("context")],q_.prototype,"editingElementControlsTreeContext",void 0),q_=(0,r.gn)([(0,l.wA)({components:{ElementPresetChooser:K_,DropdownInput:cr.Z,ControlsTree:Rb["default"],SearchBox:Xb,DesignContentSettingsTabs:__,DesignTabContent:k_,Icon:ze.Z,SearchBoxEmptyState:F_}})],q_);const j_=q_,Y_=j_;var X_=(0,L.Z)(Y_,Ob,Lb,!1,null,null,null);const Q_=X_.exports;let J_=class extends s.ZP{get elementIsActive(){return!!c.kD.activeElement}};J_=(0,r.gn)([(0,l.wA)({components:{Titlebar:Cb,TabsAndControls:Q_,BlankSidebarContent:Zb}})],J_);const ex=J_,tx=ex;var nx=(0,L.Z)(tx,ib,ob,!1,null,null,null);const sx=nx.exports;var ax=n(43432),ix=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-add-panel"},[t("PanelHeader",{on:{close:e.close},scopedSlots:e._u(["oxygen"===e.builderMode?{key:"right",fn:function(){return[t(ax.Z,{attrs:{"content-class":"oxy-tab-tooltip",top:"","open-delay":500,transition:"0"},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({staticClass:"breakdance-toolbar-icon-button",attrs:{icon:"BookOpenIcon",size:14,small:""},on:{click:e.openDesignLibrary}},n))]}}],null,!1,2164222482)},[t("span",[e._v("Design Library")])])]},proxy:!0}:null],null,!0)},[e._v("Add ")]),"success"===e.state?["breakdance"===e.builderMode?t("div",{staticClass:"breakdance-add-panel__selection-wrapper"},[t("button",{staticClass:"breakdance-add-panel__panel-selection breakdance-add-panel__panel-selection--active"},[e._v(" Elements ")]),t("button",{staticClass:"breakdance-add-panel__panel-selection",on:{click:e.openDesignLibrary}},[e._v(" Library ")])]):e._e(),t("ElementsList")]:"loading"===e.state?[t("div",{staticClass:"d-flex justify-center align-center",staticStyle:{height:"100%"}},[t(ld.Z,{attrs:{indeterminate:"",size:100,color:"var(--gray300)"}})],1)]:[t("div",{staticClass:"d-flex justify-center align-center pa-4",staticStyle:{height:"100%","font-size":"var(--text-md)","font-weight":"500",color:"var(--gray700)"}},[e._v(" error: failed to load elements ")])]],2)},ox=[],rx=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-add-panel__element-list"},[t("div",{staticClass:"breakdance-add-panel-search d-flex"},[e.isAddPanelOpen?t("SearchInput",{attrs:{tabindex:"0",placeholder:e.isElementStudioOpen?`Search ${e.elementsCount} elements`:"Search elements",value:e.searchString,autofocus:!0,"data-test-id":"breakdance-add-panel-search"},on:{input:e.handleSearch,keydown:[e.resetSelectedSearchItemIndex,function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addSelectedSearchItem.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.nextOrPreviousSelectedSearchElement.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.goToSelectedSearchElement("prev"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.goToSelectedSearchElement("next"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.closePanel.apply(null,arguments)}]}}):e._e(),e.advancedSearchAvailable?[t(qs.Z,{staticClass:"ml-2",attrs:{"x-small":"",text:"",outlined:e.hasSearchParams},on:{click:function(t){e.advancedSearchDialogOpen=!0}}},[e._v("advanced")]),t(mc.Z,{attrs:{width:"220"},model:{value:e.advancedSearchDialogOpen,callback:function(t){e.advancedSearchDialogOpen=t},expression:"advancedSearchDialogOpen"}},[t(No.Z,[t(ar.ZB,[t("br"),t("h4",[e._v("Internal Element Project Management Tool")]),t(qs.Z,{attrs:{small:""},on:{click:e.dumpSearchResults}},[e._v("dump search results")]),t("div",{staticClass:"d-flex align-center justify-space-between"},[e._v(" Has Dynamic Stuff "),t(tp.Z,{model:{value:e.advancedSearchHasDynamicStuff,callback:function(t){e.advancedSearchHasDynamicStuff=t},expression:"advancedSearchHasDynamicStuff"}})],1),e._v(" Looks Good: "),t("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchLooksGood,callback:function(t){e.advancedSearchLooksGood=t},expression:"advancedSearchLooksGood"}}),t("br"),e._v(" Options Good: "),t("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchOptionsGood,callback:function(t){e.advancedSearchOptionsGood=t},expression:"advancedSearchOptionsGood"}}),t("br"),e._v(" Options Work: "),t("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchOptionsWork,callback:function(t){e.advancedSearchOptionsWork=t},expression:"advancedSearchOptionsWork"}}),t("br"),e._v(" Dynamic Behavior Works: "),t("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchDynamicBehaviorWorks,callback:function(t){e.advancedSearchDynamicBehaviorWorks=t},expression:"advancedSearchDynamicBehaviorWorks"}}),t("br")],1)],1)],1)]:e._e()],2),t("div",{staticClass:"breakdance-add-panel__item-wrapper"},[e.hasSearchParams?e._e():e._l(e.elementCategories,(function(n,s){return t("div",{key:s},[e.elementsInActiveCategory(n.slug).length?t("Accordion",{attrs:{expanded:e.openCategoriesIndex.includes(s)},on:{toggle:function(t){return e.chooseCategory(s)}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"breakdance-add-panel__item-title",attrs:{tabindex:"0","data-test-id":`elements-category-${n.label.replace(/ /g,"-").toLowerCase()}`},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.chooseCategory(s)}}},[e._v(" "+e._s(n.label)+" ")])]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"breakdance-add-panel__item-element-wrapper"},e._l(e.elementsInActiveCategory(n.slug),(function(e,n){return t("AddElement",{key:n,attrs:{element:e}})})),1)]},proxy:!0}],null,!0)}):e._e()],1)})),e.hasSearchParams?t("div",{staticClass:"breakdance-add-panel__item-element-wrapper breakdance-add-panel__item-element-wrapper--search"},[e.searchResultsCount?e._e():t("div",{staticClass:"breakdance-add-panel__no-results-for-search"},[e._v(" no results ")]),e._l(e.elementsForSearch,(function(n,s){return t("AddElement",{key:n.slug,attrs:{isSearching:!0,element:n,isSelected:e.selectedSearchElementIndex===s,"show-html-tag":e.searchInHtmlTags,"search-query":e.searchString}})}))],2):e._e()],2)])},lx=[],cx=n(10660),dx=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(qs.Z,{on:{click:function(t){e.isOpen=!0}}},[e._v("Open Website Dialog")]),t(mc.Z,{model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[t(No.Z,[t("h1",[e._v(" use the below HTML code on breakdance.com to display a list of elements. ")]),t("p",[e._v(" this is currently used at https://breakdance.com/features/elements ")]),t("div",{staticClass:"all-elements"},e._l(e.elementCategories,(function(n){return t("div",{key:n.categoryLabel,staticClass:"element-category-wrapper"},[t("div",{staticClass:"element-category"},[t("h3",{staticClass:"element-category-label"},[e._v(" "+e._s(n.categoryLabel)+" ")])]),t("div",{staticClass:"elements"},e._l(n.elements,(function(n){return t("div",{key:n.element,staticClass:"element"},[t("div",{staticClass:"element-title"},[e._v(" "+e._s(n.element)+" ")]),n.icon&&e.elementIconIsLocal(n.icon)?t("div",{staticClass:"element-icon"},[t("RawIcon",{attrs:{icon:n.icon}})],1):t("div",{staticClass:"element-icon",domProps:{innerHTML:e._s(n.icon)}})])})),0)])})),0)])],1)],1)},ux=[],px=n(24192);let hx=class extends s.ZP{constructor(){super(...arguments),this.isOpen=!1}elementIconIsLocal(e){return Og.iconNames.find((t=>t===e))}get elementCategories(){const e=Object.values(c.PK.elements);return c.PK.builderElementCategories.map((t=>({categoryLabel:t.label,elements:e.filter((e=>!0!==e.experimental)).filter((e=>!e.addPanelRules||!e.addPanelRules.alwaysHide)).filter((e=>e.category===t.slug)).map((e=>({element:e.name,icon:e.uiIcon}))).sort(((e,t)=>e.element.localeCompare(t.element)))}))).filter((e=>0!==e.elements.length))}};hx=(0,r.gn)([(0,l.wA)({components:{RawIcon:px.Z}})],hx);const gx=hx,mx=gx;var vx=(0,L.Z)(mx,dx,ux,!1,null,null,null);const fx=vx.exports;let yx=class extends s.ZP{constructor(){super(...arguments),this.openCategoriesIndex=[0,1],this.searchString="",this.selectedSearchElementIndex=0,this.advancedSearchAvailable=!1,this.advancedSearchDialogOpen=!1,this.advancedSearchHasDynamicStuff=!1,this.advancedSearchLooksGood=!1,this.advancedSearchOptionsGood=!1,this.advancedSearchOptionsWork=!1,this.advancedSearchDynamicBehaviorWorks=!1}get builderMode(){return c.PK.builderMode}addSelectedSearchItem(){const e=this.elementsForSearch[this.selectedSearchElementIndex]?.slug;e&&(0,qe.Sl)(this.elementsForSearch[this.selectedSearchElementIndex])&&(c.Hb.addElement({elementSlug:e}),this.doesSearchQueryMatchAnyHtmlTag&&(0,qe.Q$)(c.kD.activeElementId,this.searchString,`DocumentAddElement:Slug:${e}`),"oxygen"===this.builderMode&&(0,Pl.TO)("add"))}get searchResultsCount(){return Object.keys(this.elementsForSearch).length}goToSelectedSearchElement(e="next"){let t="next"===e?this.selectedSearchElementIndex+1:this.selectedSearchElementIndex-1;t===this.searchResultsCount?t=0:-1===t&&(t=this.searchResultsCount-1),this.selectedSearchElementIndex=t,this.scrollToActive()}nextOrPreviousSelectedSearchElement(e){""!==this.searchString&&e.preventDefault(),this.goToSelectedSearchElement(e.shiftKey?"prev":"next")}handleSearch(e){this.searchString!==e&&document.querySelector(".breakdance-add-panel")?.scrollTo({top:0}),this.searchString=e}get isAddPanelOpen(){return"add"===this.panelContext?.state}resetSearchWhenPanelOpens(){this.isAddPanelOpen&&this.handleSearch("")}resetSelectedSearchItemIndex(e){const t=["Enter","Tab","ShiftLeft","ShiftRight","ArrowUp","ArrowDown"];t.includes(e.code)||(this.selectedSearchElementIndex=0)}get elementsCount(){return this.elements.length}chooseCategory(e){this.searchString="";const t=this.openCategoriesIndex.findIndex((t=>t===e));-1===t?this.openCategoriesIndex=[...this.openCategoriesIndex,e]:this.openCategoriesIndex.splice(t,1)}elementsInActiveCategory(e){return this.elements.filter((t=>t.category===e))}get elementCategories(){return c.PK.builderElementCategories}get elements(){return Object.values(c.PK.elements).filter((e=>!!c.kD.settings.showExperimentalElements||!0!==e.experimental)).filter((e=>!(0,qe.GF)(e.addPanelRules,e.settings))).filter((e=>(0,qe.Sl)(e))).sort(((e,t)=>e.order<t.order?-1:e.order>t.order?1:0))}get searchInHtmlTags(){return"oxygen"===c.PK.builderMode}get doesSearchQueryMatchAnyHtmlTag(){return this.filteredSearchElements.find((e=>[e.htmlTag?.default,...e.htmlTag?.options].filter(Boolean).find((e=>e===this.searchString))))}get elementsForSearch(){return this.doesSearchQueryMatchAnyHtmlTag?this.filteredSearchElements.sort(((e,t)=>{const n=e.category?.toLowerCase(),s=t.category?.toLowerCase();return n===s?0:"basic"===n?-1:"basic"===s?1:0})):this.filteredSearchElements}get filteredSearchElements(){const e=this.searchInHtmlTags?["htmlTag.default","htmlTag.options"]:[],t=(0,qe.tM)(this.elements,this.searchString,e),n=t.filter((e=>{const t=e.projectManagement?e.projectManagement:void 0;return!Object.values({looksGood:this.advancedSearchLooksGood?t?.looksGood==this.advancedSearchLooksGood:void 0,optionsGood:this.advancedSearchOptionsGood?t?.optionsGood==this.advancedSearchOptionsGood:void 0,optionsWork:this.advancedSearchOptionsWork?t?.optionsWork==this.advancedSearchOptionsWork:void 0,dynamicBehaviorWorks:this.advancedSearchDynamicBehaviorWorks?t?.dynamicBehaviorWorks==this.advancedSearchDynamicBehaviorWorks:void 0,hasDynamicStuff:this.advancedSearchHasDynamicStuff?e.dependencies||e.actions:void 0}).includes(!1)}));return n}scrollToActive(){(0,T.n)((()=>{document.querySelector(".breakdance-add-panel__element--selected")?.scrollIntoView({block:"center"})}))}dumpSearchResults(){console.log(this.elementsForSearch.map((e=>e.name)).join("\n"))}get advancedSearchDropdownItems(){return["yes","no","unknown","sort of"]}mounted(){Ke.uq.register("a d v",(()=>this.advancedSearchAvailable=!0))}beforeDestroy(){Ke.uq.unbind("a d v")}get hasSearchParams(){return!!(this.searchString||this.advancedSearchLooksGood||this.advancedSearchOptionsGood||this.advancedSearchOptionsWork||this.advancedSearchDynamicBehaviorWorks||this.advancedSearchHasDynamicStuff)}updateAdvancedSearchValue(e,t){this[e]=t}get isElementStudioOpen(){return c.kD.panelState.elementStudioOpen}closePanel(){(0,Pl.TO)("add")}};(0,r.gn)([(0,l.tB)({from:"panelContext",default:{}})],yx.prototype,"panelContext",void 0),(0,r.gn)([(0,l.RL)("isAddPanelOpen")],yx.prototype,"resetSearchWhenPanelOpens",null),yx=(0,r.gn)([(0,l.wA)({components:{SearchInput:Vr.Z,TextInput:Qs.Z,Accordion:yh.Z,AddElement:cx.Z,DropdownInput:cr.Z,WebsiteDialog:fx}})],yx);const bx=yx,_x=bx;var xx=(0,L.Z)(_x,rx,lx,!1,null,null,null);const Sx=xx.exports;var Px,Cx=n(18236),wx=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(mc.Z,{attrs:{fullscreen:e.fullscreen,width:e.fullscreen?null:1140,"content-class":"design-library-dialog"},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[t("header",{staticClass:"design-library-header"},[t("TopBarSection",[t("IconButton",{attrs:{icon:"HouseIcon",size:"18",title:"Go home"},on:{click:e.goHome}})],1),t("TopBarSection",{attrs:{"border-left":!0,"border-right":!0}},[t("DesignProviderDropdown",{attrs:{providers:e.providers},model:{value:e.selectedProvider,callback:function(t){e.selectedProvider=t},expression:"selectedProvider"}})],1),t("TopBarSection",{staticClass:"design-library-breakpoint-chooser ml-auto mr-auto",attrs:{"border-left":!0,"border-right":!0}},[t("BreakpointsSelection",{model:{value:e.breakpoint,callback:function(t){e.breakpoint=t},expression:"breakpoint"}})],1),t("TopBarSection",{staticClass:"ml-auto pr-2",attrs:{"border-right":!0}},[t("NiceButton",{attrs:{disabled:!e.canImportAll,"left-icon":"ArrowDownToLine",loading:e.importingPage},on:{click:e.importAll}},[e._v(" Import Page ")])],1),t("TopBarSection",[t("IconButton",{attrs:{icon:e.fullscreen?"DownLeftAndUpRightToCenter":"UpRightAndDownLeftFromCenter",size:"18",title:"Make modal full screen"},on:{click:e.toggleFullscreen}}),e.selectedUrl?t("a",{attrs:{href:e.selectedUrl,target:"_blank"}},[t("IconButton",{attrs:{icon:"ShareFromSquareIcon",size:"18",title:"Visit site"}})],1):e._e()],1),t("TopBarSection",{attrs:{"border-left":!0}},[t("IconButton",{attrs:{icon:"CloseIcon",size:"18",title:"Close modal"},on:{click:e.close}})],1)],1),t("div",{staticClass:"design-library-contents"},[t("DesignLibrarySidebar",{attrs:{items:e.sidebarItems},on:{select:e.onPostSelected}}),t("div",{ref:"iframeWrapper",staticClass:"design-library-iframe-wrapper"},[e.previewLoaded?[e.reliesOnGlobalSettings?t("DesignLibraryGlobalSettings",{attrs:{"last-imported-from-url":e.library.globalSettingsLastImportedFromUrl,provider:e.selectedProvider}}):e._e(),e.reliesOnDesignPresets?t("DesignLibraryDesignPresets",{attrs:{"last-imported-from-url":e.library.designPresetsLastImportedFromUrl,provider:e.selectedProvider}}):e._e()]:e._e(),t("ProOnlyAlertBox",{attrs:{options:{feature:"design-library",content:"Soon, the Design Library will only be available in the pro version. For now, enjoy your free preview!"}}}),e.showPasswordForm?t("DesignLibraryPassword",{attrs:{provider:e.selectedProvider,compact:!0},on:{"password-validated":e.getAllProvidersAndReloadSelected}}):t("div",{staticClass:"design-library-iframe-inner-wrapper",style:e.iframeWrapperStyles},[e.selectedProvider&&e.iframeUrl?t("iframe",{ref:"iframe",staticClass:"design-library-iframe",style:e.iframeStyles,attrs:{src:e.iframeUrl},on:{load:e.onProviderLoaded}}):e._e()]),e.previewLoaded?t(Cx.Z,{attrs:{value:e.loading,absolute:""}},[t(ld.Z,{attrs:{indeterminate:"",size:"64"}})],1):e._e(),!e.previewLoaded&&e.selectedProvider?t("DesignLibrarySkeleton"):e._e()],2)],1)])},Ix=[],kx=n(65118),Dx=n(75031),Ex=function(){var e=this;e._self._c;return e._m(0)},Tx=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"design-library-skeleton-loader"},[t("span",{staticClass:"design-library-skeleton-header"},[t("span",{staticClass:"design-library-skeleton-line"}),t("span",{staticClass:"design-library-skeleton-line"}),t("span",{staticClass:"design-library-skeleton-line"})]),t("span",{staticClass:"design-library-skeleton-hero"},[t("span",{staticClass:"design-library-skeleton-line"}),t("span",{staticClass:"design-library-skeleton-line"})]),t("div",{staticClass:"design-library-skeleton-button"},[t("span",{staticClass:"design-library-skeleton-line"}),t("span",{staticClass:"design-library-skeleton-line"})])])}];let Zx=(0,l.wA)(Px=class extends s.ZP{})||Px;const Ax=Zx;var Bx=(0,L.Z)(Ax,Ex,Tx,!1,null,null,null);const Mx=Bx.exports;var Ox=n(98949),Lx=n(33356),Rx=n(12817),Nx=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("aside",{staticClass:"design-library-sidebar"},[t("header",{staticClass:"design-library-sidebar-header"},[t("SearchInput",{attrs:{placeholder:"Search...",autofocus:!0,small:!0},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),e.types.length?t("DropdownInput",{attrs:{items:e.types,placeholder:"Filter by type",clearable:!0},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}}):e._e()],1),t(Rx.Z,{attrs:{hoverable:"",activatable:"","open-on-click":"",items:e.treeItems,"open-all":!!e.searchQuery},on:{"update:active":function(t){return e.$emit("select",t)}},scopedSlots:e._u([{key:"prepend",fn:function({item:n,open:s}){return[n.children?t("Icon",{attrs:{icon:s?"FolderOpenIcon":"FolderIcon"}}):e._e()]}}])})],1)},Fx=[],$x=n(74221);let Vx=class extends s.ZP{constructor(){super(...arguments),this.searchQuery="",this.selectedType=""}onItemsChange(){this.searchQuery="",this.selectedType=""}get filteredItems(){const e=this.searchQuery;if(!e)return this.items.filter(this.filterItemByType);const t=new $x.Z(this.items,{keys:["name"],threshold:.2});return t.search(e.trim()).map((e=>e.item)).filter(this.filterItemByType)}get types(){const e=[...new Set(this.items.map((e=>e.type)))].filter(Boolean);return e.map((e=>({value:e,text:g()(e?.replace("breakdance_",""))})))}get treeItems(){const e=[],t=this.filteredItems.reduce(((t,n)=>(n.tags.length?n.tags.forEach((e=>{t[e]=t[e]||[],t[e].push(n)})):e.push(n),t)),Object.create(null)),n=Object.keys(t).map((e=>({id:e,name:e,children:t[e]})));return[...e,...n]}filterItemByType(e){return!this.selectedType||e.type===this.selectedType}};(0,r.gn)([(0,l.fI)({default(){return[]}})],Vx.prototype,"items",void 0),(0,r.gn)([(0,l.RL)("items")],Vx.prototype,"onItemsChange",null),Vx=(0,r.gn)([(0,l.wA)({components:{DropdownInput:cr.Z,AlertBox:qu.Z,SearchInput:Vr.Z,Icon:ze.Z}})],Vx);const Wx=Vx,Hx=Wx;var zx=(0,L.Z)(Hx,Nx,Fx,!1,null,null,null);const Ux=zx.exports;var Kx=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"design-library-global-settings-warning"},[t("div",[t("div",{staticClass:"design-library-global-settings-warning-text"},[e.lastImportedFromUrl===e.provider?.url?[t("Icon",{staticClass:"design-library_success-icon",attrs:{icon:"CheckSquareIcon"}}),e._v(" You've already imported the global settings from this site. ")]:e.lastImportedFromUrl?[t("Icon",{staticClass:"design-library_warning-icon",attrs:{icon:"ExclamationMarkCircleIcon"}}),t("span",[e._v(" This design relies on global settings. It won't look the same unless you import them. ")])]:[t("div",[e._v(" This design relies on global settings. It won't look the same unless you import them. ")])]],2)]),t("NiceButton",{on:{click:e.toggleImportScreen}},[e._v(" Import Global Settings ")])],1),e.showImportScreen?t("div",{staticClass:"design-library-import-global-settings-panel"},[e.loading?t("div",[t("LoadingSpinner",{attrs:{color:"var(--gray500)",size:65}})],1):[t("span",[e._v(" Your existing global settings will be overwritten with the global settings from this library website. ")]),t("div",[t(qs.Z,{staticClass:"mr-2",attrs:{text:""},on:{click:e.toggleImportScreen}},[e._v(" Cancel ")]),t(qs.Z,{attrs:{dark:"",color:"blue"},on:{click:e.importSettings}},[e._v(" Confirm Overwrite & Import ")])],1)]],2):e._e()])},Gx=[],qx=n(58720);let jx=class extends s.ZP{constructor(){super(...arguments),this.loading=!1,this.showImportScreen=!1}toggleImportScreen(){this.showImportScreen=!this.showImportScreen}async importSettings(){if(this.provider?.isLocal)return;this.loading=!0;const e=this.provider?.url,t=(0,Ur.zG)(await(0,Go.D)({action:"breakdance_get_external_global_settings",decoder:Dx.az,friendlyName:`Global Settings for "${e}"`,dataToPost:{url:e}}),(0,Gr.g_)((()=>!1),(t=>(e&&X.PK.setDesignLibrary({...X.PK.designLibrary,globalSettingsLastImportedFromUrl:e}),t&&t.globalSettings))));this.loading=!1,this.showImportScreen=!1,!1!==t?(X.cr.setGlobalSettings(t),X.kD.setShouldPanelLoadFreshDataIntoStoreOnceOpened("globalSettings",!1),Yo.Z.log.message(`Imported Global Settings from "${this.provider?.name||this.provider?.url}"`)):Yo.Z.log.errorMessage(`Error importing Global Settings for "${this.provider?.name||this.provider?.url}"`)}};(0,r.gn)([(0,l.fI)({default:null})],jx.prototype,"provider",void 0),(0,r.gn)([(0,l.fI)({default:null})],jx.prototype,"lastImportedFromUrl",void 0),jx=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,NiceButton:Wr.Z,LoadingSpinner:qx.Z}})],jx);const Yx=jx,Xx=Yx;var Qx=(0,L.Z)(Xx,Kx,Gx,!1,null,null,null);const Jx=Qx.exports;var eS=n(92260),tS=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("div",e._g({staticClass:"document-chooser"},n),[t("div",{staticClass:"document-chooser-text"},["breakdance"===e.builderMode?t("h2",[e._v("Design Set")]):e._e(),"oxygen"===e.builderMode?t("span",{staticClass:"document-chooser-type-label"},[t("span",[e._v("Design Set:")])]):e._e(),t("span",{staticClass:"ellipsis-text"},[e._v(" "+e._s(e.value&&e.value.name)+" ")])]),t("div",{staticClass:"document-chooser-dropdown-icon"},[t("Icon",{attrs:{size:"11",icon:"CaretDownIcon"}})],1)])]}}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[t(No.Z,{staticClass:"vscroll-scroll vscroll-wrap",attrs:{width:"300",height:"350"}},[t("div",{staticClass:"preview-content-chooser-dialog-search-form-wrapper"},[t(Fo.Z,{staticClass:"preview-content-chooser-dialog-search-box breakdance-dense-input",attrs:{label:"Search...",clearable:"",solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)",autofocus:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(ho.Z,{ref:"scrollable",staticClass:"vscroll-scroll",attrs:{dense:""}},[e._l(e.filteredProviders,(function(n,s){return[t(go.Z,{key:s,class:{"document-chooser-item-selected":e.value&&n.url===e.value.url},attrs:{link:""},on:{click:function(t){return e.chooseProvider(n)}}},[t(mo.V9,{staticClass:"previewable-item-list-item"},[t("div",{staticClass:"previewable-item-label previewable-item-label-stop-text-from-overflowing"},[e._v(" "+e._s(n.name)+" ")]),n.type?t("div",{staticClass:"previewable-item-type"},[e._v(" "+e._s(e.formatType(n.type))+" ")]):e._e()])],1)]}))],2)],1)],1)},nS=[];let sS=class extends s.ZP{constructor(){super(...arguments),this.open=!1,this.search=""}onSearchChange(){const e=this.$refs.scrollable;this.$nextTick((()=>{e.$el.scrollTop=0}))}get builderMode(){return c.PK.builderMode}get filteredProviders(){return this.search?this.providers.filter((e=>e.name.toLowerCase().includes(this.search.toLowerCase()))):this.providers}formatType(e){return e.replace(/_/g," ")}chooseProvider(e){this.$emit("input",e),this.open=!1,(0,Dt.K)("Design Library",{action:"modal_provider_selected",provider:e.name})}};(0,r.gn)([(0,l.fI)()],sS.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],sS.prototype,"providers",void 0),(0,r.gn)([(0,l.RL)("search")],sS.prototype,"onSearchChange",null),sS=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,Dropdown:yo.Z,TopBarSection:Ao}})],sS);const aS=sS,iS=aS;var oS=(0,L.Z)(iS,tS,nS,!1,null,null,null);const rS=oS.exports;var lS=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"design-library-global-settings-warning"},[t("div",[t("div",{staticClass:"design-library-global-settings-warning-text"},[e.lastImportedFromUrl===e.provider?.url?[t("Icon",{staticClass:"design-library_success-icon",attrs:{icon:"CheckSquareIcon"}}),e._v(" You've already imported the Design Presets from this site. ")]:e.lastImportedFromUrl?[t("Icon",{staticClass:"design-library_warning-icon",attrs:{icon:"ExclamationMarkCircleIcon"}}),t("span",[e._v(" This design relies on Design Presets. It won't look the same unless you import them. ")])]:[t("div",[e._v(" This design relies on Design Presets. It won't look the same unless you import them. ")])]],2)]),t("NiceButton",{on:{click:e.toggleImportScreen}},[e._v(" Import Design Presets ")])],1),e.showImportScreen?t("div",{staticClass:"design-library-import-global-settings-panel"},[e.loading?t("div",[t("LoadingSpinner",{attrs:{color:"var(--gray500)",size:65}})],1):[t("span",[e._v(" Your existing Design Presets will be overwritten with the Presets from this library website. ")]),t("div",[t(qs.Z,{staticClass:"mr-2",attrs:{text:""},on:{click:e.toggleImportScreen}},[e._v(" Cancel ")]),t(qs.Z,{attrs:{dark:"",color:"blue"},on:{click:e.importSettings}},[e._v(" Confirm Overwrite & Import ")])],1)]],2):e._e()])},cS=[],dS=n(14018);let uS=class extends s.ZP{constructor(){super(...arguments),this.loading=!1,this.showImportScreen=!1}toggleImportScreen(){this.showImportScreen=!this.showImportScreen}async importSettings(){if(this.provider?.isLocal)return;this.loading=!0;const e=this.provider?.url,t=(0,Ur.zG)(await(0,Go.D)({action:"breakdance_get_external_design_presets",decoder:dS.p,friendlyName:`Design Presets for "${e}"`,dataToPost:{url:e}}),(0,Gr.g_)((()=>null),(t=>(e&&X.PK.setDesignLibrary({...X.PK.designLibrary,designPresetsLastImportedFromUrl:e}),t))));this.loading=!1,this.showImportScreen=!1,t?(X.cr.setPresets(t),X.kD.setShouldPanelLoadFreshDataIntoStoreOnceOpened("presets",!1),Yo.Z.log.message(`Imported Design Presets from "${this.provider?.name||this.provider?.url}"`)):Yo.Z.log.errorMessage(`Error importing Design Presets for "${this.provider?.name||this.provider?.url}"`)}};(0,r.gn)([(0,l.fI)({default:null})],uS.prototype,"provider",void 0),(0,r.gn)([(0,l.fI)({default:null})],uS.prototype,"lastImportedFromUrl",void 0),uS=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,NiceButton:Wr.Z,LoadingSpinner:qx.Z}})],uS);const pS=uS,hS=pS;var gS=(0,L.Z)(hS,lS,cS,!1,null,null,null);const mS=gS.exports;var vS=n(80265);let fS=class extends s.ZP{constructor(){super(...arguments),this.selectedProvider=null,this.selectedPostId=null,this.providerElements=[],this.reliesOnGlobalSettings=!1,this.reliesOnDesignPresets=!1,this.providerPosts=[],this.importingPage=!1,this.requiresPassword=!1,this.passwordValid=!0,this.breakpoint={id:we.Wp,label:"",minWidth:void 0,maxWidth:void 0,defaultPreviewWidth:we.kS},this.canvasSize={width:0,height:0},this.loading=!1,this.previewLoaded=!1,this.fullscreen=!1,this.loadingDesignSetData=!1}mounted(){X.kD.hasFullAccess&&(Ke.uq.register(Ge.r.CMD_B,this.open),this.setSelectedProviderToLastUsedProvider())}beforeDestroy(){Ke.uq.unbind(Ge.r.CMD_B),this.unbindListeners()}get library(){return X.PK.designLibrary}get providers(){return this.library.designProviders}get showPasswordForm(){return this.requiresPassword&&!this.passwordValid}setSelectedProviderToLastUsedProvider(){const e=(0,Ox.f8)(),t=this.providers.find((t=>t.url===e));if(t)this.selectedProvider=t;else{const e=this.providers.find((e=>"This Website"===e.name));e&&(this.selectedProvider=e)}}get sidebarItems(){return this.providerPosts}get isOpen(){return X.kD.panelState.designLibraryModalOpen}set isOpen(e){X.kD.setDesignLibraryModalState(e)}get selectedPost(){return this.providerPosts.find((e=>e.id===this.selectedPostId))}get selectedUrl(){return this.selectedPost?.url||this.selectedProvider?.url}get iframeUrl(){if(!this.selectedUrl)return null;const e=new URL(this.selectedUrl);return e.searchParams.append("breakdance","design-library"),this.currentProviderPassword&&e.searchParams.set("password",this.currentProviderPassword),e.toString()}get previewWidth(){return this.breakpoint.id===we.Wp?"100%":this.breakpoint.defaultPreviewWidth}get minWidth(){return(0,we.GV)(X.cr)}get iframeWrapperStyles(){return{width:"100%"===this.previewWidth?"100%":`${this.previewWidth}px`}}get iframeStyles(){const e=e=>{const t=Math.min(1,this.canvasSize.width/e);return{width:`${e}px`,transform:`scale(${t})`,height:this.canvasSize.height*(1/t)+"px"}};return"100%"===this.previewWidth?this.canvasSize.width<this.minWidth?e(this.minWidth):{width:"100%",minWidth:`${this.minWidth}px`}:e(this.previewWidth)}get canImportAll(){return this.providerElements.length}get currentProviderPassword(){const e=new URL(this.selectedProvider?.url||"");return e.searchParams.get("password")}onDialogOpen(){this.isOpen?this.modalOpened():this.unbindListeners()}onProviderChange(e,t){this.providerElements=[],this.selectedPostId=null,this.providerPosts=[],this.reliesOnGlobalSettings=!1,this.reliesOnDesignPresets=!1,this.getDesignSetData(),e.url!==t?.url&&(this.previewLoaded=!1)}modalOpened(){this.selectedProvider||(this.selectedProvider=this.providers[1]),(0,Dt.K)("Design Library",{action:"modal_opened"}),this.calculateSizeAfterTransition(),window.addEventListener("message",this.handleIframeMessage,!1),window.addEventListener("resize",this.setCanvasSize)}unbindListeners(){window.removeEventListener("message",this.handleIframeMessage,!1),window.removeEventListener("resize",this.setCanvasSize)}calculateSizeAfterTransition(){const e=400;setTimeout((()=>this.setCanvasSize()),e)}setCanvasSize(){const e=this.$refs.iframeWrapper;if(!e)return;const{width:t,height:n}=e.getBoundingClientRect();this.canvasSize={width:t,height:n}}reloadIframe(){const e=this.$refs.iframe;e?(e.src+="",this.loading=!0):this.selectedProvider=this.providers[0]}goHome(){this.selectedPostId=null,this.reloadIframe()}toggleFullscreen(){this.fullscreen=!this.fullscreen,this.calculateSizeAfterTransition()}handleIframeMessage(e){if("string"!==typeof e.data)return;const[t,n]=e.data.split(/,(.*)/s);"breakdanceGetElements"===t&&this.getElements(n),"breakdanceImportElement"===t&&this.importElement(n),"breakdanceBeforeLeave"===t&&this.navigatedAway()}onPostSelected(e){const[t]=e;this.loading=!0,this.selectedPostId=t||null,this.reloadIframe(),(0,Dt.K)("Design Library",{action:"modal_page_selected",provider:this.selectedProvider?.name,post_id:t})}onProviderLoaded(){this.previewLoaded=!0,this.loading=!1,this.setCanvasSize()}getElements(e){this.loading=!1;const t=(0,kx.Z)(e,Kr.IX(Dx.NM));this.providerElements=(0,Ur.zG)(t,(0,Gr.g_)((()=>[]),(e=>e)))}navigatedAway(){this.loading=!0}importElement(e){const t=(0,kx.Z)(e,Dx.NM),n=(0,Ur.zG)(t,(0,Gr.g_)((()=>null),(e=>e)));n&&((0,Dt.K)("Design Library",{action:"modal_import_element",provider:this.selectedProvider?.name,elementSlug:n.data.type}),this.insertElements([n]),this.close(),this.$nextTick((()=>{(0,Lx.zE)()})))}insertElements(e){(0,Ox.AE)(e),this.selectedProvider&&(0,Ox.Hw)(this.selectedProvider.url)}importAll(){this.importingPage=!0,this.insertElements(this.providerElements),this.close(),this.importingPage=!1,this.$nextTick((()=>{(0,Lx.zE)()}))}close(){X.kD.setDesignLibraryModalState(!1)}open(){X.kD.setDesignLibraryModalState(!0)}async getDesignSetData(){const e=this.selectedProvider?.url;this.loadingDesignSetData=!0,(0,Ur.zG)(await(0,Go.D)({action:this.selectedProvider?.isLocal?"breakdance_get_local_design_set":"breakdance_get_external_design_set",decoder:eS.i2,friendlyName:"Design Set Data",dataToPost:{url:e}}),(0,Gr.g_)((()=>{this.providerPosts=[]}),(e=>{this.providerPosts=e.posts,this.requiresPassword=e.requiresPassword||!1,this.passwordValid=!!e.passwordValid,this.reliesOnGlobalSettings=e.reliesOnGlobalSettings,this.reliesOnDesignPresets=e.reliesOnDesignPresets}))),this.loadingDesignSetData=!1}async getAllProvidersAndReloadSelected(){await this.getUpdatedDesignProviders();const e=this.providers.find((e=>e.name===this.selectedProvider?.name));this.selectedProvider=e||this.providers[0]}async getUpdatedDesignProviders(){(0,Ur.zG)(await(0,Go.D)({action:"breakdance_get_design_library_data",decoder:eS.Jd}),(0,Gr.g_)((()=>{}),(e=>{X.PK.setDesignLibrary(e)})))}};(0,r.gn)([(0,l.RL)("isOpen")],fS.prototype,"onDialogOpen",null),(0,r.gn)([(0,l.RL)("selectedProvider")],fS.prototype,"onProviderChange",null),fS=(0,r.gn)([(0,l.wA)({components:{ProOnlyAlertBox:ju.Z,IconButton:oo.Z,NiceButton:Wr.Z,DesignLibrarySidebar:Ux,DesignLibrarySkeleton:Mx,TopBarSection:Ao,TextInput:Qs.Z,DropdownInput:cr.Z,BreakpointsSelection:Po,DesignProviderDropdown:rS,DesignLibraryPassword:vS.Z,DesignLibraryGlobalSettings:Jx,DesignLibraryDesignPresets:mS}})],fS);const yS=fS,bS=yS;var _S=(0,L.Z)(bS,wx,Ix,!1,null,null,null);const xS=_S.exports;var SS=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Ab.Z,{staticClass:"breakdance-panel-header d-flex align-center",attrs:{tile:""}},[t("div",{staticClass:"breakdance-panel-header-title"},[e._t("default")],2),t(eo.Z),e._t("right"),e.backInsteadOfClose?t("IconButton",{staticClass:"breakdance-panel-header-close-button",attrs:{icon:"ChevronDownIcon",rotate:"90",size:"12",small:""},on:{click:e.close}}):t("IconButton",{staticClass:"breakdance-panel-header-close-button",attrs:{icon:"CloseIcon",size:"breakdance"===e.builderMode?16:14,small:""},on:{click:e.close}})],2)},PS=[];let CS=class extends l.w3{close(){this.$emit("close")}get builderMode(){return c.PK.builderMode}};(0,r.gn)([(0,l.fI)({default:!1})],CS.prototype,"backInsteadOfClose",void 0),CS=(0,r.gn)([(0,l.wA)({components:{IconButton:oo.Z}})],CS);const wS=CS,IS=wS;var kS=(0,L.Z)(IS,SS,PS,!1,null,null,null);const DS=kS.exports;let ES=class extends s.ZP{close(){(0,Pl.TO)("add")}openDesignLibrary(){X.kD.setDesignLibraryModalState(!0)}get state(){return X.PK.elementsLoadingState}get builderMode(){return X.PK.builderMode}};ES=(0,r.gn)([(0,l.wA)({components:{DesignLibraryModal:xS,PanelHeader:DS,ElementsList:Sx,IconButton:oo.Z}})],ES);const TS=ES,ZS=TS;var AS=(0,L.Z)(ZS,ix,ox,!1,null,null,null);const BS=AS.exports;var MS=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll global-settings-panel"},[t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("PanelHeader",{on:{close:e.close},scopedSlots:e._u([{key:"right",fn:function(){return[t("ImportExportDropdownMenu",{attrs:{name:"Global Settings","settings-to-export":e.settingsToExport,"validate-settings":e.validateImport,"import-settings":e.importSettings}})]},proxy:!0}])},[e._v(" Globals "),t("BrowseModeToggle",{attrs:{"panel-to-open":"globalSettings"}}),t("PanelHeaderButton",{attrs:{enabled:"history"===e.viewMode},on:{click:e.toggleViewMode}},[e._v("history")])],1),"controls"===e.viewMode?t("GlobalSettingsPanelControlsViewMode",{attrs:{"is-loading":e.isLoading}}):"history"===e.viewMode?t("GlobalSettingsPanelHistoryViewMode"):e._e()],1)])},OS=[],LS=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isBrowseModeAvailable?t("PanelHeaderButton",{attrs:{enabled:e.isBrowseModeEnabled},on:{click:e.toggleBrowseMode}},[e._v("browse")]):e._e()},RS=[],NS=n(89381),FS=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"breakdance-panel-header-button":!0,"breakdance-panel-header-button--enabled":e.enabled},on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)},$S=[];let VS=class extends l.w3{};(0,r.gn)([(0,l.fI)({default:!0})],VS.prototype,"enabled",void 0),VS=(0,r.gn)([(0,l.wA)({components:{}})],VS);const WS=VS,HS=WS;var zS=(0,L.Z)(HS,FS,$S,!1,null,null,null);const US=zS.exports;let KS=class extends s.ZP{get isBrowseModeEnabled(){return"browse"===c.kD.mode?.mode}get isBrowseModeAvailable(){return"breakdance"===c.PK.builderMode}toggleBrowseMode(){(0,NS.lD)(this.panelToOpen)}};(0,r.gn)([(0,l.fI)({default:"globalSettings"})],KS.prototype,"panelToOpen",void 0),KS=(0,r.gn)([(0,l.wA)({components:{PanelHeaderButton:US}})],KS);const GS=KS,qS=GS;var jS=(0,L.Z)(qS,LS,RS,!1,null,null,null);const YS=jS.exports;var XS=n(38433),QS=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[e.isLoading?t(XS.Z,{attrs:{"justify-center":"","align-center":""}},[t(ld.Z,{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):[e.hasSearchParameters?e._e():t("div",{staticClass:"vscroll-scroll"},[t("ControlsTree",{attrs:{controls:e.controls,path:"settings"}})],1),e.hasSearchParameters&&!e.noSearchResults?t("div",{staticClass:"vscroll-scroll"},[""!==e.searchBoxState.query?t("div",{staticClass:"control-tree-search-term"},[t("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),t("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[t("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams,path:"settings",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?t(Ab.Z,{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[t("SearchBoxEmptyState",{attrs:{label:"settings"},on:{input:e.clearQuery}})],1):e._e(),t("SearchBox",{attrs:{value:e.searchBoxState,location:"settings"},on:{input:e.updateSearchBoxState}})]],2)},JS=[],eP=n(18759);let tP=class extends s.ZP{constructor(){super(...arguments),this.searchBoxState={modifiedOnly:!1,query:""},this.editingGlobalSettingsControlsTreeContext=sP}updateSearchBoxState(e){this.searchBoxState=e}clearQuery(){this.updateSearchBoxState({modifiedOnly:!1,query:""})}get controls(){return X.PK.globalSettingsControlsAndTemplate.controls}get controlsFilteredBySearchParams(){return T_(this.controls,this.searchBoxState.modifiedOnly,this.searchBoxState.query,this.editingGlobalSettingsControlsTreeContext,"settings")}get noSearchResults(){return 0===A_(this.controlsFilteredBySearchParams,0)}get hasSearchParameters(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}};(0,r.gn)([(0,l.fI)({default:!1})],tP.prototype,"isLoading",void 0),(0,r.gn)([(0,l.DF)("context")],tP.prototype,"editingGlobalSettingsControlsTreeContext",void 0),tP=(0,r.gn)([(0,l.wA)({components:{ControlsTree:Rb["default"],SearchBox:Xb,Icon:ze.Z,SearchBoxEmptyState:F_}})],tP);const nP=tP,sP={getControlValue:e=>G()(X.cr.globalSettings,e),setControlValue(e,t,n,s){X.cr.throttledGlobalSettingsPropertyChange((0,jh.YO)({path:e,value:t},{control:n,controlsTree:this.getControls(e)||[]},s))},getControls:()=>X.PK.globalSettingsControlsAndTemplate.controls,setAccordionState:(e,t)=>{(0,eP.v)(e,t)},getAccordionState:e=>(0,eP.uz)(e)},aP=nP;var iP=(0,L.Z)(aP,QS,JS,!1,null,null,null);const oP=iP.exports;var rP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("RevisionsList",{attrs:{"is-loading":e.isLoading,revisions:e.revisionUiItems},on:{revisionSelected:e.onRevisionSelected}})],1)},lP=[],cP=n(95996);async function dP(){return(0,Ur.zG)(await(0,Go.D)({action:"breakdance_retrieve_global_settings_revisions",decoder:cP.qT}),(0,Ko.mapLeft)((()=>null)),Gr.i$)}var uP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-revisions-list vscroll-wrap vscroll-scroll"},[e.isLoading?t(XS.Z,{attrs:{"justify-center":"","align-center":""}},[t(ld.Z,{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):e.revisionsNotSupportedMessage?t("div",{staticClass:"breakdance-revisions-list__not-found"},[t("p",[e._v(e._s(e.revisionsNotSupportedMessage))])]):e.revisions.length?t("div",{staticClass:"breakdance-revisions-list__items"},e._l(e.revisions,(function(n,s){return t("RevisionItem",{key:n.revisionData.id,attrs:{revision:n.revisionData,selected:n.isSelected},on:{click:function(t){return e.onRevisionSelected(n,s)}}})})),1):t("div",{staticClass:"breakdance-revisions-list__not-found"},[t("h2",[e._v("No revisions found")]),t("p",[e._v("Save any changes to create a new revision")])])],1)},pP=[],hP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"revisions-item",class:{"revisions-item--selected":e.selected},on:{click:function(t){return e.$emit("click",e.revision)}}},[t("span",{staticClass:"revisions-item__date"},[e._v(e._s(e.revision.date))]),e.revision.author?[t("span",[e._v(e._s(e.revision.author))])]:e._e()],2)},gP=[];let mP=class extends s.ZP{};(0,r.gn)([(0,l.fI)({default(){return{}}})],mP.prototype,"revision",void 0),(0,r.gn)([(0,l.fI)({default:!1})],mP.prototype,"selected",void 0),mP=(0,r.gn)([(0,l.wA)({})],mP);const vP=mP,fP=vP;var yP=(0,L.Z)(fP,hP,gP,!1,null,null,null);const bP=yP.exports;let _P=class extends s.ZP{onRevisionSelected(e,t){this.$emit("revisionSelected",e,t)}};(0,r.gn)([(0,l.fI)({default:!1})],_P.prototype,"isLoading",void 0),(0,r.gn)([(0,l.fI)({default:[]})],_P.prototype,"revisions",void 0),(0,r.gn)([(0,l.fI)({default:null})],_P.prototype,"revisionsNotSupportedMessage",void 0),_P=(0,r.gn)([(0,l.wA)({components:{RevisionItem:bP}})],_P);const xP=_P,SP=xP;var PP=(0,L.Z)(SP,uP,pP,!1,null,null,null);const CP=PP.exports;var wP=n(25886);let IP=class extends s.ZP{constructor(){super(...arguments),this.isLoading=!1,this.remoteRevisions=null,this.selectedIndex=null,this.unsubscribeFromStore=()=>{},this.currentUnsavedRevision=null}async beforeMount(){await this.loadRemoteRevisions(),X.cr.settingsHasUnsavedChangesPresent&&(this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(),-1===this.selectedIndex&&this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData()),this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(),this.unsubscribeFromStore=this.$store.subscribe((e=>{const t=(0,wP.q$)(e);"global"===t&&"global/restoreGlobalSettingsRevision"!==e.type&&"global/setSelectors"!==e.type&&("global/setGlobalSettings"===e.type?this.currentUnsavedRevision=null:this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData(),this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch())}))}beforeDestroy(){this.unsubscribeFromStore()}async loadRemoteRevisions(){this.isLoading=!0,this.remoteRevisions=await dP(),this.selectedIndex=null,this.isLoading=!1}recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(){this.selectedIndex=this.findSelectedIndexBasedOnStoreDataMatch()}findSelectedIndexBasedOnStoreDataMatch(){const e=(0,ur.Z)(X.cr.globalSettings);return this.revisions.findIndex((t=>fd()(t.globalSettings,e)))}setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData(){this.isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData()?this.currentUnsavedRevision=null:this.setCurrentUnsavedRevisionFromCurrentStoreData()}isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData(){if(null===this.remoteRevisions||0===this.remoteRevisions.length)return!1;const[e]=this.remoteRevisions,t=(0,ur.Z)(X.cr.globalSettings);return fd()(e.globalSettings,t)}setCurrentUnsavedRevisionFromCurrentStoreData(){this.currentUnsavedRevision={id:-1,author:!1,date:"Current",globalSettings:(0,ur.Z)(X.cr.globalSettings)}}get revisionUiItems(){return this.revisions.map(((e,t)=>({isSelected:t===this.selectedIndex,revisionData:e})))}get revisions(){const e=this.remoteRevisions??[];return this.currentUnsavedRevision?[this.currentUnsavedRevision,...e]:e}onRevisionSelected(e,t){this.selectedIndex=t,Ce.n.transaction((()=>X.cr.restoreGlobalSettingsRevision(e.revisionData)),"Restore Global Settings From Revision")}get unsavedChangesPresent(){return X.kD.unsavedChangesPresent}async updateRevisionsAfterSaving(){X.kD.unsavedChangesPresent||(await this.loadRemoteRevisions(),this.currentUnsavedRevision=null,this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch())}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent")],IP.prototype,"updateRevisionsAfterSaving",null),IP=(0,r.gn)([(0,l.wA)({components:{RevisionsList:CP}})],IP);const kP=IP,DP=kP;var EP=(0,L.Z)(DP,rP,lP,!1,null,null,null);const TP=EP.exports;var ZP=n(1073),AP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({class:"breakdance"===e.builderMode?"breakdance-panel-header-left-of-close-button":"",attrs:{size:"breakdance"===e.builderMode?16:14,small:"",icon:"breakdance"===e.builderMode?"EllipsisStrokeIcon":"EllipsisSolidIcon"}},n))]}}])},[t(ho.Z,[t(go.Z,{attrs:{dense:""},on:{click:e.openImportDialog}},[t(mo.V9,[e._v(" Import "+e._s(e.name)+" ")])],1),t(go.Z,{attrs:{dense:""},on:{click:e.exportSettings}},[t(mo.V9,[e._v(" Export "+e._s(e.name)+" ")])],1)],1)],1),t("Dialog",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Import "+e._s(e.name)+" ")]},proxy:!0},{key:"text",fn:function(){return[t("FileUpload",{attrs:{height:"300px",accept:".json",acceptsMultiple:!1},on:{input:e.handleFiles}},[e.canImport?[e._v(" File accepted ")]:[e._v(" Drag "+e._s(e.slugifiedName)+".json here ")]],2),e.canMerge?t(oh.Z,{attrs:{label:`Merge with the existing ${e.name}.`,"hide-details":""},model:{value:e.merge,callback:function(t){e.merge=t},expression:"merge"}}):e._e()]},proxy:!0},{key:"actions",fn:function(){return[t(qs.Z,{staticStyle:{"margin-right":"auto"},attrs:{text:""},on:{click:e.cancelImport}},[e._v(" Cancel ")]),t(qs.Z,{attrs:{dark:"",color:"blue",disabled:!e.canImport},on:{click:e.runImport}},[e._v(" Import ")])]},proxy:!0}]),model:{value:e.importDialogOpen,callback:function(t){e.importDialogOpen=t},expression:"importDialogOpen"}})],1)},BP=[],MP=n(88506);function OP(e,t,n="text/plain"){const s=new Blob([e],{type:n}),a=document.createElement("a");a.download=t,a.href=(window.webkitURL||window.URL).createObjectURL(s),a.dataset.downloadurl=[n,a.download,a.href].join(":"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(a.href)}let LP=class extends l.w3{constructor(){super(...arguments),this.canImport=!1,this.importDialogOpen=!1,this.settingsToImport={},this.merge=!1}get slugifiedName(){return gv()(this.name,{lower:!0})}openImportDialog(){this.importDialogOpen=!0}cancelImport(){this.settingsToImport={},this.canImport=!1,this.importDialogOpen=!1}handleFiles(e){const t=e?.[0],n=new FileReader;n.onloadend=async e=>{if(!e?.target)return;const t=e.target.result,n=(0,Uo.pipe)((0,MP.Z)(t),(0,Ko.fold)((()=>{}),(e=>e)));if(!this.validateSettings(n))return this.settingsToImport={},void(this.canImport=!1);this.settingsToImport=n,this.canImport=!0},n.readAsText(t)}runImport(){this.importSettings(this.settingsToImport,this.merge?"merge":"replace"),this.settingsToImport={},this.canImport=!1,this.importDialogOpen=!1}exportSettings(){const e=(0,ip.g)(this.settingsToExport);OP(e||"",`${this.slugifiedName}.json`)}get builderMode(){return c.PK.builderMode}};(0,r.gn)([(0,l.fI)({default:"Global Settings"})],LP.prototype,"name",void 0),(0,r.gn)([(0,l.fI)()],LP.prototype,"settingsToExport",void 0),(0,r.gn)([(0,l.fI)({default:!1})],LP.prototype,"canMerge",void 0),(0,r.gn)([(0,l.fI)()],LP.prototype,"validateSettings",void 0),(0,r.gn)([(0,l.fI)()],LP.prototype,"importSettings",void 0),LP=(0,r.gn)([(0,l.wA)({components:{IconButton:oo.Z,Dropdown:yo.Z,Dialog:Xs.Z,FileUpload:Eu.Z}})],LP);const RP=LP,NP=RP;var FP=(0,L.Z)(NP,AP,BP,!1,null,null,null);const $P=FP.exports;let VP=class extends s.ZP{constructor(){super(...arguments),this.storedData=null,this.isStoringData=!1,this.isLoadingData=!1}get viewMode(){return X.kD.panelState.globalSettingsPanelActiveViewMode}toggleViewMode(){X.kD.setPanelState({...X.kD.panelState,globalSettingsPanelActiveViewMode:"controls"===this.viewMode?"history":"controls"})}get isLoading(){return this.isStoringData||this.isLoadingData}async beforeMount(){X.kD.panelState.shouldLoadFreshDataIntoStoreOnceOpened.globalSettings?(X.kD.setPanelState({...X.kD.panelState,globalSettingsPanelActiveViewMode:"controls"}),await this.loadSettings()):X.kD.setShouldPanelLoadFreshDataIntoStoreOnceOpened("globalSettings",!0)}async storeSettings(){this.isStoringData=!0;const e=await(0,ZP.T)();return this.storedData=(0,ur.Z)(X.cr.globalSettings),this.isStoringData=!1,e}async loadSettings(){this.isLoadingData=!0;const e=await(0,ZP._)();return this.storedData=(0,ur.Z)(X.cr.globalSettings),this.isLoadingData=!1,e}get unsavedChangesPresent(){return X.cr.settingsHasUnsavedChangesPresent}requestPanelClosingConfirmation(){X.kD.requestClosingConfirmation({subject:"globalSettings",confirmationDefinition:{title:"You have unsaved changes to your Global Settings.",text:"Would you like to save or discard these changes?",type:"info"}})}handleUnsavedChangesPresentChange(e){e?this.requestPanelClosingConfirmation():X.kD.noClosingConfirmationIsNeededFor("globalSettings")}get confirmationChosenOption(){return X.kD.closingConfirmations.globalSettings?.chosenOption}async handleConfirmationChosenOptionChange(e){"discard"===e?(X.kD.setClosingConfirmationIsDiscarding({subject:"globalSettings",isDiscarding:!0}),await this.loadSettings()?this.close():this.requestPanelClosingConfirmation()):"save"===e&&(X.kD.setClosingConfirmationIsSaving({subject:"globalSettings",isSaving:!0}),await this.storeSettings()?this.close():this.requestPanelClosingConfirmation())}close(){(0,Pl.TO)("globalSettings")}get settingsToExport(){return X.cr.globalSettings}validateImport(e){return"settings"in e?(0,Ur.zG)(e,Kr.dt({settings:Kr.IM(Kr.Z_,Kr._4)}).decode,(0,Gr.g_)((()=>(Yo.Z.log.errorMessage("Error importing Global Settings - the file is invalid."),!1)),(()=>!0))):(Yo.Z.log.errorMessage("Error importing Global Settings - the file is invalid or empty."),!1)}importSettings(e){"settings"in e?(Ce.n.transaction((()=>{X.cr.setGlobalSettings(e)}),"Import Global Settings"),Yo.Z.log.message("Global Settings imported.")):Yo.Z.log.errorMessage("No Global Settings to import.")}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent",{immediate:!0})],VP.prototype,"handleUnsavedChangesPresentChange",null),(0,r.gn)([(0,l.RL)("confirmationChosenOption",{immediate:!0})],VP.prototype,"handleConfirmationChosenOptionChange",null),VP=(0,r.gn)([(0,l.wA)({components:{GlobalSettingsPanelHistoryViewMode:TP,GlobalSettingsPanelControlsViewMode:oP,PanelHeaderButton:US,BrowseModeToggle:YS,PanelHeader:DS,ImportExportDropdownMenu:$P}})],VP);const WP=VP,HP=WP;var zP=(0,L.Z)(HP,MS,OS,!1,null,null,null);const UP=zP.exports;var KP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll selectors-panel"},[e.isLoadingData?t(XS.Z,{attrs:{row:"","justify-center":"","align-center":""}},[t(ld.Z,{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):e._e(),e.activeSelector?t("EditSelector",{on:{close:e.close}}):e._e(),e.activeSelector||e.isLoadingData?e._e():t("ManageSelectors",{on:{close:e.close}})],1)},GP=[],qP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("PanelHeader",{on:{close:function(t){return e.$emit("close")}}},[e._v("Selectors "),t("BrowseModeToggle",{attrs:{"panel-to-open":"selectors"}}),t("PanelHeaderButton",{attrs:{enabled:"history"===e.viewMode},on:{click:e.toggleViewMode}},[e._v("history")])],1),t("FreeModeAlertForSelectors",{staticClass:"ma-4"}),"controls"===e.viewMode?[t("AddSelector"),t("div",{staticClass:"vscroll-wrap vscroll-scroll breakdance-manage-selectors"},[t("SelectorsList",{attrs:{selectors:e.selectors,searchable:!0},on:{input:e.updateSelectors}})],1)]:"history"===e.viewMode?[t("SelectorsPanelHistoryViewMode")]:e._e()],2)},jP=[],YP=n(98300),XP=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"d-flex flex-row add-selector"},[t("TextInput",{staticClass:"flex-grow-1",attrs:{placeholder:".your.css > #selector-69::after"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addSelector.apply(null,arguments)}},model:{value:e.newSelectorName,callback:function(t){e.newSelectorName=t},expression:"newSelectorName"}}),t("NiceButton",{staticClass:"ml-1",attrs:{size:"small"},on:{click:e.addSelector}},[e._v(" Add ")])],1)},QP=[],JP=n(37982);let eC=class extends s.ZP{constructor(){super(...arguments),this.newSelectorName=""}addSelector(){this.newSelectorName&&((0,Uo.pipe)((0,JP.DQ)(this.newSelectorName),(0,Ko.fold)((e=>e.forEach(Yo.Z.log.message)),(e=>(0,JP.Fr)(e)))),this.newSelectorName="")}};eC=(0,r.gn)([(0,l.wA)({components:{NiceButton:Wr.Z,TextInput:Qs.Z}})],eC);const tC=eC,nC=tC;var sC=(0,L.Z)(nC,XP,QP,!1,null,null,null);const aC=sC.exports;var iC=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("RevisionsPanel",{attrs:{resources:e.selectors,"resource-key":e.resourceKey,"resource-has-unsaved-changes-present":e.hasUnsavedChangesPresent,"fetch-revisions-method":e.fetchRevisionsMethod,"update-method":"setSelectors","restore-method":"restoreSelectorsRevision"}})},oC=[];async function rC(){return(0,Ur.zG)(await(0,Go.D)({action:"breakdance_retrieve_selectors_revisions",decoder:cP.Ue}),(0,Ko.mapLeft)((()=>null)),Gr.i$)}var lC=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("RevisionsList",{attrs:{"is-loading":e.isLoading,revisions:e.revisionUiItems},on:{revisionSelected:e.onRevisionSelected}})},cC=[];let dC=class extends s.ZP{constructor(){super(...arguments),this.isLoading=!1,this.remoteRevisions=null,this.selectedIndex=null,this.unsubscribeFromStore=()=>{},this.currentUnsavedRevision=null}async updateRevisionsAfterSaving(){this.unsavedChangesPresent||(await this.loadRemoteRevisions(),this.currentUnsavedRevision=null,this.recalculateSelectedIndex())}get unsavedChangesPresent(){return X.kD.unsavedChangesPresent}get revisionUiItems(){return this.revisions.map(((e,t)=>({isSelected:t===this.selectedIndex,revisionData:e})))}get revisions(){const e=this.remoteRevisions??[];return this.currentUnsavedRevision?[this.currentUnsavedRevision,...e]:e}async beforeMount(){await this.loadRemoteRevisions(),this.resourceHasUnsavedChangesPresent&&(this.recalculateSelectedIndex(),-1===this.selectedIndex&&this.updateUnsavedRevisionIfNeeded()),this.recalculateSelectedIndex(),this.unsubscribeFromStore=this.$store.subscribe((e=>{const t=(0,wP.q$)(e);"global"===t&&e.type!==`global/${this.restoreMethod}`&&"global/setGlobalSettings"!==e.type&&(e.type===`global/${this.updateMethod}`?this.currentUnsavedRevision=null:this.updateUnsavedRevisionIfNeeded(),this.recalculateSelectedIndex())}))}beforeDestroy(){this.unsubscribeFromStore()}async loadRemoteRevisions(){this.isLoading=!0,this.remoteRevisions=await this.fetchRevisionsMethod(),this.selectedIndex=null,this.isLoading=!1}recalculateSelectedIndex(){const e=(0,ur.Z)(this.resources);this.selectedIndex=this.revisions.findIndex((t=>fd()(t[this.resourceKey],e)))}updateUnsavedRevisionIfNeeded(){this.hasCurrentStoreDataChanged()?this.currentUnsavedRevision=null:this.setUnsavedRevisionFromStore()}hasCurrentStoreDataChanged(){if(null===this.remoteRevisions)return!1;const[e]=this.remoteRevisions,t=(0,ur.Z)(this.resources);return fd()(e[this.resourceKey],t)}setUnsavedRevisionFromStore(){this.currentUnsavedRevision={id:-1,author:!1,date:"Current",[this.resourceKey]:(0,ur.Z)(this.resources)}}onRevisionSelected(e,t){this.selectedIndex=t,Ce.n.transaction((()=>X.cr[this.restoreMethod](e.revisionData)),`Restore ${this.resourceKey} from revision`)}};(0,r.gn)([(0,l.fI)({required:!0})],dC.prototype,"resourceKey",void 0),(0,r.gn)([(0,l.fI)({required:!0})],dC.prototype,"restoreMethod",void 0),(0,r.gn)([(0,l.fI)({required:!0})],dC.prototype,"updateMethod",void 0),(0,r.gn)([(0,l.fI)({required:!0})],dC.prototype,"fetchRevisionsMethod",void 0),(0,r.gn)([(0,l.fI)({required:!0})],dC.prototype,"resources",void 0),(0,r.gn)([(0,l.fI)({required:!0})],dC.prototype,"resourceHasUnsavedChangesPresent",void 0),(0,r.gn)([(0,l.RL)("unsavedChangesPresent")],dC.prototype,"updateRevisionsAfterSaving",null),dC=(0,r.gn)([(0,l.wA)({components:{RevisionsList:CP}})],dC);const uC=dC,pC=uC;var hC=(0,L.Z)(pC,lC,cC,!1,null,null,null);const gC=hC.exports;let mC=class extends s.ZP{constructor(){super(...arguments),this.resourceKey="selectors"}get selectors(){return X.cr.cssSelectors}get hasUnsavedChangesPresent(){return X.cr.selectorsHasUnsavedChangesPresent}get fetchRevisionsMethod(){return rC}};mC=(0,r.gn)([(0,l.wA)({components:{RevisionsPanel:gC,RevisionsList:CP}})],mC);const vC=mC,fC=vC;var yC=(0,L.Z)(fC,iC,oC,!1,null,null,null);const bC=yC.exports;var _C=n(47034);let xC=class extends s.ZP{get viewMode(){return c.kD.panelState.selectorsPanelPanelActiveViewMode}toggleViewMode(){c.kD.setPanelState({...c.kD.panelState,selectorsPanelPanelActiveViewMode:"controls"===this.viewMode?"history":"controls"})}get selectors(){return c.cr.cssSelectors}updateSelectors(e){c.cr.setSelectors((0,ur.Z)(e))}};xC=(0,r.gn)([(0,l.wA)({components:{FreeModeAlertForSelectors:_C.Z,AlertBox:qu.Z,SelectorsPanelHistoryViewMode:bC,PanelHeaderButton:US,BrowseModeToggle:YS,draggable:fh(),SelectorsList:YP.Z,AddSelector:aC,PanelHeader:DS}})],xC);const SC=xC,PC=SC;var CC=(0,L.Z)(PC,qP,jP,!1,null,null,null);const wC=CC.exports;var IC=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.activeSelector?t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("PanelHeader",{attrs:{backInsteadOfClose:!0},on:{close:e.close}},[e._v(" Editing Selector ")]),t("FreeModeAlertForSelectors",{staticClass:"ma-4"}),t("div",{staticClass:"breakdance-selector-titlebar"},[t("div",{staticClass:"flex-grow-1 mr-2"},[e.editingClassOrClassHover?[t("div",{staticClass:"d-flex flex-row align-center flex-wrap mr-2"},[t("transition",{attrs:{name:"blink-on-change"}},[t("div",{key:e.activeSelector.name,staticClass:"selector-titlebar-classname mr-1 ml-n1"},[e._v(" "+e._s(e.activeSelector.name.replace(":hover",""))+" ")])]),t(qs.Z,{class:["editing-class-hover-hover-button-always",e.editingClassHover?"editing-class-hover-hover-button-active":"editing-class-hover-hover-button"],attrs:{"x-small":"",depressed:""},on:{click:e.toggleHover}},[e._v(" :hover ")])],1)]:[t("div",{staticClass:"d-flex flex-column"},[t("TextInput",{attrs:{value:e.activeSelector.name},on:{input:e.tryToRenameActiveSelector}})],1)]],2),e.selectorIsHighlightable?t(ax.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{icon:"SearchFileIcon",size:"16",active:e.highlight},on:{click:e.toggleHighlight}},n))]}}],null,!1,3251607670)},[t("span",[e._v(e._s(e.howManyOnPage)+" on page")])]):e._e(),t("IconButton",{attrs:{icon:"TrashIcon",size:"16"},on:{click:e.deleteSelector}})],1),""!==e.searchBoxState.query&&e.hasSearchParameters&&!e.noSearchResults?t("div",{staticClass:"control-tree-search-term control-tree-search-term-selector"},[t("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),t("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[t("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),e.editingClassOrClassHover||!e.attemptingToRename||e.isAttemptedRenameValid?e._e():t("div",{staticClass:"edit-selector-invalid-name-error"},[e._v(" invalid selector name ")]),t("div",{staticClass:"edit-selector-border"}),e.hasSearchParameters?e._e():t("div",{staticClass:"vscroll-scroll"},[t("ControlsTree",{attrs:{controls:e.controls,path:"properties"}})],1),e.hasSearchParameters&&!e.noSearchResults?t("div",{staticClass:"vscroll-scroll"},[t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams,path:"properties",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?t(Ab.Z,{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[t("SearchBoxEmptyState",{attrs:{label:"selectors"},on:{input:e.clearQuery}})],1):e._e(),t("SearchBox",{attrs:{value:e.searchBoxState,location:"selector"},on:{input:e.updateSearchBoxState}})],1):e._e()},kC=[],DC=n(5598);let EC=class extends s.ZP{constructor(){super(...arguments),this.searchBoxState={modifiedOnly:!1,query:""},this.highlight=!1,this.attemptingToRename=!1,this.editingClassControlsTreeContext=AC}updateSearchBoxState(e){this.searchBoxState=e}clearQuery(){this.updateSearchBoxState({modifiedOnly:!1,query:""})}get hasSearchParameters(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}get controlsFilteredBySearchParams(){return T_(this.controls,this.searchBoxState.modifiedOnly,this.searchBoxState.query,this.editingClassControlsTreeContext,"properties")}get noSearchResults(){return 0===A_(this.controlsFilteredBySearchParams,0)}get howManyOnPage(){if(!c.kD.activeSelector)return 0;const e=this.editingClassHover?c.kD.activeSelector.name.replace(":hover",""):c.kD.activeSelector.name,t=window.Breakdance.canvas.document.querySelectorAll(e);return t.length}get editingClass(){return!!this.activeSelector&&"class"===this.activeSelector.type}get editingClassHover(){return!!this.activeSelector&&(!!this.activeSelector.name.endsWith(":hover")&&!!ZC(this.activeSelector.name.replace(":hover","")))}get editingClassOrClassHover(){return this.editingClass||this.editingClassHover}get selectorIsHighlightable(){return!!c.kD.activeSelectorName&&!(c.kD.activeSelectorName.includes(":")&&!this.editingClassHover)}get controls(){return c.PK.selectorControls}get activeSelector(){return c.kD.activeSelector}toggleHighlight(){this.highlight?this.clearHighlight():this.setHighlight()}beforeDestroy(){this.clearHighlight()}setHighlight(){if(this.highlight=!0,!c.kD.activeSelector)return;const e=this.editingClassHover?c.kD.activeSelector.name.replace(":hover",""):c.kD.activeSelector.name;(0,DC.BL)((0,D.RY)(),"breakdance-selector-highlight",`${e} {\n          outline: 10px dashed rgba(255,200,0) !important;\n          outline-offset: -5px;\n          animation-duration: 2000ms;\n          animation-iteration-count: infinite;\n        }\n        `)}clearHighlight(){this.highlight=!1,(0,DC.BL)((0,D.RY)(),"breakdance-selector-highlight","")}deleteSelector(){if(!this.activeSelector)return;const e=this.activeSelector,t=c.cr.cssSelectors.findIndex((t=>t.name===e.name));if(-1!==t){const e=(0,ur.Z)(c.cr.cssSelectors);e.splice(t,1),c.cr.setSelectors(e)}}close(){this.backToAllSelectors()}get activeElementTitle(){return!!c.kD.activeElement&&c.PK.element(c.kD.activeElement.data.type).name}openElementProperties(){(0,Pl.oM)("elementproperties")}backToAllSelectors(){c.kD.setActiveSelectorName(null)}get isAttemptedRenameValid(){return!this.attemptingToRename||(0,JP._S)(this.attemptingToRename)}tryToRenameActiveSelector(e){if(!e)return;if(this.attemptingToRename=e,this.clearHighlight(),!(0,JP._S)(e))return;const t=c.cr.cssSelectors.findIndex((e=>e===this.activeSelector)),n=(0,ur.Z)(c.cr.cssSelectors);n[t]&&(n[t].name=e,c.cr.setSelectors(n),c.kD.setActiveSelectorName(e),this.attemptingToRename=!1)}toggleHover(){if(c.kD.activeSelector)if(this.editingClass){const e=c.kD.activeSelectorName+":hover",t=()=>c.cr.cssSelectors.find((t=>t.name===e));let n=t();if(n||((0,JP.Fr)({name:e,type:"custom",properties:{}}),n=t()),!n)return void Yo.Z.log.message(`Unable to create or find a :hover selector for ${c.kD.activeSelectorName}`);c.kD.setActiveSelectorName(n.name),(0,Pl.oM)("selectors")}else if(this.editingClassHover&&this.activeSelector){const e=ZC(this.activeSelector.name.replace(":hover",""));e&&(c.kD.setActiveSelectorName(e.name),(0,Pl.oM)("selectors"))}}};(0,r.gn)([(0,l.DF)("context")],EC.prototype,"editingClassControlsTreeContext",void 0),EC=(0,r.gn)([(0,l.wA)({components:{FreeModeAlertForSelectors:_C.Z,AlertBox:qu.Z,ControlsTree:Rb["default"],SearchBox:Xb,IconButton:oo.Z,PanelHeader:DS,TextInput:Qs.Z,SearchBoxEmptyState:F_,Icon:ze.Z}})],EC);const TC=EC,ZC=e=>c.cr.cssSelectors.find((t=>t.name===e)),AC={getControls:()=>c.PK.selectorControls,getControlValue:e=>G()(c.kD.activeSelector,`${e}`,void 0),setControlValue(e,t,n,s){c.kD.activeSelector&&c.cr.throttledSelectorPropertyChange((0,jh.V5)({selector:c.kD.activeSelector,path:e,value:t},{control:n,controlsTree:this.getControls(e)||[]},s))},setAccordionState:(e,t)=>{const n=c.kD.activeSelector&&c.kD.activeSelector.name;n&&(0,eP.MK)(n,e,t)},getAccordionState:e=>{const t=c.kD.activeSelector&&c.kD.activeSelector.name;return!!t&&(0,eP.jv)(t,e)}},BC=TC;var MC=(0,L.Z)(BC,IC,kC,!1,null,null,null);const OC=MC.exports;let LC=class extends s.ZP{constructor(){super(...arguments),this.isLoadingData=!1,this.isStoringData=!1}get activeSelector(){return c.kD.activeSelector}async beforeMount(){c.kD.panelState.shouldLoadFreshDataIntoStoreOnceOpened.selectors?(c.kD.setPanelState({...c.kD.panelState,selectorsPanelPanelActiveViewMode:"controls"}),await this.load()):c.kD.setShouldPanelLoadFreshDataIntoStoreOnceOpened("selectors",!0)}async load(){this.isLoadingData=!0;const e=await(0,JP.c3)();return this.isLoadingData=!1,e}async save(){this.isStoringData=!0;const e=await(0,JP.zF)();return this.isStoringData=!1,e}requestPanelClosingConfirmation(){c.kD.requestClosingConfirmation({subject:"selectors",confirmationDefinition:{title:"You have unsaved changes to your Selectors.",text:"Would you like to save or discard these changes?",type:"info"}})}get unsavedChangesPresent(){return c.cr.selectorsHasUnsavedChangesPresent}handleUnsavedChangesPresentChange(e){e?this.requestPanelClosingConfirmation():c.kD.noClosingConfirmationIsNeededFor("selectors")}get confirmationChosenOption(){return c.kD.closingConfirmations.selectors?.chosenOption}async handleConfirmationChosenOptionChange(e){"discard"===e?(c.kD.setClosingConfirmationIsDiscarding({subject:"globalSettings",isDiscarding:!0}),await this.load()?this.close():this.requestPanelClosingConfirmation()):"save"===e&&(c.kD.setClosingConfirmationIsSaving({subject:"globalSettings",isSaving:!0}),await this.save()?this.close():this.requestPanelClosingConfirmation())}get isLoading(){return this.isLoadingData||this.isStoringData}close(){(0,Pl.TO)("selectors")}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent",{immediate:!0})],LC.prototype,"handleUnsavedChangesPresentChange",null),(0,r.gn)([(0,l.RL)("confirmationChosenOption",{immediate:!0})],LC.prototype,"handleConfirmationChosenOptionChange",null),LC=(0,r.gn)([(0,l.wA)({components:{EditSelector:OC,ManageSelectors:wC}})],LC);const RC=LC,NC=RC;var FC=(0,L.Z)(NC,KP,GP,!1,null,null,null);const $C=FC.exports;var VC=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-structure-panel vscroll-wrap vscroll-scroll"},[t("PanelHeader",{ref:"panelHeader",on:{close:e.close},scopedSlots:e._u([{key:"right",fn:function(){return[e.children.length&&"breakdance"===e.builderMode?t("button",{staticClass:"breakdance-structure-panel__toggle-button mr-2",on:{click:e.toggleNodes}},[1===e.toggleStage?[e._v("Expand")]:e._e(),[0,2].includes(e.toggleStage)?[e._v("Collapse")]:e._e()],2):e._e(),e.children.length&&"oxygen"===e.builderMode?[t(ax.Z,{attrs:{"content-class":"oxy-tab-tooltip",bottom:"","open-delay":500,transition:"0"},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({staticClass:"breakdance-toolbar-icon-button",attrs:{icon:1===e.toggleStage?"ArrowsFromLineIcon":([0,2].includes(e.toggleStage),"ArrowsToLineIcon"),size:14,small:""},on:{click:e.toggleNodes}},n))]}}],null,!1,78411681)},[t("span",[e._v(e._s(1===e.toggleStage?"Expand":([0,2].includes(e.toggleStage),"Collapse")))])])]:e._e(),t("StructurePanelDropdownMenu")]},proxy:!0}])},[e._v(" Structure ")]),t("div",{class:e.classList,on:{contextmenu:e.onContextMenu}},[t("div",{staticClass:"structure-node root-node",attrs:{"data-element-id":e.ROOT_ELEMENT_ID},on:{mousedown:e.dragStart}},[t("div",{staticClass:"structure-node-title-wrapper"},[t("div",{staticClass:"structure-node-title",staticStyle:{"margin-left":"-16px",display:"none"}},[e._v(" Root Node ")]),t("div",{staticClass:"top-half",attrs:{"data-element-id":e.ROOT_ELEMENT_ID,"data-depth":-1}}),t("div",{staticClass:"bottom-half",attrs:{"data-element-id":e.ROOT_ELEMENT_ID,"data-depth":-1}})]),e.children.length>0?t("ChildStructureNodes",{attrs:{nodes:e.children,depth:0}}):t("div",{staticClass:"structure-panel-empty-state"},[t("h5",[e._v("No Elements")]),t("p",[e._v("Add an element to your page and it will show up here.")]),t("StandardButton",{staticClass:"open-elements-toolbar-button ml-auto mr-auto",attrs:{size:"22",testId:"open-elements-toolbar-button"},on:{click:e.toggleAdd}},[e._v(" Add ")])],1)],1)]),t("RightClickMenu",{attrs:{context:"structure-panel"}})],1)},WC=[];function HC(){return{overTopHalf:!1,overBottomHalf:!1,overIndex:!1,overNodeId:!1,overNodeParentId:!1,overSelf:!1,overNestDeeper:!1,overNestShallower:!1}}function zC(e,t){const n=document.elementsFromPoint(e,t).filter(UC("structure-node")).sort(KC).reverse().pop();if(n){const e=n.dataset.elementId;if(e)return(0,D.ME)(e)}return!1}const UC=e=>t=>!!t.classList.contains(e),KC=(e,t)=>parseInt(e.dataset.depth)>parseInt(t.dataset.depth)?-1:parseInt(t.dataset.depth)>parseInt(e.dataset.depth)?1:0,GC=(e,t)=>{const n=e.filter(UC(t));return n.length>0&&(0,D.ME)(n[0].dataset.elementId)},qC=(e,t,n)=>{const s=document.elementsFromPoint(e,t),a=HC();if(a.overNestDeeper=GC(s,"nest-deeper"),a.overNestShallower=GC(s,"nest-shallower"),a.overTopHalf=GC(s,"top-half"),a.overBottomHalf=GC(s,"bottom-half"),a.overSelf=!1!==GC(s,"breakdance--currently-dragging"),a.overBottomHalf?a.overNodeId=a.overBottomHalf:a.overTopHalf&&(a.overNodeId=a.overTopHalf),a.overNodeId){const e=(0,he.Lf)(n,a.overNodeId),t=(0,he.E)(n,a.overNodeId);!1!==t&&!1!==e&&(a.overIndex=t,a.overNodeParentId=e.id)}return a};var jC=n(98992);function YC(e,t,n){let s=!1;const a=(0,he.DY)(t,n);if(!a)return!1;if(e.overSelf){if(e.overSelf){if(iw(n,t)&&e.overNestShallower===n){let e=!1;s=tw(n,t),s&&(e=s.parentId);while(e){if((0,Re.xJ)(t,a,e))break;if(!s||(0,Re.xJ)(t,a,s.parentId)||!iw(e,t))break;{const n=(0,he.Lf)(t,e);e=!!n&&n.id,e&&(s=ew(e,t))}}}ow(n,t)&&e.overNestDeeper===n&&(s=nw(n,t))}}else if(e.overTopHalf){s=XC(e.overTopHalf,t),n===sw(e.overTopHalf,t)&&(s=!1);const i=sw(e.overTopHalf,t);s&&i&&(0,Re.xJ)(t,a,i)&&(s=ew(i,t))}else if(e.overBottomHalf&&(0===aw(e.overBottomHalf,t)||(0,jC.nx)(e.overBottomHalf))){if(s=QC(e.overBottomHalf,t),s&&(0,Re.xJ)(t,a,s.parentId)){const n=(0,he.E)(t,a.id),i=(0,he.Lf)(t,a.id);!1!==n&&!1!==i&&s&&e.overIndex&&s.parentId===i.id&&n<e.overIndex&&(s.index=s.index-1)}else s&&!(0,Re.xJ)(t,a,s.parentId)&&(s=JC(e.overBottomHalf));if(s&&!(0,Re.xJ)(t,a,s.parentId)&&iw(e.overBottomHalf,t)){let n=!1;if(e.overBottomHalf){const s=(0,he.Lf)(t,e.overBottomHalf);n=!!s&&s.id}while(n){s=QC(n,t);const e=(0,he.Lf)(t,a.id);if(s&&e&&s.parentId===e.id){const e=(0,he.E)(t,a.id),i=(0,he.E)(t,n);e<i&&(s.index=s.index-1)}if(s)if(!(0,Re.xJ)(t,a,s.parentId)&&iw(n,t)){const e=(0,he.Lf)(t,n);n=!!e&&e.id}else n=!1;else n=!1}}}else e.overBottomHalf&&aw(e.overBottomHalf,t)>0&&(s=JC(e.overBottomHalf));if(!s)return!1;const i=(0,Re.xJ)(t,a,s.parentId);return!!i&&s}function XC(e,t){const n=(0,he.E)(t,e),s=(0,he.Lf)(t,e);return!1!==n&&!1!==s&&{parentId:s.id,index:n}}function QC(e,t){const n=(0,he.E)(t,e),s=(0,he.Lf)(t,e);return!1!==n&&!1!==s&&{parentId:s.id,index:n+1}}function JC(e){return{parentId:e,index:0}}function ew(e,t){const n=aw(e,t);return!1!==n&&{parentId:e,index:n}}function tw(e,t){const n=(0,he.Lf)(t,e);return!!n&&QC(n.id,t)}function nw(e,t){const n=sw(e,t);return!!n&&ew(n,t)}function sw(e,t){const n=(0,he.E)(t,e),s=(0,he.Lf)(t,e);return!1!==n&&!1!==s&&(!(n<1)&&s.children[n-1].id)}function aw(e,t){const n=(0,he.DY)(t,e);return!!n&&n.children.length}function iw(e,t){const n=(0,he.E)(t,e),s=(0,he.Lf)(t,e);if(!1===n||!1===s)return;const a=aw(s.id,t);return a?1===a||n===a-1:void 0}function ow(e,t){const n=(0,he.E)(t,e);if(!1!==n)return n>0}var rw=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({class:"breakdance"===e.builderMode?" breakdance-panel-header-left-of-close-button":"breakdance-panel-icon-button",attrs:{size:"breakdance"===e.builderMode?16:12,small:"",icon:"breakdance"===e.builderMode?"EllipsisStrokeIcon":"EllipsisSolidIcon"}},n))]}}])},[t(ho.Z,[t(go.Z,{attrs:{dense:""},on:{click:e.copy}},[t(mo.V9,[e._v(" Copy All Elements ")])],1),t(go.Z,{attrs:{dense:""},on:{click:e.paste}},[t(mo.V9,[e._v(" Paste Elements ")])],1)],1)],1)},lw=[];let cw=class extends l.w3{copy(){(0,Ns.wp)(c.Hb.document.tree.root.children.map((e=>e.id)))}get builderMode(){return c.PK.builderMode}async paste(){const e=(await(0,Ns.ij)())?.element;Array.isArray(e)?(0,Ox.AE)(e,"pasting"):e?(0,Ns.HR)(null,e):alert("nothing to paste")}};cw=(0,r.gn)([(0,l.wA)({components:{IconButton:oo.Z,Dropdown:yo.Z}})],cw);const dw=cw,uw=dw;var pw=(0,L.Z)(uw,rw,lw,!1,null,null,null);const hw=pw.exports;let gw=class extends l.w3{constructor(){super(...arguments),this.mouseDragStatus={...HC()},this.forceGrabbingCursor=!1,this.firstDragMovement=!0,this.draggedNodeId=!1,this.lastSubmittedDrag=!1,this.didMoveElement=!1,this.unsubscribeFromActivateElementMutation=null,this.easyEvent=new Z.hF,this.delayedExpandNodeTimeout=null,this.toggleStage=2}close(){(0,Pl.TO)("structure")}get classList(){return{"structure-panel-content-wrapper":!0,"is-draggable":this.hasPermission,"drag-in-progress":c.kD.isCanvasElementBeingDragged,"force-grabbing-cursor":this.forceGrabbingCursor}}beforeCreate(){this.$options.components.ChildStructureNodes=n(71600).Z}get activeElementId(){return c.kD.activeElementId}get builderMode(){return c.PK.builderMode}get children(){if(c.kD.inlineEditingContext?.elementId){const e=(0,he.DY)(c.Hb.document.tree,c.kD.inlineEditingContext.elementId);return e?.children||[]}return this.rootElement.children}mounted(){this.expandToShowActiveElementWatch(),this.unsubscribeFromActivateElementMutation=this.$store.subscribe((({type:e})=>{"ui/activateElementMutation"===e&&this.expandToShowActiveElementWatch()}))}expandToShowActiveElementWatch(){if(this.activeElementId){const e=(0,jC.FM)(c.Hb.document.tree,this.activeElementId);e&&c.kD.setStructurePanelNodesExpandedState({...c.kD.structurePanelNodesExpandedState,...e}),this.$nextTick((()=>{if(!this.$el||!this.panelHeader)return;const e=this.$el.querySelector(`[data-element-id="${this.activeElementId}"] .structure-node-title-wrapper`);e&&(0,Pl.aQ)(this.$el,this.panelHeader.$el,e)}))}}get rootElement(){return c.Hb.document.tree.root}get hasPermission(){return c.kD.hasFullAccess}onContextMenu(e){if(!this.hasPermission)return;e.preventDefault(),e.stopPropagation();const t=zC(e.clientX,e.clientY)||void 0;t&&c.kD.activateElement(t);const n=(0,He.n)(e.clientX,e.clientY);c.kD.setOnStructurePanelRightClickMenuState({elementId:t,position:n})}dragStart(e){if(0!==e.button)return;if(!this.hasPermission)return;const t=zC(e.clientX,e.clientY);t&&(c.kD.activateElement(t),this.draggedNodeId=t,this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd),this.forceGrabbingCursor=!0,this.didMoveElement=!1,Ce.n.startTransaction())}async dragging(e){if((0,Z.Pm)(e))return;if(e.preventDefault(),e.stopPropagation(),!this.draggedNodeId)return;let t=null;if(c.kD.setDragMousePosition(null),this.firstDragMovement){const e=(0,he.E)(c.Hb.document.tree,this.draggedNodeId),n=(0,he.Lf)(c.Hb.document.tree,this.draggedNodeId);if(!1===e||!1===n)return;c.kD.setCanvasElementDraggedId(this.draggedNodeId),t={draggedElementId:this.draggedNodeId,droppedOnElementId:n.id,index:e},this.firstDragMovement=!1}else{this.mouseDragStatus=qC(e.clientX,e.clientY,c.Hb.document.tree),this.ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt(e);const n=YC(this.mouseDragStatus,c.Hb.document.tree,this.draggedNodeId);n&&(t={draggedElementId:this.draggedNodeId,droppedOnElementId:n.parentId,index:n.index})}if(t){const e=(0,he.DY)(c.Hb.document.tree,t.droppedOnElementId),n=(0,jC.sF)(t.droppedOnElementId)||0===e?.children.length;if(n){const e=await c.Hb.moveElement({...t,wrapWithTransaction:!1});this.didMoveElement=this.didMoveElement||e,c.kD.setStructurePanelNodesExpandedState({...c.kD.structurePanelNodesExpandedState,[t.droppedOnElementId.toString()]:!0}),this.lastSubmittedDrag=t}}}async dragEnd(e){if(e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.lastSubmittedDrag){const e=await c.Hb.moveElement({...this.lastSubmittedDrag,wrapWithTransaction:!1});this.didMoveElement=this.didMoveElement||e}if(!1!==this.draggedNodeId&&this.didMoveElement){const e=(0,he.DY)(c.Hb.document.tree,this.draggedNodeId);Ce.n.endTransaction(`Move ${(0,se.JC)(e?.data.type)}`)}else Ce.n.cancelTransactionIfItIsStillInProgress();c.kD.endCanvasElementDrag(),this.lastSubmittedDrag=!1,this.mouseDragStatus={...HC()},this.firstDragMovement=!0,this.draggedNodeId=!1,this.forceGrabbingCursor=!1,this.didMoveElement=!1}ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt(e){this.mouseDragStatus.overNodeId&&this.delayedExpandNode(this.mouseDragStatus.overNodeId,e)}delayedExpandNode(e,t){this.delayedExpandNodeTimeout&&clearTimeout(this.delayedExpandNodeTimeout),this.delayedExpandNodeTimeout=setTimeout((()=>{if(this.delayedExpandNodeTimeout=null,e===this.mouseDragStatus.overNodeId){const n=(0,ur.Z)(c.kD.structurePanelNodesExpandedState);n[e]=!0,c.kD.setStructurePanelNodesExpandedState(n),this.dragging(t)}}),500)}get ROOT_ELEMENT_ID(){return he.uB}collapseAllNodes(){c.kD.setStructurePanelNodesExpandedState((0,jC.u3)(c.Hb.document.tree,!1))}expandAllNodes(){c.kD.setStructurePanelNodesExpandedState((0,jC.u3)(c.Hb.document.tree,!0))}collapseAllNodesExcept(e){const t=(0,jC.u3)(c.Hb.document.tree,!1),n=(0,jC.FM)(c.Hb.document.tree,e);c.kD.setStructurePanelNodesExpandedState({...t,...n})}toggleNodes(){if(0===this.toggleStage)this.toggleStage=1,this.collapseAllNodes();else if(1===this.toggleStage)this.expandAllNodes(),this.toggleStage=2;else if(c.kD.activeElementId){const e=(0,he.Lf)(c.Hb.document.tree,c.kD.activeElementId);if(e&&e?.id===he.uB)return this.collapseAllNodes(),void(this.toggleStage=1);this.collapseAllNodesExcept(c.kD.activeElementId),this.toggleStage=0}else this.collapseAllNodes(),this.toggleStage=1}beforeDestroy(){this.unsubscribeFromActivateElementMutation&&this.unsubscribeFromActivateElementMutation()}toggleAdd(){(0,Pl._y)("add")}};(0,r.gn)([(0,l.Rl)()],gw.prototype,"panelHeader",void 0),gw=(0,r.gn)([(0,l.wA)({components:{RightClickMenu:Za,PanelHeader:DS,StandardButton:Si,IconButton:oo.Z,Dropdown:yo.Z,StructurePanelDropdownMenu:hw}})],gw);const mw=gw,vw=mw;var fw=(0,L.Z)(vw,VC,WC,!1,null,null,null);const yw=fw.exports;var bw=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-history-and-revisions-panel vscroll-wrap vscroll-scroll"},[t("PanelHeader",{ref:"panelHeader",staticClass:"breakdance-history-and-revisions-panel__header",on:{close:e.close}},[e._v(" History ")]),e.disableRevisions?e._e():t("TabsRow",[t("Tab",{attrs:{value:e.tab,id:"history"},on:{input:function(t){e.tab=t}}},[e._v(" History ")]),t("Tab",{attrs:{value:e.tab,id:"revisions"},on:{input:function(t){e.tab=t}}},[e._v(" Revisions ")])],1),"history"===e.tab?t("History",{on:{scrollToActiveEl:e.scrollToActiveElement}}):"revisions"===e.tab?t("Revisions"):e._e()],1)},_w=[],xw=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"snapshots-list"},e._l(e.snapshots,(function(n,s){return t("SnapshotItem",{key:e.snapshots.length-1-s,attrs:{"data-snapshot-index":e.snapshots.length-1-s,snapshot:n,selected:e.currentIndex===e.snapshots.length-1-s},on:{click:function(t){return e.onSnapshotSelected(e.snapshots.length-1-s)}}})})),1)},Sw=[],Pw=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"snapshots-item",class:{"snapshots-item--selected":e.selected},attrs:{"data-test-id":"snapshots-item"},on:{click:function(t){return e.$emit("click",e.snapshot)}}},[t("span",{staticClass:"snapshots-item__title"},[e._v(e._s(e.snapshot.title))])])},Cw=[];let ww=class extends l.w3{};(0,r.gn)([(0,l.fI)({default(){return{}}})],ww.prototype,"snapshot",void 0),(0,r.gn)([(0,l.fI)({default:!1})],ww.prototype,"selected",void 0),ww=(0,r.gn)([(0,l.wA)({})],ww);const Iw=ww,kw=Iw;var Dw=(0,L.Z)(kw,Pw,Cw,!1,null,null,null);const Ew=Dw.exports;let Tw=class extends l.w3{onSnapshotSelected(e){X.GD.setCurrentSnapshotIndex(e),Ce.n.setStoreFromCurrentSnapshot()}close(){(0,Pl.TO)("history")}get snapshots(){return[...X.GD.snapshots].reverse()}get currentIndex(){return X.GD.index}handleCurrentIndexChange(){this.scrollToActiveSnapshotElement()}scrollToActiveSnapshotElement(){l.w3.nextTick((()=>{const e=this.$el.querySelector(`[data-snapshot-index="${this.currentIndex}"]`);e&&this.$emit("scrollToActiveEl",e)}))}};(0,r.gn)([(0,l.RL)("currentIndex",{immediate:!0})],Tw.prototype,"handleCurrentIndexChange",null),Tw=(0,r.gn)([(0,l.wA)({components:{PanelHeader:DS,SnapshotItem:Ew}})],Tw);const Zw=Tw,Aw=Zw;var Bw=(0,L.Z)(Aw,xw,Sw,!1,null,null,null);const Mw=Bw.exports;var Ow=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"revisions-panel"},[t("RevisionsList",{attrs:{"is-loading":e.loading,revisions:e.revisionUiItems,"revisions-not-supported-message":e.revisionsNotSupportedMessage},on:{revisionSelected:e.onRevisionSelected}})],1)},Lw=[];let Rw=class extends s.ZP{constructor(){super(...arguments),this.loading=!1,this.selectedRevisionIndex=0,this.unsubscribeFromStore=()=>{},this.revisionsNotSupportedMessage=null}get revisionUiItems(){return this.revisions.map(((e,t)=>({revisionData:e,isSelected:this.selectedRevisionIndex===t})))}async mounted(){this.loading=!0;const e=await this.fetchRemoteRevisions();this.loading=!1,e&&(X.kD.setRevisionsData({revisions:e,currentUnsavedRevision:this.getCurrentUnsavedRevision(e)}),this.setActiveRevision(),this.unsubscribeFromStore=this.$store.subscribe((e=>{const t=(0,wP.q$)(e);"document"===t&&"document/loadRevision"!==e.type&&(X.kD.setRevisionsData({revisions:X.kD.revisionsData.revisions,currentUnsavedRevision:this.getCurrentUnsavedRevision(X.kD.revisionsData.revisions)}),this.setActiveRevision())})))}destroyed(){this.unsubscribeFromStore()}get revisions(){return X.kD.revisionsData.currentUnsavedRevision?[X.kD.revisionsData.currentUnsavedRevision,...X.kD.revisionsData.revisions]:X.kD.revisionsData.revisions}get currentTree(){return(0,he.n$)(X.Hb.document.tree)}get unsavedChangesPresent(){return X.kD.unsavedChangesPresent}async updateRevisionsAfterSaving(){if(!X.kD.unsavedChangesPresent){const e=await this.fetchRemoteRevisions();e&&X.kD.setRevisionsData({revisions:e,currentUnsavedRevision:null}),this.setActiveRevision()}}setActiveRevision(){const e=this.getActiveRevisionIndex(X.kD.revisionsData.revisions);-1!==e?(this.selectedRevisionIndex=X.kD.revisionsData.currentUnsavedRevision?e+1:e,this.scrollToActiveRevision("smooth")):(this.selectedRevisionIndex=0,this.scrollToActiveRevision("auto"))}getActiveRevisionIndex(e){return e.findIndex((e=>(0,he.sm)(e.tree,this.currentTree)))}getCurrentUnsavedRevision(e){const t=this.getActiveRevisionIndex(e);if(-1===t)return{id:-1,author:!1,date:"Current",tree:this.currentTree};const n=0===t&&X.kD.revisionsData.currentUnsavedRevision&&(0,he.sm)(e[t].tree,X.kD.revisionsData.currentUnsavedRevision?.tree);return n?null:X.kD.revisionsData.currentUnsavedRevision}async fetchRemoteRevisions(){return(0,Uo.pipe)(await(0,Go.D)({action:"breakdance_retrieve_revisions",decoder:cP.VZ,dataToPost:{id:X.Hb.document.documentMeta.id}}),(0,Ko.fold)((e=>((0,hd.UE)(e),null)),(e=>"unsupported"in e?(this.revisionsNotSupportedMessage=e.unsupported,null):e.revisions.map((e=>{const t=(0,kx.Z)(e.tree,Dx.f2),n=(0,Uo.pipe)(t,(0,Ko.fold)((()=>null),(e=>e)));return{...e,tree:n}})).filter((e=>null!==e.tree)))))}onRevisionSelected(e,t){const n=this.revisions.find((t=>t.id===e.revisionData.id));n&&(this.selectedRevisionIndex=t,X.kD.activateElement(null),X.kD.setInterfaceState("loading"),X.Hb.loadRevision(n),X.kD.setInterfaceState("normal"))}scrollToActiveRevision(e){(0,T.n)((()=>document.querySelector(".revisions-panel .revisions-item--selected")?.scrollIntoView({behavior:e,block:"center"})))}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent")],Rw.prototype,"updateRevisionsAfterSaving",null),Rw=(0,r.gn)([(0,l.wA)({components:{RevisionsList:CP,RevisionItem:bP,PanelHeader:DS}})],Rw);const Nw=Rw,Fw=Nw;var $w=(0,L.Z)(Fw,Ow,Lw,!1,null,null,null);const Vw=$w.exports;let Ww=class extends s.ZP{constructor(){super(...arguments),this.tab="history"}close(){(0,Pl.TO)("history")}scrollToActiveElement(e){(0,Pl.aQ)(this.$el,this.panelHeader.$el,e)}};(0,r.gn)([(0,l.fI)({default:!1})],Ww.prototype,"disableRevisions",void 0),(0,r.gn)([(0,l.Rl)()],Ww.prototype,"panelHeader",void 0),Ww=(0,r.gn)([(0,l.wA)({components:{Revisions:Vw,History:Mw,PanelHeader:DS,TabsRow:h_,Tab:o_}})],Ww);const Hw=Ww,zw=Hw;var Uw=(0,L.Z)(zw,bw,_w,!1,null,null,null);const Kw=Uw.exports;var Gw=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classList},[e._t("default")],2)},qw=[];let jw=class extends s.ZP{get classList(){if("closed"===this.panelState)return{};const e=Pl.t6.includes(this.panelState);return{"breakdance-panel":!0,width288:"breakdance"===this.builderMode&&!e,width248:"oxygen"===this.builderMode&&!e,width400:e,"vscroll-wrap":!0,borderOnLeft:"right"===this.position,borderOnRight:"left"===this.position,"breakdance-app-left-area":"left"===this.position,"breakdance-app-right-area":"right"===this.position}}get builderMode(){return c.PK.builderMode}};(0,r.gn)([(0,l.fI)()],jw.prototype,"position",void 0),(0,r.gn)([(0,l.fI)()],jw.prototype,"panelState",void 0),jw=(0,r.gn)([l.wA],jw);const Yw=jw,Xw=Yw;var Qw=(0,L.Z)(Xw,Gw,qw,!1,null,null,null);const Jw=Qw.exports;var eI=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-variables-panel vscroll-wrap vscroll-scroll"},[t("PanelHeader",{on:{close:e.close},scopedSlots:e._u([{key:"right",fn:function(){return[t(ax.Z,{attrs:{"content-class":"oxy-tab-tooltip",top:"","open-delay":500,transition:"0"},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{icon:"FolderPlusIcon",size:"14",small:""},on:{click:e.addCollection}},n))]}}])},[t("span",[e._v("Add Collection")])]),t(ax.Z,{attrs:{"content-class":"oxy-tab-tooltip",top:"","open-delay":500,transition:"0"},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{icon:"HistorySolidIcon",size:"13",small:"",active:"history"===e.viewMode},on:{click:e.toggleViewMode}},n))]}}])},[t("span",[e._v("History")])]),t("ImportExportDropdownMenu",{attrs:{name:"Variables","settings-to-export":e.settingsToExport,"validate-settings":e.validateImport,"import-settings":e.importVariables,"can-merge":!0}})]},proxy:!0}])},[e._v(" Variables ")]),e.isLoadingData?t(XS.Z,{attrs:{row:"","justify-center":"","align-center":""}},[t(ld.Z,{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):["controls"===e.viewMode?t("ManageVariables"):e._e(),"history"===e.viewMode?t("VariablesHistory"):e._e()],t("PanelMask")],2)},tI=[],nI=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"global-variables"},[t("CollectionsInput",{attrs:{collections:e.collections,"resource-name":"variables",value:e.value},on:{"update-collections":e.setCollections,input:e.setVariables},scopedSlots:e._u([{key:"default",fn:function({collection:n}){return[t("InlineRepeater",{staticClass:"oxy-collection__repeater",attrs:{value:e.variablesByCollection[n],control:e.getCollectionControls(n),"data-key":"id",group:"oxy-variables"},on:{input:function(t){return e.handleDrag(t,n)}},scopedSlots:e._u([{key:"default",fn:function({value:n}){return[t("VariableRepeaterItem",{key:n.id,attrs:{variable:n},on:{input:e.setVariable}})]}}],null,!0)})]}}])})],1)},sI=[],aI=n(90889),iI=n(91242),oI=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-collections"},[t("draggable",e._b({attrs:{value:e.collections},on:{input:e.handleDrag}},"draggable",e.dragOptions,!1),e._l(e.collections,(function(n,s){return t("div",{staticClass:"oxy-collection"},[t("header",{staticClass:"oxy-collection-header"},[t("Icon",{staticClass:"oxy-collection-header__icon",attrs:{icon:e.isToggled(n)?"ChevronRightIcon":"ChevronDownIcon",size:12},on:{click:function(t){return e.toggleCollection(n)}}}),t("div",{staticClass:"oxy-collection-header__title"},[t("input",{staticClass:"oxy-collection__title",attrs:{contenteditable:"true",placeholder:"Enter a name"},domProps:{value:n},on:{input:function(t){return e.setCollectionName(t,s)},keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}}}),t("Icon",{attrs:{icon:"PenSolidIcon",size:10}})],1),t("div",{staticClass:"oxy-collection__actions"},[e._t("actions",null,{collection:n}),t(ax.Z,{attrs:{"content-class":"oxy-tab-tooltip",top:"","open-delay":500,transition:"0"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t("IconButton",e._g({attrs:{icon:"DownloadSolidIcon",size:"12"},on:{click:function(t){return e.exportCollection(n)}}},s))]}}],null,!0)},[t("span",[e._v("Download")])]),t(ax.Z,{attrs:{"content-class":"oxy-tab-tooltip",top:"","open-delay":500,transition:"0"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t("IconButton",e._g({attrs:{icon:"TrashSolidIcon",size:"12"},on:{click:function(t){return e.deleteCollection(n)}}},s))]}}],null,!0)},[t("span",[e._v("Delete")])]),t(ax.Z,{attrs:{"content-class":"oxy-tab-tooltip",top:"","open-delay":500,transition:"0"},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({staticClass:"oxy-collection__handle",attrs:{size:"12",icon:"GripDotsVerticalIcon"}},n))]}}],null,!0)},[t("span",[e._v("Drag to reorder")])])],2)],1),e.isToggled(n)?e._e():e._t("default",null,{collection:n})],2)})),0),t("div",{staticClass:"oxy-collection-empty-state",on:{click:e.addCollection}},[t("Icon",{attrs:{icon:"FolderPlusIcon",size:"13"}}),t("span",[e._v("Add new collection")])],1)],1)},rI=[];let lI=class extends l.w3{constructor(){super(...arguments),this.toggledCollections=[],this.dragOptions={animation:200,handle:".oxy-collection__handle",ghostClass:"breakdance-inline-repeater-item--ghost",forceFallback:!0}}isToggled(e){return this.toggledCollections.includes(e)}toggleCollection(e){this.toggledCollections.includes(e)?this.toggledCollections=this.toggledCollections.filter((t=>t!==e)):this.toggledCollections.push(e)}handleDrag(e){const t=(0,ur.Z)(this.value).sort(((t,n)=>{const s=e.indexOf(t.collection),a=e.indexOf(n.collection);return s===a?0:s-a}));this.$emit("update-collections",e),this.$emit("input",t)}setCollectionName(e,t){const n=e.target,s=n.value,a=this.collections[t],i=this.collections;i[t]=s;const o=this.value.map((e=>(e.collection===a&&(e.collection=s),e)));this.$emit("update-collections",i),this.$emit("input",o)}deleteCollection(e){const t=confirm(`Are you sure you want to delete the collection "${e}"?`);if(!t)return;const n=this.value.filter((t=>t.collection!==e)),s=this.collections.filter((t=>t!==e));this.$emit("update-collections",s),this.$emit("input",n)}exportCollection(e){const t=this.value.filter((t=>t.collection===e)),n=(0,ip.g)(t),s=gv()(e,{lower:!0});OP(n||"",`${s}-${this.resourceName}.json`)}addCollection(){const e=$a.hI,t=this.collections;let n=1;while(t.includes(`${e} ${n}`))n++;const s=`${e} ${n}`;this.$emit("update-collections",[...t,s])}};(0,r.gn)([(0,l.fI)()],lI.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],lI.prototype,"collections",void 0),(0,r.gn)([(0,l.fI)()],lI.prototype,"resourceName",void 0),lI=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,draggable:fh(),VariableRepeaterItem:iI.Z,IconButton:oo.Z}})],lI);const cI=lI,dI=cI;var uI=(0,L.Z)(dI,oI,rI,!1,null,null,null);const pI=uI.exports;let hI=class extends s.ZP{constructor(){super(...arguments),this.variablesByCollection={}}onValueChange(){this.updateInternalValue(),this.checkMissingCollections()}onColsChange(){this.updateInternalValue()}get collections(){return X.cr.variablesCollections}get labels(){return this.value.map((e=>e.label))}get control(){return{options:{repeaterOptions:{buttonName:"Add Variable",templates:(0,aI.jI)(this.labels)}}}}checkMissingCollections(){const e=[...new Set(this.value.map((e=>e.collection)))],t=e.filter((e=>!this.collections.includes(e)));t.length&&X.cr.setVariablesCollections(e)}beforeCreate(){this.$options.components.InlineRepeater=n(617).Z}updateInternalValue(){this.collections.forEach((e=>{this.$set(this.variablesByCollection,e,this.getCollectionVariables(e))}))}getCollectionControls(e){const t=(0,aI.jI)(this.labels,e),n={...this.control.options?.repeaterOptions,templates:t},s={...this.control.options,repeaterOptions:n};return{...this.control,options:s}}getCollectionVariables(e){return this.value.filter((t=>t.collection===e))||[]}setVariable(e){const t=(0,ur.Z)(this.value),n=t.findIndex((t=>t.id===e.id));-1!==n&&(t[n]=e),this.setVariables(t)}setVariables(e){this.$emit("input",e)}handleDrag(e,t){this.variablesByCollection[t]=e.map((e=>({...e,collection:t})));const n=[];this.collections.forEach((e=>{n.push(...this.variablesByCollection[e])})),this.setVariables(n)}setCollections(e){Ce.n.transaction((()=>{X.cr.setVariablesCollections(e)}),"Set Variable Collections")}};(0,r.gn)([(0,l.fI)({default(){return[]}})],hI.prototype,"value",void 0),(0,r.gn)([(0,l.RL)("value",{immediate:!0,deep:!0})],hI.prototype,"onValueChange",null),(0,r.gn)([(0,l.RL)("collections",{immediate:!0,deep:!0})],hI.prototype,"onColsChange",null),hI=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,IconButton:oo.Z,draggable:fh(),CollectionsInput:pI,VariableRepeaterItem:iI.Z}})],hI);const gI=hI,mI=gI;var vI=(0,L.Z)(mI,nI,sI,!1,null,null,null);const fI=vI.exports;var yI=n(41836),bI=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-variables-panel-content"},[t("GlobalVariablesInput",{attrs:{value:e.variables},on:{input:e.updateVariables}})],1)},_I=[];let xI=class extends l.w3{get variables(){return X.cr.variables||[]}updateVariables(e){Ce.n.transaction((()=>{X.cr.setVariables(e)}),"Update Variables")}};xI=(0,r.gn)([(0,l.wA)({components:{GlobalVariablesInput:fI,Icon:ze.Z}})],xI);const SI=xI,PI=SI;var CI=(0,L.Z)(PI,bI,_I,!1,null,null,null);const wI=CI.exports;var II=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("RevisionsPanel",{attrs:{resources:e.variables,"resource-key":e.resourceKey,"resource-has-unsaved-changes-present":e.hasUnsavedChangesPresent,"fetch-revisions-method":e.fetchRevisionsMethod,"update-method":"setVariables","restore-method":"restoreVariablesRevision"}})},kI=[];let DI=class extends s.ZP{constructor(){super(...arguments),this.resourceKey="variables"}get variables(){return X.cr.variables}get hasUnsavedChangesPresent(){return X.cr.variablesHasUnsavedChangesPresent}get fetchRevisionsMethod(){return yI.u7}};DI=(0,r.gn)([(0,l.wA)({components:{RevisionsPanel:gC,RevisionsList:CP}})],DI);const EI=DI,TI=EI;var ZI=(0,L.Z)(TI,II,kI,!1,null,null,null);const AI=ZI.exports;var BI=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.showMask?t("span",{staticClass:"oxy-panel-mask",on:{click:e.closeMask}}):e._e()},MI=[];let OI=class extends l.w3{get showMask(){return c.kD.panelState.oxyPanelIsMasked}closeMask(){c.kD.setPanelState({...c.kD.panelState,oxyPanelIsMasked:!1})}};OI=(0,r.gn)([(0,l.wA)({})],OI);const LI=OI,RI=LI;var NI=(0,L.Z)(RI,BI,MI,!1,null,"1dcc87c2",null);const FI=NI.exports;var $I=n(17582);function VI(e,t,n="cssVariableName",s=!0){const a=t.map((e=>e[n])),i=e.filter((e=>!a.includes(e[n]))),o=t.map((t=>{const a=e.find((e=>e[n]===t[n]));return a&&s&&(t.id=a.id),t}));return{variablesToKeep:i,variables:[...i,...o]}}let WI=class extends s.ZP{constructor(){super(...arguments),this.isLoadingData=!1,this.isStoringData=!1}get settingsToExport(){return c.cr.variables}get viewMode(){return c.kD.panelState.variablesPanelPanelActiveViewMode}async beforeMount(){c.kD.panelState.shouldLoadFreshDataIntoStoreOnceOpened.variables?await this.load():c.kD.setShouldPanelLoadFreshDataIntoStoreOnceOpened("variables",!0)}toggleViewMode(){c.kD.setPanelState({...c.kD.panelState,variablesPanelPanelActiveViewMode:"controls"===this.viewMode?"history":"controls"})}async load(){this.isLoadingData=!0;const e=await(0,yI.Ap)();return this.isLoadingData=!1,e}async save(){this.isStoringData=!0;const e=await(0,yI.$Q)();return this.isStoringData=!1,e}requestPanelClosingConfirmation(){c.kD.requestClosingConfirmation({subject:"variables",confirmationDefinition:{title:"You have unsaved changes to your Variables.",text:"Would you like to save or discard these changes?",type:"info"}})}get unsavedChangesPresent(){return c.cr.variablesHasUnsavedChangesPresent}handleUnsavedChangesPresentChange(e){e?this.requestPanelClosingConfirmation():c.kD.noClosingConfirmationIsNeededFor("variables")}get confirmationChosenOption(){return c.kD.closingConfirmations.variables?.chosenOption}async handleConfirmationChosenOptionChange(e){"discard"===e?(c.kD.setClosingConfirmationIsDiscarding({subject:"variables",isDiscarding:!0}),await this.load()?this.close():this.requestPanelClosingConfirmation()):"save"===e&&(c.kD.setClosingConfirmationIsSaving({subject:"variables",isSaving:!0}),await this.save()?this.close():this.requestPanelClosingConfirmation())}get isLoading(){return this.isLoadingData||this.isStoringData}close(){(0,Pl.TO)("variables")}addCollection(){"history"==this.viewMode&&this.toggleViewMode();const e=$a.hI,t=c.cr.variablesCollections;let n=1;while(t.includes(`${e} ${n}`))n++;const s=`${e} ${n}`;c.cr.setVariablesCollections([...t,s])}validateImport(e){return Array.isArray(e)?(0,Ur.zG)(e,$I.eh.decode,(0,Gr.g_)((()=>(Yo.Z.log.errorMessage("Error importing Variables - the file is invalid."),!1)),(()=>!0))):(Yo.Z.log.errorMessage("Error importing Variables - the file is invalid or empty."),!1)}importVariables(e,t){Array.isArray(e)?Ce.n.transaction((()=>{if("replace"===t)c.cr.setVariables(e);else{const{variablesToKeep:t,variables:n}=VI(c.cr.variables,e);c.cr.setVariables(n),Yo.Z.log.message(`${e.length} variables imported. ${t.length} existing variables were kept.`)}}),"Import Variables"):Yo.Z.log.errorMessage("No Variables to import.")}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent",{immediate:!0})],WI.prototype,"handleUnsavedChangesPresentChange",null),(0,r.gn)([(0,l.RL)("confirmationChosenOption",{immediate:!0})],WI.prototype,"handleConfirmationChosenOptionChange",null),WI=(0,r.gn)([(0,l.wA)({components:{ImportExportDropdownMenu:$P,PanelMask:FI,IconButton:oo.Z,Tab:o_,TabsRow:h_,PanelHeader:DS,SearchInput:Vr.Z,ManageVariables:wI,VariablesHistory:AI,PanelHeaderButton:US,GlobalVariablesInput:fI}})],WI);const HI=WI,zI=HI;var UI=(0,L.Z)(zI,eI,tI,!1,null,null,null);const KI=UI.exports;var GI=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll presets-panel"},[e.isLoadingData?t(XS.Z,{attrs:{row:"","justify-center":"","align-center":""}},[t(ld.Z,{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):e.activePreset?t("EditPreset",{on:{close:e.close}}):e.activePreset?e._e():t("ManagePresets",{on:{close:e.close}})],1)},qI=[],jI=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("PanelHeader",{on:{close:function(t){return e.$emit("close")}}},[e._v(" Design Presets "),e.isHistoryEnabled?t("BrowseModeToggle",{attrs:{"panel-to-open":"presets"}}):e._e(),e.isHistoryEnabled?t("PanelHeaderButton",{attrs:{enabled:"history"===e.viewMode},on:{click:e.toggleViewMode}},[e._v(" history ")]):e._e()],1),t("FreeModeAlertForPresets",{staticClass:"ma-4"}),"controls"===e.viewMode?[e.isAddPresetEnabled?t("AddPreset"):e._e(),e.isImportExportEnabled?t("ImportExportPresets"):e._e(),t("div",{staticClass:"vscroll-wrap vscroll-scroll breakdance-manage-presets"},[t("PresetsList",{attrs:{presets:e.presets,searchable:!0},on:{input:e.updatePresets}})],1)]:"history"===e.viewMode?[t("PresetsPanelHistoryViewMode")]:e._e()],2)},YI=[],XI=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("div",{staticClass:"vscroll-scroll presets-list"},[e.presets.length?e._l(e.presetsByElement,(function(n,s){return t("div",{key:s,staticClass:"presets-list-group breakdance-repeater-draggable"},[t("h4",{staticClass:"presets-list-title"},[e._v(e._s(e.getElementName(s)))]),e._l(n,(function(n,s){return t("div",{key:s,staticClass:"breakdance-repeater-item"},[t("RepeaterItemAccordion",{attrs:{"can-edit":!0,"can-drag":!1,"no-duplicate":!0},on:{"title:click":function(t){return e.editPreset(n)},"edit-item":function(t){return e.editPreset(n)},"delete-item":function(t){return e.deletePreset(n)}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"breakdance-repeater-item-title-text"},[e._v(" "+e._s(n.name)+" ")])]},proxy:!0}],null,!0)})],1)}))],2)})):t("p",{staticClass:"manage-presets"},[e._v("You don't have any presets yet.")])],2),e.searchable?t("div",{staticClass:"properties-panel-search-box-wrap properties-panel-search-box-wrap-presets"},[t("Icon",{staticClass:"properties-panel-search-icon",attrs:{icon:"SearchIcon",size:"13"}}),t("TextInput",{attrs:{placeholder:"Search"},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}})],1):e._e()])},QI=[],JI=n(11656);let ek=class extends s.ZP{constructor(){super(...arguments),this.dragOptions={animation:200,handle:".breakdance-repeater-item-handler",filter:".breakdance-repeater-item--ignore-drag",ghostClass:"breakdance-repeater-item--ghost",forceFallback:!0},this.searchString=""}get presetsByElement(){const e={};return this.filteredPresets.forEach((t=>{e[t.availableForType]||(e[t.availableForType]=[]),e[t.availableForType].push(t)})),Object.keys(e).forEach((t=>{e[t].sort(((e,t)=>e.name<t.name?-1:t.name<e.name?1:0))})),e}get filteredPresets(){if(this.searchString){const e=this.searchString?.toLowerCase()??"";return this.presets.filter((t=>t.name.toLowerCase().includes(e)))}return this.presets}deletePreset(e){const t=this.presets.findIndex((t=>t.id===e.id)),n=(0,ur.Z)(this.presets);n.splice(t,1),this.$emit("input",n)}handleDrag(e){this.$emit("input",(0,ur.Z)(e))}editPreset(e){c.kD.setActivePresetId(e.id),(0,Pl.oM)("presets")}getElementName(e){return c.PK.element(e).name}};(0,r.gn)([(0,l.fI)()],ek.prototype,"searchable",void 0),(0,r.gn)([(0,l.fI)()],ek.prototype,"presets",void 0),ek=(0,r.gn)([(0,l.wA)({components:{RepeaterItemAccordion:JI.Z,draggable:fh(),TextInput:Qs.Z,Icon:ze.Z}})],ek);const tk=ek,nk=tk;var sk=(0,L.Z)(nk,XI,QI,!1,null,null,null);const ak=sk.exports;var ik=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"add-preset"},[t("TextInput",{attrs:{placeholder:"Name"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addPreset.apply(null,arguments)}},model:{value:e.newPresetName,callback:function(t){e.newPresetName=t},expression:"newPresetName"}}),t(ih.Z,{staticClass:"breakdance-dense-select breakdance-white-gray-outlined-input",attrs:{placeholder:"Element",items:e.elementsItems,dense:"",solo:"",flat:"",filled:"","hide-details":"","no-data-text":"No presets available"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addPreset.apply(null,arguments)}},model:{value:e.newPresetType,callback:function(t){e.newPresetType=t},expression:"newPresetType"}}),t("NiceButton",{attrs:{size:"small"},on:{click:e.addPreset}},[e._v(" Add ")])],1)},ok=[];let rk=class extends s.ZP{constructor(){super(...arguments),this.newPresetName="",this.newPresetType=""}get elements(){return c.PK.elements}get elementsItems(){return Object.values(this.elements).filter((e=>void 0!==e)).filter((e=>!(0,qe.GF)(e.addPanelRules,e.settings))).map((e=>({text:e.name,value:e?.slug})))}addPreset(){if(!this.newPresetName||!this.newPresetType)return;const e=(0,ie.Lr)(this.newPresetName,this.newPresetType);(0,ie.xk)(e),this.newPresetName="",this.newPresetType=""}};rk=(0,r.gn)([(0,l.wA)({components:{DropdownInput:cr.Z,NiceButton:Wr.Z,TextInput:Qs.Z}})],rk);const lk=rk,ck=lk;var dk=(0,L.Z)(ck,ik,ok,!1,null,null,null);const uk=dk.exports;var pk=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("RevisionsPanel",{attrs:{resources:e.presets,"resource-key":e.resourceKey,"resource-has-unsaved-changes-present":e.hasUnsavedChangesPresent,"fetch-revisions-method":e.fetchRevisionsMethod,"update-method":"setPresets","restore-method":"restorePresetsRevision"}})},hk=[];async function gk(){return(0,Ur.zG)(await(0,Go.D)({action:"breakdance_retrieve_presets_revisions",decoder:cP.hl}),(0,Ko.mapLeft)((()=>null)),Gr.i$)}let mk=class extends s.ZP{constructor(){super(...arguments),this.resourceKey="presets"}get presets(){return X.cr.presets}get hasUnsavedChangesPresent(){return X.cr.presetsHasUnsavedChangesPresent}get fetchRevisionsMethod(){return gk}};mk=(0,r.gn)([(0,l.wA)({components:{RevisionsPanel:gC,RevisionsList:CP}})],mk);const vk=mk,fk=vk;var yk=(0,L.Z)(fk,pk,hk,!1,null,null,null);const bk=yk.exports;var _k=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"manage-presets-import-export"},[t("div",[t("NiceButton",{attrs:{"left-icon":"UploadFileIcon",expanded:!0},on:{click:e.openFileUpload}},[e._v(" Import ")]),t("input",{ref:"fileUpload",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/json"},on:{change:e.importPresets}})],1),t("NiceButton",{attrs:{"left-icon":"DownloadFileIcon",small:"",expanded:!0},on:{click:e.exportPresets}},[e._v(" Export ")])],1)},xk=[],Sk=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("ProOnlyAlertBox",{attrs:{options:{feature:"presets",content:`Design Presets are only available in ${e.$bdox("plugin_name")} Pro. They won't work on the frontend.`}}})},Pk=[];let Ck=class extends s.ZP{};Ck=(0,r.gn)([(0,l.wA)({components:{ProOnlyAlertBox:ju.Z}})],Ck);const wk=Ck,Ik=wk;var kk=(0,L.Z)(Ik,Sk,Pk,!1,null,null,null);const Dk=kk.exports;let Ek=class extends s.ZP{openFileUpload(){const e=this.$refs.fileUpload;e.click()}importPresets(e){const t=e.target,n=t.files&&t.files[0];if(!n)return;const s=new FileReader;s.onload=()=>{const e=s.result,t=(0,Uo.pipe)((0,kx.Z)(e,dS.p),(0,Ko.fold)((()=>null),(e=>e)));if(null===t)return void Yo.Z.log.errorMessage("The file you selected is not a valid Presets file.");if(!t.length)return void Yo.Z.log.message("The file you selected does not contain any presets.");const n=t.map((e=>e.id)),a=c.cr.presets.filter((e=>!n.includes(e.id)));c.cr.setPresets([...a,...t])},s.readAsText(n),e.target.value=""}exportPresets(){const e=`breakdance-presets-${(0,ga.z)()}.json`,t=(0,Uo.pipe)((0,wl.J)(c.cr.presets),(0,Ko.fold)((()=>""),(e=>e))),n=document.createElement("a"),s=new Blob([t],{type:"application/json"});n.setAttribute("href",window.URL.createObjectURL(s)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}};Ek=(0,r.gn)([(0,l.wA)({components:{FreeModeAlertForPresets:Dk,AlertBox:qu.Z,PresetsPanelHistoryViewMode:bk,PanelHeaderButton:US,BrowseModeToggle:YS,draggable:fh(),PresetsList:ak,AddPreset:uk,PanelHeader:DS,IconButton:oo.Z,NiceButton:Wr.Z}})],Ek);const Tk=Ek,Zk=Tk;var Ak=(0,L.Z)(Zk,_k,xk,!1,null,null,null);const Bk=Ak.exports;let Mk=class extends s.ZP{get viewMode(){return c.kD.panelState.presetsPanelActiveViewMode}toggleViewMode(){c.kD.setPanelState({...c.kD.panelState,presetsPanelActiveViewMode:"controls"===this.viewMode?"history":"controls"})}get presets(){return c.cr.presets}get isHistoryEnabled(){return c.PK.isExperimentEnabled("design-presets-history")}get isAddPresetEnabled(){return c.PK.isExperimentEnabled("design-presets-add")}get isImportExportEnabled(){return c.PK.isExperimentEnabled("design-presets-import-export")}updatePresets(e){c.cr.setPresets((0,ur.Z)(e))}};Mk=(0,r.gn)([(0,l.wA)({components:{FreeModeAlertForPresets:Dk,AlertBox:qu.Z,PresetsPanelHistoryViewMode:bk,PanelHeaderButton:US,BrowseModeToggle:YS,draggable:fh(),PresetsList:ak,AddPreset:uk,PanelHeader:DS,ImportExportPresets:Bk}})],Mk);const Ok=Mk,Lk=Ok;var Rk=(0,L.Z)(Lk,jI,YI,!1,null,null,null);const Nk=Rk.exports;var Fk=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.activePreset?t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("PanelHeader",{attrs:{backInsteadOfClose:!0},on:{close:e.close}},[e._v(" Editing Preset ")]),t("div",{staticClass:"breakdance-preset-content"},[t("div",{staticClass:"breakdance-preset-element-name truncate"},[t("span",{staticClass:"breakdance-preset-element-name__icon"},[e.element?.uiIcon?t("ElementIcon",{attrs:{icon:e.element.uiIcon,size:"14"}}):e._e()],1),t("span",{staticClass:"truncate"},[e._v(e._s(e.element?.name))])]),t("div",{staticClass:"breakdance-preset-titlebar"},[t("div",{staticClass:"flex-grow-1 mr-2"},[t("div",{staticClass:"d-flex flex-column"},[t("TextInput",{attrs:{value:e.activePreset.name,placeholder:"Preset Name"},on:{input:e.tryToRenameActivePreset}})],1)]),t("IconButton",{attrs:{icon:"TrashIcon",size:"16"},on:{click:e.deletePreset}})],1)]),""!==e.searchBoxState.query&&e.hasSearchParameters&&!e.noSearchResults?t("div",{staticClass:"control-tree-search-term control-tree-search-term-preset"},[t("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),t("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[t("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),t("div",{staticClass:"edit-preset-border"}),e.isActiveElementRelatedToActivePreset||e.skipTypeCheckForActiveElement?[e.hasSearchParameters?e._e():t("div",{staticClass:"vscroll-scroll"},[t("ControlsTree",{attrs:{controls:e.controls,path:"design"}})],1),e.hasSearchParameters&&!e.noSearchResults?t("div",{staticClass:"vscroll-scroll"},[t("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams,path:"design",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?t(Ab.Z,{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[t("SearchBoxEmptyState",{attrs:{label:"presets"},on:{input:e.clearQuery}})],1):e._e(),t("SearchBox",{attrs:{value:e.searchBoxState,location:"preset"},on:{input:e.updateSearchBoxState}})]:t("div",{staticClass:"breakdance-preset-content"},[t("AlertBox",{staticClass:"mb-4",attrs:{options:{style:"info",content:`To edit, please select ${e.determineArticle(e.element?.name)}\n      <b>${e.element?.name}</b> with this preset applied to it`}}}),t("NiceButton",{attrs:{expanded:!0},on:{click:function(t){e.skipTypeCheckForActiveElement=!0}}},[e._v(" Edit Anyway ")])],1)],2):e._e()},$k=[];let Vk=class extends s.ZP{constructor(){super(...arguments),this.searchBoxState={modifiedOnly:!1,query:""},this.skipTypeCheckForActiveElement=!1,this.attemptingToRename=!1,this.editingPresetControlsTreeContext={getControls:()=>this.controls,getControlValue:e=>G()(c.kD.activePreset,`${e}`,void 0),setControlValue(e,t,n,s){if(!c.kD.activePreset)return;const a=(0,he.aL)(c.Hb.document.tree,c.kD.activePreset.id);c.cr.throttledPresetPropertyChange((0,jh._Z)({preset:c.kD.activePreset,path:e,value:t},{control:n,controlsTree:this.getControls(e)||[]},s)),a.forEach((n=>{mi.w.run.onPropertyChange({elementId:n.id,path:e,value:(0,ur.Z)(t),previousValue:"",transactionKey:void 0})}))},setAccordionState:(e,t)=>{const n=c.kD.activePreset&&c.kD.activePreset.id;n&&(0,eP.Q)(n,e,t)},getAccordionState:e=>{const t=c.kD.activePreset&&c.kD.activePreset.id;return!!t&&(0,eP.WX)(t,e)}}}updateSearchBoxState(e){this.searchBoxState=e}clearQuery(){this.updateSearchBoxState({modifiedOnly:!1,query:""})}get isActiveElementRelatedToActivePreset(){return this.activeElement&&this.activeElement.data.type===this.activePreset?.availableForType&&this.activeElement.data?.properties?.meta?.preset===this.activePreset?.id}get activeElement(){return c.kD.activeElement}get activeElementId(){return c.kD.activeElementId}get hasSearchParameters(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}get controlsFilteredBySearchParams(){return T_(this.controls,this.searchBoxState.modifiedOnly,this.searchBoxState.query,this.editingPresetControlsTreeContext,"design")}get noSearchResults(){return 0===A_(this.controlsFilteredBySearchParams,0)}get element(){return this.activePreset?c.PK.element(this.activePreset.availableForType):null}get controls(){const e=this.element?.controls.designSections??[];return(0,ie.mJ)(e)}get activePreset(){return c.kD.activePreset}deletePreset(){if(!this.activePreset)return;const e=this.activePreset,t=c.cr.presets.findIndex((t=>t.id===e.id));if(-1!==t){const e=(0,ur.Z)(c.cr.presets);e.splice(t,1),c.cr.setPresets(e)}}close(){this.backToAllPresets()}backToAllPresets(){c.kD.setActivePresetId(null)}tryToRenameActivePreset(e){if(!e)return;this.attemptingToRename=e;const t=c.cr.presets.findIndex((e=>e.id===this.activePreset?.id)),n=(0,ur.Z)(c.cr.presets);n[t]&&(n[t].name=e,c.cr.setPresets(n),this.attemptingToRename=!1)}determineArticle(e){if(!e)return"a";const t=e[0].toLowerCase();return["a","e","i","o","u"].includes(t)?"an":"a"}};(0,r.gn)([(0,l.DF)("context")],Vk.prototype,"editingPresetControlsTreeContext",void 0),Vk=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,ElementIcon:Of.Z,FreeModeAlertForPresets:Dk,AlertBox:qu.Z,ControlsTree:Rb["default"],SearchBox:Xb,IconButton:oo.Z,PanelHeader:DS,TextInput:Qs.Z,SearchBoxEmptyState:F_,NiceButton:Wr.Z}})],Vk);const Wk=Vk,Hk=Wk;var zk=(0,L.Z)(Hk,Fk,$k,!1,null,null,null);const Uk=zk.exports;let Kk=class extends s.ZP{constructor(){super(...arguments),this.isLoadingData=!1,this.isStoringData=!1}get activePreset(){return c.kD.activePreset}async beforeMount(){c.kD.panelState.shouldLoadFreshDataIntoStoreOnceOpened.presets?(c.kD.setPanelState({...c.kD.panelState,presetsPanelActiveViewMode:"controls"}),await this.load()):c.kD.setShouldPanelLoadFreshDataIntoStoreOnceOpened("presets",!0)}async load(){this.isLoadingData=!0;const e=await(0,ie.wQ)();return this.isLoadingData=!1,e}async save(){this.isStoringData=!0;const e=await(0,ie.rE)();return this.isStoringData=!1,e}requestPanelClosingConfirmation(){c.kD.requestClosingConfirmation({subject:"presets",confirmationDefinition:{title:"You have unsaved changes to your Presets.",text:"Would you like to save or discard these changes?",type:"info"}})}get unsavedChangesPresent(){return c.cr.presetsHasUnsavedChangesPresent}handleUnsavedChangesPresentChange(e){e?this.requestPanelClosingConfirmation():c.kD.noClosingConfirmationIsNeededFor("presets")}get confirmationChosenOption(){return c.kD.closingConfirmations.presets?.chosenOption}async handleConfirmationChosenOptionChange(e){"discard"===e?(c.kD.setClosingConfirmationIsDiscarding({subject:"globalSettings",isDiscarding:!0}),await this.load()?this.close():this.requestPanelClosingConfirmation()):"save"===e&&(c.kD.setClosingConfirmationIsSaving({subject:"globalSettings",isSaving:!0}),await this.save()?this.close():this.requestPanelClosingConfirmation())}get isLoading(){return this.isLoadingData||this.isStoringData}close(){(0,Pl.TO)("presets")}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent",{immediate:!0})],Kk.prototype,"handleUnsavedChangesPresentChange",null),(0,r.gn)([(0,l.RL)("confirmationChosenOption",{immediate:!0})],Kk.prototype,"handleConfirmationChosenOptionChange",null),Kk=(0,r.gn)([(0,l.wA)({components:{EditPreset:Uk,ManagePresets:Nk}})],Kk);const Gk=Kk,qk=Gk;var jk=(0,L.Z)(qk,GI,qI,!1,null,null,null);const Yk=jk.exports;var Xk=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ai-panel vscroll-wrap vscroll-scroll"},[t("PanelHeader",{ref:"panelHeader",on:{close:e.close}},[e._v(" AI Assistant ")]),e.canViewTabs?t("TabsRow",{staticClass:"ai-panel-tabs",attrs:{"fixed-tabs":""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[t("Tab",{attrs:{value:e.tab,id:"write"},on:{input:function(t){e.tab=t}}},[t("Icon",{attrs:{icon:"PenIcon",size:"18"}})],1),t("Tab",{attrs:{value:e.tab,id:"settings"},on:{input:function(t){e.tab=t}}},[t("Icon",{attrs:{icon:"GearIcon",size:"18"}})],1)],1):e._e(),t("div",{staticClass:"ai-panel-content vscroll-wrap vscroll-scroll"},[e.loadingSettings?t(ld.Z,{staticClass:"d-block mx-auto my-4",attrs:{size:"48",indeterminate:"",color:"var(--indigo600)"}}):e.pluginNotInstalled?t("AIPluginNotInstalled"):e.settings.isApiKeySet?[e.element||"write"!==e.tab?"write"===e.tab?t("AIWriter",{attrs:{title:`Rewrite ${e.friendlyName}`,prompt:e.prompt,loading:e.rewriteInProgress,disabled:e.isAIDisabled,"element-name":e.elementConfig?.name,"locked-fields":e.lockedFields},on:{rewrite:e.rewrite,updatePrompt:e.updatePrompt}}):"images"===e.tab?t("AIUnsplash"):"settings"===e.tab?t("AISettings",{attrs:{settings:e.settings.prompt,loading:e.savingSettings},on:{input:e.updateSettings}}):e._e():t("AINoElementSelected")]:t("AINoApiKey")],2)],1)},Qk=[],Jk=n(87808),eD=n(76491),tD=n(45335),nD=n(74959),sD=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ai-unsplash"},[t("h3",{staticClass:"ai-panel__title"},[e._v("Unsplash")]),t("div",[t("p",[e._v(" Fetch images from Unsplash to use in your content, they are automatically added to Image elements in the selected section. ")]),t("label",[e._v("Keywords")]),t("div",{staticClass:"ai-images-search-input"},[t("TextInput",{on:{blur:e.talkToUnsplash},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),t(qs.Z,{staticClass:"ai-images-preview-btn",attrs:{small:"",text:"",color:"primary"},on:{click:e.talkToUnsplash}},[e._v(" Preview ")])],1),t("div",{staticClass:"my-2"},[t("label",[e._v("Orientation")]),t("ButtonBarInput",{staticClass:"mb-3",attrs:{items:[{text:"Landscape",value:"landscape"},{text:"Portrait",value:"portrait"},{text:"Squarish",value:"squarish"}]},model:{value:e.orientation,callback:function(t){e.orientation=t},expression:"orientation"}})],1),t(oh.Z,{attrs:{label:"Fill Empty Images Only","hide-details":""},model:{value:e.fillEmptyImagesOnly,callback:function(t){e.fillEmptyImagesOnly=t},expression:"fillEmptyImagesOnly"}}),e.images.length?t("div",{staticClass:"mt-2"},[t("h4",[e._v("Preview")]),t("div",{staticClass:"ai-images-preview"},e._l(e.images,(function(e){return t("a",{key:e.id,attrs:{href:e.urls.full,target:"_blank"}},[t("img",{attrs:{src:e.urls.small,alt:""}})])})),0)]):e._e(),t("NiceButton",{staticClass:"ai-button",attrs:{loading:e.loading,size:"huge",disabled:0===e.imagesFields.length},on:{click:e.fetchImages}},[0===e.imagesFields.length?[e._v(" No images found in this section ")]:[e._v(" Import Images From Unsplash ")]],2)],1)])},aD=[];let iD=class extends l.w3{constructor(){super(...arguments),this.images=[],this.loading=!1,this.fillEmptyImagesOnly=!1,this.keywords="",this.orientation=null}get imagesFields(){return c.kD.activeElement?(0,tD.ho)(c.kD.activeElement):[]}async fetchImages(){if(this.keywords)if(0!==this.imagesFields.length){if(this.loading=!0,await this.talkToUnsplash(),!this.images.length)return Yo.Z.log.errorMessage("No images found. Please try again with different keywords."),void(this.loading=!1);(0,tD.hh)(this.imagesFields,this.images,this.fillEmptyImagesOnly),this.loading=!1,this.keywords="",this.images=[]}else Yo.Z.log.errorMessage("No images to complete. Please add an image to the section first.");else Yo.Z.log.errorMessage("Please enter a keyword to fetch images.")}async talkToUnsplash(){this.images=await(0,eD.Ig)([this.keywords],this.imagesFields.length,this.orientation)}};iD=(0,r.gn)([(0,l.wA)({components:{TextInput:Qs.Z,NumberInput:dr.Z,IconButton:oo.Z,NiceButton:Wr.Z,ButtonBarInput:ap.Z,TopBarSection:Ao}})],iD);const oD=iD,rD=oD;var lD=(0,L.Z)(rD,sD,aD,!1,null,null,null);const cD=lD.exports;var dD=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ai-business"},[t("h3",{staticClass:"ai-panel__title"},[e._v("Tell us about your business")]),t("div",{staticClass:"ai-business-form mb-5"},[t("div",{staticClass:"ai-business-field"},[t("label",{staticClass:"ai-business-field__label",attrs:{for:""}},[e._v("Business Name")]),t("TextInput",{attrs:{value:e.settings.businessName},on:{input:function(t){return e.updateField("businessName",t)}}})],1),t("div",{staticClass:"ai-business-field"},[t("label",{staticClass:"ai-business-field__label",attrs:{for:""}},[e._v(" Qualifiers (optional) ")]),t("TextInput",{attrs:{value:e.settings.qualifiers},on:{input:function(t){return e.updateField("qualifiers",t)}}})],1),t("div",{staticClass:"ai-business-field"},[t("label",{staticClass:"ai-business-field__label",attrs:{for:""}},[e._v(" Describe Your Business ")]),t("TextInput",{attrs:{value:e.settings.businessDescription,multiline:!0},on:{input:function(t){return e.updateField("businessDescription",t)}}})],1),t("div",{staticClass:"ai-business-field"},[t("label",{staticClass:"ai-business-field__label",attrs:{for:""}},[e._v(" Macros ")]),t("Repeater",{attrs:{value:e.settings.presets,control:{options:{repeaterOptions:{titleTemplate:"{name}",defaultTitle:"Macro",buttonName:"Add Macro"}}}},on:{input:e.updatePresets},scopedSlots:e._u([{key:"default",fn:function({index:n}){return[t("div",{staticClass:"ai-business-field"},[t("label",{staticClass:"ai-business-field__label",attrs:{for:""}},[e._v(" Name ")]),t("TextInput",{on:{input:function(t){return e.updatePreset("name",t,n)}},model:{value:e.settings.presets[n].name,callback:function(t){e.$set(e.settings.presets[n],"name",t)},expression:"settings.presets[repeaterIndex].name"}})],1),t("div",{staticClass:"ai-business-field"},[t("label",{staticClass:"ai-business-field__label",attrs:{for:""}},[e._v(" Prompt ")]),t("TextInput",{attrs:{placeholder:"Example:\nShorten the following text",multiline:!0,"variable-options":{enabled:!0},"variable-items":[{text:"Field's Value",value:"text"}]},on:{input:function(t){return e.updatePreset("prompt",t,n)}},model:{value:e.settings.presets[n].prompt,callback:function(t){e.$set(e.settings.presets[n],"prompt",t)},expression:"settings.presets[repeaterIndex].prompt"}})],1)]}}])})],1)])])},uD=[];let pD=class extends l.w3{updateField(e,t){const n=(0,ur.Z)(this.settings);n[e]=t,this.$emit("input",n)}updatePresets(e){const t=(0,ur.Z)(this.settings);t.presets=e,this.$emit("input",t)}updatePreset(e,t,n){const s=(0,ur.Z)(this.settings),a=s.presets||[];a[n][e]=t,s.presets=a,this.$emit("input",s)}};(0,r.gn)([(0,l.fI)()],pD.prototype,"settings",void 0),(0,r.gn)([(0,l.fI)()],pD.prototype,"loading",void 0),pD=(0,r.gn)([(0,l.wA)({components:{TextInput:Qs.Z,NumberInput:dr.Z,IconButton:oo.Z,TopBarSection:Ao,NiceButton:Wr.Z,DropdownInput:cr.Z,Repeater:bh.Z}})],pD);const hD=pD,gD=hD;var mD=(0,L.Z)(gD,dD,uD,!1,null,null,null);const vD=mD.exports;var fD=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ai-writer"},[t("h3",{staticClass:"ai-panel__title"},[e._v(e._s(e.title))]),t("div",{staticClass:"ai-writer-field mb-4"},[t("label",{staticClass:"ai-writer-field__label",attrs:{for:""}},[e._v("Describe This Section")]),t("TextInput",{attrs:{value:e.prompt.sectionDescription,multiline:!0},on:{input:function(t){return e.updateField("sectionDescription",t)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?t.ctrlKey||t.shiftKey||t.altKey?null:(t.preventDefault(),e.$emit("rewrite")):null}}}),t(ax.Z,{attrs:{"max-width":"236",bottom:""},scopedSlots:e._u([{key:"activator",fn:function({attrs:n,on:s}){return[t("span",{staticClass:"d-block text-right"},[t("span",e._g(e._b({staticClass:"ai-writer-tooltip"},"span",n,!1),s),[t("Icon",{attrs:{icon:"CircleInfoIcon",size:"14"}}),e._v(" See examples ")],1)])]}}])},[t("div",[e._v(" Examples: "),t("ul",[t("li",[e._v("Homepage hero section")]),t("li",[e._v("Call to action section on services page")]),t("li",[e._v("Section showing testimonials")])])])])],1),t("div",{staticClass:"ai-writer-field mb-4"},[t("label",{staticClass:"ai-writer-field__label",attrs:{for:""}},[e._v("Qualifiers (optional)")]),t("TextInput",{attrs:{value:e.prompt.qualifiers},on:{input:function(t){return e.updateField("qualifiers",t)}}}),t(ax.Z,{attrs:{"max-width":"236",bottom:""},scopedSlots:e._u([{key:"activator",fn:function({attrs:n,on:s}){return[t("span",{staticClass:"d-block text-right"},[t("span",e._g(e._b({staticClass:"ai-writer-tooltip"},"span",n,!1),s),[t("Icon",{attrs:{icon:"CircleInfoIcon",size:"14"}}),e._v(" See examples ")],1)])]}}])},[t("div",[e._v(" Examples: "),t("ul",[t("li",[e._v("Be funny")]),t("li",[e._v("Write it like snoop dogg")]),t("li",[e._v("Be very concise")]),t("li",[e._v("Be verbose")]),t("li",[e._v("Mention apples, oranges, and bananas")])])])])],1),t("div",{staticClass:"ai-writer-field ai-writer-field--row"},[t("label",{staticClass:"ai-writer-field__label",attrs:{for:""}},[e._v("Temperature")]),t("NumberInput",{attrs:{value:e.prompt.temperature,"range-options":{min:0,max:1,step:.1}},on:{input:e.updateTemperature}})],1),e.disabled?t("AlertBox",{staticClass:"mt-5",attrs:{options:{style:"warning",content:`The <b>${e.elementName}</b> element does not support AI writing.`}}}):e._e(),e.lockedFields.length?t("div",{staticClass:"ai-writer-warning"},[t("div",{on:{click:function(t){e.viewWarning=!e.viewWarning}}},[t("AlertBox",{attrs:{options:{style:"warning",content:"Some fields are locked and will not be updated by AI. <b class='cursor-pointer'>Click to view.</b>"}}})],1),e.viewWarning?t("ul",{staticClass:"ai-write-warning-list"},e._l(e.lockedFields,(function(n){return t("li",[e._v(" "+e._s(n.field.label)+" Field in "),t("b",{staticClass:"cursor-pointer",on:{click:function(t){return e.activateElement(n.nodeId)}}},[e._v(" "+e._s(e.isActiveElement(n.nodeId)?"This":n.nodeName)+" Element ")])])})),0):e._e()]):e._e(),t("NiceButton",{staticClass:"ai-writer-button",attrs:{loading:e.loading,leftIcon:"SparklesIcon",color:"indigo",size:"huge",disabled:e.disabled},on:{click:function(t){return e.$emit("rewrite")}}},[e._v(" Rewrite With AI ")])],1)},yD=[];let bD=class extends l.w3{constructor(){super(...arguments),this.viewWarning=!1}updateField(e,t){const n=(0,ur.Z)(this.prompt);lr()(n,e,t),this.$emit("updatePrompt",n)}updateTemperature(e){const t=Math.max(0,Math.min(1,e));this.updateField("temperature",t)}isActiveElement(e){return X.kD.activeElementId===e}activateElement(e){X.kD.activateElement(e)}};(0,r.gn)([(0,l.fI)()],bD.prototype,"prompt",void 0),(0,r.gn)([(0,l.fI)()],bD.prototype,"title",void 0),(0,r.gn)([(0,l.fI)({default:!1})],bD.prototype,"loading",void 0),(0,r.gn)([(0,l.fI)({default:!1})],bD.prototype,"disabled",void 0),(0,r.gn)([(0,l.fI)({default:""})],bD.prototype,"elementName",void 0),(0,r.gn)([(0,l.fI)({default(){return[]}})],bD.prototype,"lockedFields",void 0),bD=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,TextInput:Qs.Z,NiceButton:Wr.Z,NumberInput:dr.Z,ToggleInput:zc.Z,AlertBox:qu.Z}})],bD);const _D=bD,xD=_D;var SD=(0,L.Z)(xD,fD,yD,!1,null,null,null);const PD=SD.exports;var CD=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ai-panel-message"},[t("Icon",{staticClass:"ai-panel-message__icon",attrs:{size:"60",icon:"RobotIcon"}}),t(ar.EB,{staticClass:"ai-panel-message__title"},[e._v(" Welcome to Breakdance AI ")]),t("p",[e._v("Rewrite your content with the power of AI.")]),t("p",[e._v(" Breakdance uses OpenAI's GPT-3.5 to rewrite your content. Please install the Breakdance AI plugin to use this feature. ")]),t("NiceButton",{attrs:{size:"huge",color:"indigo"},on:{click:e.goToPluginPage}},[e._v(" Install now ")])],1)},wD=[];let ID=class extends l.w3{goToPluginPage(){window.open("https://breakdance.com/ai","_blank")}};ID=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,NiceButton:Wr.Z}})],ID);const kD=ID,DD=kD;var ED=(0,L.Z)(DD,CD,wD,!1,null,null,null);const TD=ED.exports;var ZD=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ai-panel-message"},[t("Icon",{staticClass:"ai-panel-message__icon",attrs:{size:"60",icon:"RobotIcon"}}),t(ar.EB,{staticClass:"ai-panel-message__title"},[e._v(" Set up your OpenAI API key ")]),t("p",[e._v(" You need to set up your OpenAI API key before you can use the AI assistant. ")]),t("p",[t("a",{attrs:{href:e.wpAdminSettingsAiTabUrl,target:"_blank",rel:"noopener noreferrer"}},[e._v(" Click here to set up your API key ")])])],1)},AD=[];let BD=class extends l.w3{get wpAdminSettingsAiTabUrl(){return"wp-admin/admin.php?page="+this.$bdox("admin_page_settings_slug")+"&tab=ai"}};BD=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,NiceButton:Wr.Z}})],BD);const MD=BD,OD=MD;var LD=(0,L.Z)(OD,ZD,AD,!1,null,null,null);const RD=LD.exports;var ND=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ai-panel-message"},[t("Icon",{staticClass:"ai-panel-message__icon",attrs:{size:"60",icon:"RobotIcon"}}),t(ar.EB,{staticClass:"ai-panel-message__title"},[e._v(" Select an element first ")]),t("p",[e._v("Click on an element in the editor to rewrite it with AI.")])],1)},FD=[];let $D=class extends l.w3{};$D=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,NiceButton:Wr.Z}})],$D);const VD=$D,WD=VD;var HD=(0,L.Z)(WD,ND,FD,!1,null,null,null);const zD=HD.exports;let UD=class extends l.w3{constructor(){super(...arguments),this.rewriteInProgress=!1,this.savingSettings=!1,this.loadingSettings=!1,this.pluginNotInstalled=!1,this.activeTab="content",this.tab="write",this.maxRetries=3,this.retries=0}get element(){return c.kD.activeElement||null}get elementConfig(){return this.element?c.PK.element(this.element.data.type):null}get isAIDisabled(){return this.elementConfig?.settings&&this.elementConfig?.settings.disableAI}get settings(){return c.cr.aiSettings}get prompt(){return{sectionDescription:this.elementDescription,qualifiers:this.qualifiers,temperature:this.temperature,lockedFields:this.lockedFieldsPaths,locale:this.settings.locale,unsplash:{enabled:!1,fillEmptyImagesOnly:!1,keywords:""},singularity:{sectionData:{type:!1,index:!1},shouldGenerateOnInitialLoad:!1,unsplashKeywords:[]},onboarding:{sectionType:!1,shouldGenerateOnInitialLoad:!1}}}get friendlyName(){return this.element?(0,tD.w2)(this.element):"Section"}get elementDescription(){return this.element?(0,tD.EJ)(this.element):""}get qualifiers(){return this.element?(0,tD.zX)(this.element):""}get temperature(){return this.element?(0,tD.Wh)(this.element):1}get canViewTabs(){return this.settings.isApiKeySet&&!this.pluginNotInstalled}get unsavedChangesPresent(){return c.cr.aiSettingsHasUnsavedChangesPresent}get lockedFieldsPaths(){return this.element?(0,tD.nS)(this.element):[]}get lockedFields(){return this.element?(0,tD.LX)(this.element).filter((e=>e.field.locked)):[]}async fetchAndUpdateImages(e){if(!this.element)return;const t=(0,tD.ho)(this.element),{enabled:n,fillEmptyImagesOnly:s}=this.prompt.unsplash;if(!n)return;if(!e)return void this.log("Failed to get Unsplash keywords from OpenAI API.");const a=await(0,eD.Ig)(e,t.length);(0,tD.hh)(t,a,s)}async syncRewrite(e,t){const n=(0,Uo.pipe)(await(0,eD.Tk)(e),(0,Ko.fold)((()=>null),(e=>e)));if(!n)throw new Error("No response was returned from OpenAI API.");const s=(0,tD.wi)(n,t);if(!s.elements.length)throw new Error("No elements were returned from OpenAI API.");(0,tD.gU)(s.elements),await this.fetchAndUpdateImages(s.unsplash_keywords)}async streamRewrite(e,t){await(0,eD.ho)(e,"json",this.temperature);const n=(0,eD.m3)();let s="";return new Promise(((e,a)=>{n.onmessage=async i=>{if("[DONE]"===i.data){n.close();try{const n=(0,Jk.K)(s),a=(0,tD.wi)(n,t);(0,tD.gU)(a.elements),console.log("%cOutput","color: green;"),console.log(n),e(s)}catch(o){a(o)}}else{if(s+=(0,eD.y8)(i.data),s=(0,eD.J4)(s),!s)return;try{const e=(0,eD.n7)(s),n=(0,Jk.K)(e),a=(0,tD.wi)(n,t);(0,tD.gU)(a.elements)}catch(o){console.debug(s),console.debug(o)}}},n.onerror=e=>{n.close(),a(e.data)}}))}async rewrite(){if(this.rewriteInProgress)return;if(!this.element)return;const e=(0,tD.LX)(this.element),t=(0,nD.ee)(e),n=(0,nD.r1)(t,this.prompt,this.settings.prompt);if(this.rewriteInProgress=!0,(0,tD.JA)(this.element,this.prompt),console.log("%cInput","color: #2196F3;"),console.log({fields:e,prompt:n}),!e.length)return this.log("This element is empty, please add some content first."),void(this.rewriteInProgress=!1);try{this.settings.isStreamingEnabled?await this.streamRewrite(n,e):await this.syncRewrite(n,e)}catch(s){await this.retry(s)}this.rewriteInProgress=!1}async retry(e){this.rewriteInProgress=!1,this.retries<this.maxRetries?(console.log(`%cRetrying ${this.retries+1} of ${this.maxRetries}`,"color: #2196F3;"),this.retries++,await this.rewrite()):(this.retries=0,console.log("Max retries reached, giving up."),this.handleError(e))}handleError(e){(0,tD.Qm)(e)}updateSettings(e){const t=(0,ur.Z)(this.settings);t.prompt=e,c.cr.setAiSettings(t)}async savePromptSettings(){this.savingSettings=!0;const e=await(0,eD.yV)();return this.savingSettings=!1,e}async loadSettings(){this.loadingSettings=!0;const e=await(0,eD.I8)();return e?(this.loadingSettings=!1,this.pluginNotInstalled=!1,!0):(c.kD.noClosingConfirmationIsNeededFor("ai"),this.pluginNotInstalled=!0,this.loadingSettings=!1,!1)}updatePrompt(e){this.element&&c.Hb.unthrottledPropertyChanged({elementId:this.element.id,path:"meta.promptInfo",meta:{snapshotLabel:`Updated prompt info for element #${this.element.id}`},value:e})}requestPanelClosingConfirmation(){c.kD.requestClosingConfirmation({subject:"ai",confirmationDefinition:{title:"You have unsaved changes to your AI Settings.",text:"Would you like to save or discard these changes?",type:"info"}})}handleUnsavedChangesPresentChange(e){e?this.requestPanelClosingConfirmation():c.kD.noClosingConfirmationIsNeededFor("ai")}get confirmationChosenOption(){return c.kD.closingConfirmations.ai?.chosenOption}async handleConfirmationChosenOptionChange(e){"discard"===e?(c.kD.setClosingConfirmationIsDiscarding({subject:"ai",isDiscarding:!0}),await this.loadSettings()?this.close():this.requestPanelClosingConfirmation()):"save"===e&&(c.kD.setClosingConfirmationIsSaving({subject:"ai",isSaving:!0}),await this.savePromptSettings()?this.close():this.requestPanelClosingConfirmation())}close(){(0,Pl.TO)("ai")}log(e){Yo.Z.log.errorMessage(e)}async beforeMount(){c.kD.panelState.shouldLoadFreshDataIntoStoreOnceOpened.ai?await this.loadSettings():c.kD.setShouldPanelLoadFreshDataIntoStoreOnceOpened("ai",!0)}};(0,r.gn)([(0,l.RL)("unsavedChangesPresent",{immediate:!0})],UD.prototype,"handleUnsavedChangesPresentChange",null),(0,r.gn)([(0,l.RL)("confirmationChosenOption",{immediate:!0})],UD.prototype,"handleConfirmationChosenOptionChange",null),UD=(0,r.gn)([(0,l.wA)({components:{Tab:o_,Icon:ze.Z,TabsRow:h_,NiceButton:Wr.Z,PanelHeader:DS,AIWriter:PD,AIUnsplash:cD,AISettings:vD,AINoApiKey:RD,AIPluginNotInstalled:TD,AINoElementSelected:zD}})],UD);const KD=UD,GD=KD;var qD=(0,L.Z)(GD,Xk,Qk,!1,null,null,null);const jD=qD.exports;var YD=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-properties-panel breakdance-element-properties-panel",attrs:{"data-test-id":"element-properties-panel"}},[e.elementIsActive?[t("Titlebar",{attrs:{size:"small"}}),t("OxygenTabsAndControls")]:[t("BlankSidebarContent")]],2)},XD=[],QD=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-tabs-controls"},[e.isComponent?e._e():t("header",{staticClass:"oxy-properties-panel-toolbar"},[t("div",{staticClass:"oxy-properties-panel-toolbar-section"},[t("ClassDropdown")],1)]),t("div",{staticClass:"oxy-tabs",class:{"oxy-tabs--expand-to-fit":e.filteredTabs.length<4}},e._l(e.filteredTabs,(function(n){return t("OxygenCopyPastContextMenu",{key:n.slug,attrs:{name:n.name,value:e.getSettingsData(n.slug),path:n.slug},on:{input:function(t){return e.setSettingsData(n.slug,t)}},scopedSlots:e._u([{key:"default",fn:function({openContextMenu:s}){return[t(ax.Z,{attrs:{"content-class":"oxy-tab-tooltip",top:"","open-delay":500,transition:"0",text:n.name},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:i}){return[t("button",e._g(e._b({staticClass:"oxy-tabs-item",class:{"oxy-tabs-item--active":e.activeTabSlug===n.slug,"oxy-tabs-item--filled":e.tabHasData(n.slug)},on:{click:function(t){return e.updateTab(n.slug)},contextmenu:s}},"button",i,!1),a),[t("Icon",{attrs:{icon:n.icon}})],1)]}}],null,!0)},[t("span",{domProps:{innerHTML:e._s(n.name)}})])]}}],null,!0)})})),1),t("div",{staticClass:"vscroll-wrap vscroll-scroll oxy-tab",class:`oxy-tab-${e.activeTabSlug}`},["classes"===e.activeTabSlug?t("ClassProperties",{attrs:{selector:e.activeSelector,"nested-selector":e.activeNestedSelector}}):"attributes"===e.activeTabSlug?t("OxygenHtmlAttributes"):t("ControlsTree",{attrs:{controls:e.controlSections,path:e.path}})],1),t("PanelMask")],1)},JD=[],eE=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-class-properties"},[e.selector?.locked&&!e.editAnyway?t("div",{staticClass:"oxy-class-properties__locked-warning"},[t("p",[e._v(" The selector "),t("b",[e._v(e._s(e.selector?.name))]),e._v(" is locked. "),t("br"),e._v(" Are you sure you want to edit? ")]),t("nice-button",{on:{click:function(t){e.editAnyway=!0}}},[e._v("Edit anyway")])],1):t("OxygenControls",{attrs:{controls:e.controls,root:!0},model:{value:e.propertiesAtCurrentBreakpoint,callback:function(t){e.propertiesAtCurrentBreakpoint=t},expression:"propertiesAtCurrentBreakpoint"}}),t("span",{staticClass:"oxy-class-properties-spacer"})],1)},tE=[],nE=n(51613);const sE=lp.LF.indexOf("custom"),aE=[...lp.LF.slice(0,sE),"none",...lp.LF.slice(sE)],iE=[{slug:"layout",name:"Layout",type:"accordion",open:!0,controls:[{slug:"display",name:"Display",type:"button-bar",items:[{value:"block",label:"Block"},{value:"flex",label:"Flex"},{value:"grid",label:"Grid"},{value:"none",label:"None"},{value:"inline-block",label:"Inline Block",shortLabel:"In. Block"},{value:"inline-flex",label:"Inline Flex",shortLabel:"In. Flex"},{value:"inline-grid",label:"Inline Grid",shortLabel:"In. Grid"},{value:"inline",label:"Inline"},{value:"contents",label:"Contents"}],hideAfter:4},{slug:"flex_direction",name:"Flow",type:"button-bar",hideAfter:3,items:[{value:"row",label:"Row",icon:"ArrowRightIcon",hideLabel:!0},{value:"column",label:"Column",icon:"ArrowDownIcon",hideLabel:!0},{value:"wrap",label:"Wrap",icon:"ArrowTurnDownLeftIcon",hideLabel:!0},{value:"row-reverse nowrap",label:"Row Reverse",shortLabel:"Row Rev."},{value:"row-reverse wrap",label:"Row Reverse Wrap",shortLabel:"Row Rev. Wrap"},{value:"column wrap",label:"Column Wrap",shortLabel:"Col. Wrap"},{value:"column-reverse nowrap",label:"Column Reverse",shortLabel:"Col. Rev."},{value:"column-reverse wrap",label:"Column Reverse Wrap",shortLabel:"Col. Rev. Wrap"},{value:"wrap-reverse",label:"Wrap-Reverse",shortLabel:"Wrap-Rev."}],conditions:["display","in",["flex","inline-flex"]]},{slug:"flex_align",name:"Align",type:"align",conditions:["display","in",["flex","inline-flex"]]},{slug:"grid",name:"Grid",type:"group",columns:11,controls:[{slug:"simple_grid_template_columns",name:"Columns",type:"number",width:5,positionLabel:"bottom",disabledConditions:["layout.grid.enable_advanced_mode","==",!0]},{slug:"simple_grid_template_rows",name:"Rows",type:"number",width:5,positionLabel:"bottom",disabledConditions:["layout.grid.enable_advanced_mode","==",!0]},{slug:"enable_advanced_mode",name:"Enable Advanced Mode",type:"button",icon:"GearIcon",width:1,hideLabel:!0}],conditions:["display","==","grid"]},{slug:"grid_template_columns",name:"Columns",type:"repeater",noDataMessage:"No columns",noExpand:!0,noDisable:!0,defaultTitle:"Column",itemIcon:"LeftAndRightArrowsIcon",titleTemplate(e){return`${e.size?.style||"(empty)"}`},defaultNewValue:{size:{number:"1",unit:"fr",style:"1fr"}},controls:[{slug:"size",name:"Size",type:"unit",defaultType:"fr",types:["fr",...lp.LF],min:.25,max:5,step:.25}],conditions:[["display","==","grid"],["grid.enable_advanced_mode","==",!0]]},{slug:"grid_template_rows",name:"Rows",type:"repeater",noDataMessage:"No rows",noExpand:!0,noDisable:!0,defaultTitle:"Row",itemIcon:"LeftAndRightArrowsIcon",titleTemplate(e){return`${e.size?.style||"(empty)"}`},defaultNewValue:{size:{number:"1",unit:"fr",style:"1fr"}},controls:[{slug:"size",name:"Size",type:"unit",defaultType:"fr",types:["fr",...lp.LF],min:.25,max:5,step:.25}],conditions:[["display","==","grid"],["grid.enable_advanced_mode","==",!0]]},{slug:"grid_area",name:"Areas",type:"repeater",noDisable:!0,noExpand:!0,defaultNewValue:{name:"Area-{index}"},defaultTitle:"Area",titleTemplate(e){return`${e.name}`},noDataMessage:"No areas",controls:[{slug:"name",name:"Name",type:"text"}],conditions:[["display","==","grid"],["grid.enable_advanced_mode","==",!0]]},{slug:"grid_auto_columns",name:"Auto Columns",type:"unit",defaultType:"fr",types:["fr",...lp.LF],conditions:[["display","==","grid"],["grid.enable_advanced_mode","==",!0]],width:6,positionLabel:"bottom"},{slug:"grid_auto_rows",name:"Auto Rows",type:"unit",defaultType:"fr",types:["fr",...lp.LF],conditions:[["display","==","grid"],["grid.enable_advanced_mode","==",!0]],width:6,positionLabel:"bottom"},{slug:"grid_auto_flow",name:"Flow",type:"button-bar",items:[{value:"row",label:"Row",icon:"ArrowRightIcon",hideLabel:!0},{value:"column",label:"Column",icon:"ArrowDownIcon",hideLabel:!0}],conditions:["display","==","grid"]},{slug:"grid_align",name:"Align",type:"align",conditions:["display","==","grid"]},{slug:"gap",name:"Gap",type:"gap",conditions:["display","in",["grid","flex"]]},{slug:"grid_justify_content",name:"Justify",type:"button-bar",items:[{value:"start",label:"Start",icon:"FlexAlignLeftIcon",hideLabel:!0},{value:"center",label:"Center",icon:"FlexAlignCenterHorizontalIcon",hideLabel:!0},{value:"end",label:"End",icon:"FlexAlignRightIcon",hideLabel:!0},{value:"stretch",label:"Stretch",icon:"SquareQuestionIcon",hideLabel:!0},{value:"space-between",label:"Space Between",icon:"SquareQuestionIcon",hideLabel:!0},{value:"space-around",label:"Space Around",icon:"SquareQuestionIcon",hideLabel:!0}],conditions:["display","==","grid"]},{slug:"grid_align_content",name:"Align C.",type:"button-bar",items:[{value:"start",label:"Start",icon:"FlexAlignTopIcon",hideLabel:!0},{value:"center",label:"Center",icon:"FlexAlignCenterVerticalIcon",hideLabel:!0},{value:"end",label:"End",icon:"FlexAlignBottomIcon",hideLabel:!0},{value:"stretch",label:"Stretch",icon:"SquareQuestionIcon",hideLabel:!0},{value:"space-between",label:"Space Between",icon:"SquareQuestionIcon",hideLabel:!0},{value:"space-around",label:"Space Around",icon:"SquareQuestionIcon",hideLabel:!0}],conditions:["display","==","grid"]}]},{slug:"spacing",name:"Spacing",type:"accordion",controls:[{slug:"spacing",name:"spacing",type:"spacing",hideLabel:!0}]},{slug:"size",name:"Size",type:"accordion",controls:[{slug:"width",name:"Width",type:"unit",width:6},{slug:"height",name:"Height",type:"unit",width:6},{slug:"max_width",name:"Max W",type:"unit",width:6,types:aE},{slug:"max_height",name:"Max H",type:"unit",width:6,types:aE},{slug:"min_width",name:"Min W",type:"unit",width:6},{slug:"min_height",name:"Min H",type:"unit",width:6},{slug:"overflow",name:"Overflow",type:"button-bar",items:[{label:"Visible",value:"visible",icon:"EyeSolidIcon",hideLabel:!0},{label:"Hidden",value:"hidden",icon:"EyeSlashSolidIcon",hideLabel:!0},{label:"Scroll",value:"scroll",icon:"ComputerMouseScrollWheelIcon",hideLabel:!0},{label:"Clip",value:"clip",icon:"ScissorsIcon",hideLabel:!0},{label:"Auto",value:"auto"}]},{name:"Ratio",slug:"aspect_ratio",type:"select",items:[{label:"16:9",value:"16 / 9"},{label:"4:3",value:"4 / 3"},{label:"3:2",value:"3 / 2"},{label:"Square (1:1)",value:"1"},{label:"Custom",value:"custom"}]},{slug:"aspect_ratio_custom",name:"",type:"group",controls:[{slug:"width",name:"Width",type:"number",width:6,positionLabel:"bottom"},{slug:"height",name:"Height",type:"number",width:6,positionLabel:"bottom"}],conditions:["aspect_ratio","==","custom"]},{name:"Fit",slug:"object_fit",type:"select",items:[{label:"Fill",value:"fill"},{label:"Contain",value:"contain"},{label:"Cover",value:"cover"},{label:"None",value:"none"},{label:"Scale Down",value:"scale-down"}]},{name:"Position",slug:"object_position",type:"focus-point",conditions:["object_fit","not in",[void 0,"none"]]},{name:"Box Size",slug:"box_sizing",type:"button-bar",width:12,items:[{label:"Border Box",value:"border-box"},{label:"Content Box",value:"content-box"}]}]},{slug:"position",name:"Position",type:"accordion",controls:[{slug:"position",name:"Position",type:"select",items:[{label:"Static",value:"static"},{label:"Relative",value:"relative"},{label:"Absolute",value:"absolute"},{label:"Fixed",value:"fixed"},{label:"Sticky",value:"sticky"}]},{slug:"top",name:"Top",type:"unit",width:6,conditions:["position","not in",["static",void 0]]},{slug:"right",name:"Right",type:"unit",width:6,conditions:["position","not in",["static",void 0]]},{slug:"bottom",name:"Bottom",type:"unit",width:6,conditions:["position","not in",["static",void 0]]},{slug:"left",name:"Left",type:"unit",width:6,conditions:["position","not in",["static",void 0]]},{slug:"z_index",name:"Z-Index",type:"number",width:6,conditions:["position","not in",["static",void 0]]}]},{slug:"typography",name:"Typography",type:"accordion",hideAfter:9,controls:[{slug:"color",name:"Color",type:"color"},{slug:"font_family",name:"Font",type:"font-family"},{slug:"font_weight",name:"Weight",type:"select",items:[{label:"100 - Thin",value:100},{label:"200 - Extra Light",value:200},{label:"300 - Light",value:300},{label:"400 - Normal",value:400},{label:"500 - Medium",value:500},{label:"600 - Semi Bold",value:600},{label:"700 - Bold",value:700},{label:"800 - Extra Bold",value:800},{label:"900 - Black",value:900}]},{slug:"font_size",name:"Size",type:"unit",width:6,min:0},{slug:"line_height",name:"Height",type:"unit",width:6,defaultType:"custom"},{slug:"text_align",name:"Align",type:"button-bar",items:[{label:"Left",value:"start",icon:"AlignLeftIcon",hideLabel:!0},{label:"Center",value:"center",icon:"AlignCenterIcon",hideLabel:!0},{label:"Right",value:"end",icon:"AlignRightIcon",hideLabel:!0},{label:"Justify",value:"justify",icon:"AlignJustifyIcon",hideLabel:!0}]},{slug:"style",name:"Style",type:"group",controls:[{slug:"text_decoration",name:"Decoration",type:"button-bar",width:8,items:[{label:"None",value:"none",icon:"XmarkIcon",hideLabel:!0},{label:"Underline",value:"underline",icon:"UnderlineIcon",hideLabel:!0},{label:"Overline",value:"overline",icon:"OverlineIcon",hideLabel:!0},{label:"Line Through",value:"line-through",icon:"StrikethroughIcon",hideLabel:!0}],positionLabel:"bottom"},{slug:"font_style",name:"Italic",type:"button-bar",items:[{label:"<span style='font-family: monospace;vertical-align: middle;font-weight:normal;'>I</span>",value:"normal"},{label:"Italic",value:"italic",icon:"ItalicIcon",hideLabel:!0}],width:4,positionLabel:"bottom"}]},{slug:"text_transform",name:"Transform",type:"button-bar",items:[{label:"None",value:"none",icon:"XmarkIcon",hideLabel:!0},{label:"AA",value:"uppercase"},{label:"Aa",value:"capitalize"},{label:"aa",value:"lowercase"}],width:7,positionLabel:"bottom"},{slug:"letter_spacing",name:"Letter Spacing",type:"unit",width:5,positionLabel:"bottom"},{slug:"text_indent",name:"Text Indent",type:"unit",width:6,positionLabel:"bottom"},{slug:"direction",name:"Direction",type:"button-bar",items:["ltr","rtl"],width:6,positionLabel:"bottom"},{slug:"overflow_wrap",name:"Overflow Wrap",width:6,positionLabel:"bottom",type:"select",items:["normal","break-word"]},{slug:"text_wrap",name:"Text Wrap",width:6,positionLabel:"bottom",type:"select",items:[{label:"auto",value:"wrap"},{label:"nowrap",value:"nowrap"},{label:"balance",value:"balance"},{label:"pretty",value:"pretty"}]},{slug:"text_overflow",name:"Text Overflow",type:"button-bar",positionLabel:"bottom",width:4,items:[{value:"clip",label:"Clip",icon:"XmarkIcon",hideLabel:!0},{value:"ellipsis",label:"Ellipsis",icon:"EllipsisIcon",hideLabel:!0}]},{slug:"list_style",name:"List Style",type:"button-bar",positionLabel:"bottom",width:8,items:[{value:"none",label:"None",icon:"XmarkIcon",hideLabel:!0},{value:"disc",label:"Circles",icon:"ListIcon",hideLabel:!0},{value:"numbers",label:"Numbers",icon:"OlListIcon",hideLabel:!0},{value:"lower-alpha",label:"Letters",icon:"LetterAIcon",hideLabel:!0},{value:"lower-roman",label:"Roman numerals",icon:"LetterIIcon",hideLabel:!0}]},{slug:"stroke",name:"Stroke",type:"group",controls:[{slug:"stroke_width",name:"Width",type:"unit",width:5,positionLabel:"bottom"},{slug:"stroke_color",name:"Color",type:"color",width:7,positionLabel:"bottom"}]},{slug:"text_shadow",name:"Text Shadow",type:"repeater",itemColorPath:"color",titleTemplate:e=>{const{x:t,y:n,blur:s}=e;return`Text Shadow: ${t?.style} ${n?.style} ${s?.style}`},defaultNewValue:{x:{number:0,unit:"px",style:"0px"},y:{number:1,unit:"px",style:"1px"},blur:{number:1,unit:"px",style:"1px"},color:"#000000"},controls:[{slug:"x",name:"X",type:"unit",min:-20,max:20,step:1},{slug:"y",name:"Y",type:"unit",min:-20,max:20,step:1},{slug:"blur",name:"Blur",type:"unit",min:0,max:20,step:1},{slug:"color",name:"Color",type:"color"}]}]},{slug:"background",name:"Background",type:"accordion",controls:[{slug:"background_color",name:"Color",type:"color"},{slug:"backgrounds",name:"Image & Gradient",type:"repeater",defaultNewValue:{type:"image"},itemIcon:"ImageAndVideIcon",titleTemplate:e=>"gradient"===e?.type?"Gradient":"image"===e?.type?"Image":"color_overlay"===e?.type?e.color||"Color Overlay":"video"===e?.type?"Video":"",defaultTitle:"Background",controls:[{slug:"type",name:"Type",type:"button-bar",hideLabel:!0,items:[{label:"Image",value:"image",icon:"ImageIcon",hideLabel:!0},{label:"Gradient",value:"gradient",iconHtml:'<span class="oxy-gradient-icon"></span>',hideLabel:!0},{label:"Color Overlay",value:"color_overlay",icon:"SquareSolidIcon",hideLabel:!0}]},{slug:"image",name:"Image",type:"media",hideLabel:!0,conditions:["type","==","image"]},{slug:"image_size",name:"Size",type:"media-size",conditions:["type","==","image"]},{slug:"background_size",name:"Size",type:"button-bar",items:[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Custom",value:"custom"}],conditions:["type","==","image"]},{slug:"background_size_custom",name:"",type:"group",controls:[{slug:"width",name:"Width",type:"unit",width:6,positionLabel:"bottom"},{slug:"height",name:"Height",type:"unit",width:6,positionLabel:"bottom"}],conditions:[["type","==","image"],["background_size","==","custom"]]},{slug:"background_position",name:"Position",type:"focus-point",conditions:["type","==","image"]},{slug:"background_repeat",name:"Repeat",type:"button-bar",items:[{label:"No Repeat",value:"no-repeat",icon:"XmarkIcon",hideLabel:!0},{label:"Repeat",value:"repeat",icon:"GridIcon",hideLabel:!0},{label:"Repeat X",value:"repeat-x",icon:"EllipsisIcon",hideLabel:!0},{label:"Repeat Y",value:"repeat-y",icon:"EllipsisVerticalIcon",hideLabel:!0}],conditions:["type","==","image"]},{slug:"background_attachment",name:"Attach",type:"button-bar",items:[{label:"Scroll",value:"scroll"},{label:"Fixed",value:"fixed"}],conditions:["type","==","image"]},{slug:"background_blend_mode",name:"Blend",type:"select",items:[{label:"Normal",value:"normal"},{label:"Multiply",value:"multiply"},{label:"Screen",value:"screen"},{label:"Overlay",value:"overlay"},{label:"Darken",value:"darken"},{label:"Lighten",value:"lighten"},{label:"Color Dodge",value:"color-dodge"},{label:"Color Burn",value:"color-burn"},{label:"Hard Light",value:"hard-light"},{label:"Soft Light",value:"soft-light"},{label:"Difference",value:"difference"},{label:"Exclusion",value:"exclusion"},{label:"Hue",value:"hue"},{label:"Saturation",value:"saturation"},{label:"Color",value:"color"},{label:"Luminosity",value:"luminosity"}],conditions:["type","==","image"]},{slug:"color",name:"Color",type:"color",hideLabel:!0,inline:!0,positionLabel:"bottom",conditions:["type","==","color_overlay"]},{slug:"gradient",name:"Gradient",type:"color",hideLabel:!0,inline:!0,positionLabel:"bottom",colorType:"gradientOnly",conditions:["type","==","gradient"]}]}]},{slug:"borders",name:"Borders",type:"accordion",controls:[{slug:"border_radius",name:"Radius",type:"border-radius"},{slug:"borders",name:"Borders",type:"border",positionLabel:"top"}]},{slug:"effects",name:"Effects",type:"accordion",controls:[{slug:"opacity",name:"Opacity",type:"number",min:0,max:100,step:1},{slug:"cursor",name:"Cursor",type:"select",items:["auto","default","pointer","wait","text","move","not-allowed","help","crosshair","grab","grabbing"]},{slug:"blend_mode",name:"Blend",type:"select",items:[{label:"Normal",value:"normal"},{label:"Multiply",value:"multiply"},{label:"Screen",value:"screen"},{label:"Overlay",value:"overlay"},{label:"Darken",value:"darken"},{label:"Lighten",value:"lighten"},{label:"Color Dodge",value:"color-dodge"},{label:"Color Burn",value:"color-burn"},{label:"Hard Light",value:"hard-light"},{label:"Soft Light",value:"soft-light"},{label:"Difference",value:"difference"},{label:"Exclusion",value:"exclusion"},{label:"Hue",value:"hue"},{label:"Saturation",value:"saturation"},{label:"Color",value:"color"},{label:"Luminosity",value:"luminosity"}]},{slug:"transition",name:"Transition",type:"repeater",titleTemplate:e=>{const t=e?.property||"all",n=t.charAt(0).toUpperCase()+t.slice(1);return`${n}: ${e?.duration?.style||"0ms"}`},itemIcon:"TimerIcon",defaultNewValue:{property:"opacity",duration:{number:"200",unit:"ms",style:"200ms"},easing:"ease"},controls:[{slug:"property",name:"Property",type:"select",items:["all","none","color","background","transform","width","height","opacity","border","box-shadow","outline"]},{slug:"duration",name:"Duration",type:"unit",min:0,step:25,max:1e3,types:["ms","s","custom"],defaultType:"ms"},{slug:"easing",name:"Easing",type:"select",items:["ease","linear","ease-in","ease-out","ease-in-out"]},{slug:"delay",name:"Delay",type:"unit",min:0,step:25,max:1e3,types:["ms","s","custom"],defaultType:"ms"}]},{slug:"box_shadow",name:"Box Shadow",type:"repeater",itemColorPath:"color",titleTemplate:e=>{const{x:t,y:n,blur:s,spread:a}=e,i="inset"===e.position?"Inner":"Outer";return`${i}: ${t?.style} ${n?.style} ${s?.style} ${a?.style}`},defaultNewValue:{x:{number:0,unit:"px",style:"0px"},y:{number:2,unit:"px",style:"2px"},blur:{number:5,unit:"px",style:"5px"},spread:{number:0,unit:"px",style:"0px"},color:"#00000030",position:"outset"},controls:[{slug:"position",name:"Position",type:"button-bar",items:[{label:"Outset",value:"outset"},{label:"Inset",value:"inset"}]},{slug:"color",name:"Color",type:"color"},{slug:"x",name:"X",type:"unit"},{slug:"y",name:"Y",type:"unit"},{slug:"blur",name:"Blur",type:"unit"},{slug:"spread",name:"Spread",type:"unit"}]},{slug:"filter",name:"Filter",type:"repeater",itemIcon:"WandMagicSparkles",defaultNewValue:{type:"blur",value:{number:100,unit:"%",style:"100%"},blur_value:{number:5,unit:"px",style:"5px"},hue_value:{number:180,unit:"deg",style:"180deg"},x:{number:0,unit:"px",style:"0px"},y:{number:2,unit:"px",style:"2px"},blur:{number:5,unit:"px",style:"5px"}},titleTemplate:e=>{if("drop-shadow"===e.type)return`Drop shadow: ${e.x?.style} ${e.y?.style} ${e.blur?.style}`;const t=e.type?e.type?.charAt(0).toUpperCase()+e.type?.slice(1).replace("-"," "):"Filter";return"blur"===e.type?`${t}: ${e.blur_value?.style}`:"hue-rotate"===e.type?`${t}: ${e.hue_value?.style}`:`${t}: ${e.value?.style}`},controls:[{slug:"type",name:"Type",type:"select",items:[{label:"Blur",value:"blur"},{label:"Brightness",value:"brightness"},{label:"Contrast",value:"contrast"},{label:"Grayscale",value:"grayscale"},{label:"Hue Rotate",value:"hue-rotate"},{label:"Invert",value:"invert"},{label:"Opacity",value:"opacity"},{label:"Saturate",value:"saturate"},{label:"Sepia",value:"sepia"}]},{slug:"blur_value",name:"Value",type:"unit",conditions:["type","==","blur"]},{slug:"hue_value",name:"Value",type:"unit",defaultType:"deg",types:["deg"],min:0,max:360,step:45,conditions:["type","==","hue-rotate"]},{slug:"value",name:"Value",type:"unit",min:0,max:100,step:1,defaultType:"%",types:["%"],conditions:["type","in",["brightness","contrast","grayscale","invert","opacity","saturate","sepia"]]},{slug:"x",name:"X",type:"unit",conditions:["type","==","drop-shadow"]},{slug:"blur",name:"Blur",type:"unit",conditions:["type","==","drop-shadow"]}]},{slug:"backdrop_filter",name:"Backdrop Filter",type:"repeater",itemIcon:"SquareQuestionIcon",defaultNewValue:{type:"blur",value:{number:100,unit:"%",style:"100%"},blur_value:{number:5,unit:"px",style:"5px"},hue_value:{number:180,unit:"deg",style:"180deg"},x:{number:0,unit:"px",style:"0px"},y:{number:2,unit:"px",style:"2px"},blur:{number:5,unit:"px",style:"5px"}},titleTemplate:e=>{if("drop-shadow"===e.type)return`Drop shadow: ${e.x?.style} ${e.y?.style} ${e.blur?.style}`;const t=e.type?e.type?.charAt(0).toUpperCase()+e.type?.slice(1).replace("-"," "):"Filter";return"blur"===e.type?`${t}: ${e.blur_value?.style}`:"hue-rotate"===e.type?`${t}: ${e.hue_value?.style}`:`${t}: ${e.value?.style}`},controls:[{slug:"type",name:"Type",type:"select",items:[{label:"Blur",value:"blur"},{label:"Brightness",value:"brightness"},{label:"Contrast",value:"contrast"},{label:"Grayscale",value:"grayscale"},{label:"Hue Rotate",value:"hue-rotate"},{label:"Invert",value:"invert"},{label:"Opacity",value:"opacity"},{label:"Saturate",value:"saturate"},{label:"Sepia",value:"sepia"}]},{slug:"blur_value",name:"Value",type:"unit",conditions:["type","==","blur"]},{slug:"hue_value",name:"Value",type:"unit",defaultType:"deg",types:["deg"],min:0,max:360,step:45,conditions:["type","==","hue-rotate"]},{slug:"value",name:"Value",type:"unit",min:0,max:100,step:1,defaultType:"%",types:["%"],conditions:["type","in",["brightness","contrast","grayscale","invert","opacity","saturate","sepia"]]},{slug:"x",name:"X",type:"unit",conditions:["type","==","drop-shadow"]},{slug:"blur",name:"Blur",type:"unit",conditions:["type","==","drop-shadow"]}]},{slug:"transform",name:"Transform",type:"repeater",itemIcon:"LeftAndRightArrowsIcon",defaultNewValue:{type:"translate",translate_x:{number:0,unit:"px",style:"0px"},translate_y:{number:0,unit:"px",style:"0px"},translate_z:{number:0,unit:"px",style:"0px"},scale_x:1,scale_y:1,scale_z:1,rotate_x:{number:0,unit:"deg",style:"0deg"},rotate_y:{number:0,unit:"deg",style:"0deg"},rotate_z:{number:0,unit:"deg",style:"0deg"},skew_x:{number:0,unit:"deg",style:"0deg"},skew_y:{number:0,unit:"deg",style:"0deg"}},titleTemplate:e=>"translate"===e.type?`Translate: ${e.translate_x?.style}, ${e.translate_y?.style}, ${e.translate_z?.style}`:"scale"===e.type?`Scale: ${e.scale_x}, ${e.scale_y}, ${e.scale_z}`:"rotate"===e.type?`Rotate: ${e.rotate_x?.style}, ${e.rotate_y?.style}, ${e.rotate_z?.style}`:"skew"===e.type?`Skew: ${e.skew_x?.style}, ${e.skew_y?.style}`:"Transform",controls:[{slug:"type",name:"Type",type:"button-bar",hideLabel:!0,items:[{label:"Translate",value:"translate"},{label:"Scale",value:"scale"},{label:"Rotate",value:"rotate"},{label:"Skew",value:"skew"}]},{slug:"translate_x",name:"X",type:"unit",conditions:["type","==","translate"]},{slug:"translate_y",name:"Y",type:"unit",conditions:["type","==","translate"]},{slug:"translate_z",name:"Z",type:"unit",conditions:["type","==","translate"]},{slug:"scale_x",name:"X",type:"number",min:0,step:.1,max:2,conditions:["type","==","scale"]},{slug:"scale_y",name:"Y",type:"number",min:0,step:.1,max:2,conditions:["type","==","scale"]},{slug:"scale_z",name:"Z",type:"number",min:0,step:.1,max:2,conditions:["type","==","scale"]},{slug:"rotate_x",name:"X",type:"unit",defaultType:"deg",types:["deg"],conditions:["type","==","rotate"]},{slug:"rotate_y",name:"Y",type:"unit",defaultType:"deg",types:["deg"],conditions:["type","==","rotate"]},{slug:"rotate_z",name:"Z",type:"unit",defaultType:"deg",types:["deg"],conditions:["type","==","rotate"]},{slug:"skew_x",name:"X",type:"unit",defaultType:"deg",types:["deg"],conditions:["type","==","skew"]},{slug:"skew_y",name:"Y",type:"unit",defaultType:"deg",types:["deg"],conditions:["type","==","skew"]}]},{slug:"pointer_events",name:"Events",type:"button-bar",items:["auto","none"]}]},{slug:"flex_child",name:"Flex Child",type:"accordion",conditions:(0,$a.Pv)(["flex","inline-flex"]),controls:[{slug:"flex_grow",name:"Grow",type:"number",width:4,positionLabel:"bottom"},{slug:"flex_shrink",name:"Shrink",type:"number",width:4,positionLabel:"bottom"},{slug:"flex_basis",name:"Basis",type:"unit",width:4,positionLabel:"bottom"},{slug:"align_self",name:"Align",type:"button-bar",items:[{value:"auto",label:"Auto",icon:"SquareQuestionIcon",hideLabel:!0},{value:"start",label:"Start",icon:"FlexAlignLeftIcon",hideLabel:!0},{value:"center",label:"Center",icon:"FlexAlignCenterHorizontalIcon",hideLabel:!0},{value:"end",label:"End",icon:"FlexAlignRightIcon",hideLabel:!0},{value:"stretch",label:"Stretch",icon:"SquareQuestionIcon",hideLabel:!0}]},{slug:"order",name:"Order",type:"button-bar",items:[{label:"None",value:"none",icon:"XmarkIcon",hideLabel:!0},{value:-1,label:"First"},{value:99,label:"Last"},{value:"custom",label:"Custom"}]},{slug:"order_custom",name:"Order",type:"number",width:6,conditions:["order","==","custom"]}]},{slug:"grid_child",name:"Grid Child",type:"accordion",conditions:(0,$a.Pv)(["grid","inline-grid"]),controls:[{slug:"row_start",name:"Row Start",type:"text",width:3,positionLabel:"bottom",arrows:!1,disabledConditions:["grid_child.area","not in",[void 0,null]]},{slug:"column_start",name:"Col. Start",type:"text",width:3,positionLabel:"bottom",arrows:!1,disabledConditions:["grid_child.area","not in",[void 0,null]]},{slug:"row_end",name:"Row End",type:"text",width:3,positionLabel:"bottom",arrows:!1,disabledConditions:["grid_child.area","not in",[void 0,null]]},{slug:"column_end",name:"Col. End",type:"text",width:3,positionLabel:"bottom",arrows:!1,disabledConditions:["grid_child.area","not in",[void 0,null]]},{slug:"area",name:"Area",type:"text",arrows:!1},{slug:"align_self",name:"Align",type:"button-bar",items:[{value:"auto",label:"Auto",icon:"XmarkIcon",hideLabel:!0},{value:"start",label:"Start",icon:"FlexAlignTopIcon",hideLabel:!0},{value:"center",label:"Center",icon:"FlexAlignCenterVerticalIcon",hideLabel:!0},{value:"end",label:"End",icon:"FlexAlignBottomIcon",hideLabel:!0},{value:"stretch",label:"Stretch",icon:"SquareQuestionIcon",hideLabel:!0}]},{slug:"justify_self",name:"Justify",type:"button-bar",items:[{value:"auto",label:"Auto",icon:"XmarkIcon",hideLabel:!0},{value:"start",label:"Start",icon:"FlexAlignLeftIcon",hideLabel:!0},{value:"center",label:"Center",icon:"FlexAlignCenterHorizontalIcon",hideLabel:!0},{value:"end",label:"End",icon:"FlexAlignRightIcon",hideLabel:!0},{value:"stretch",label:"Stretch",icon:"SquareQuestionIcon",hideLabel:!0}]},{slug:"order",name:"Order",type:"button-bar",items:[{label:"None",value:"none",icon:"XmarkIcon",hideLabel:!0},{value:-1,label:"First"},{value:99,label:"Last"},{value:"custom",label:"Custom"}]},{slug:"order_custom",name:"Order",type:"number",width:6,conditions:["order","==","custom"]}]},{slug:"custom_css",name:"Custom CSS",type:"accordion",controls:[{slug:"custom_css",name:"Custom CSS",type:"code",language:"css",hideLabel:!0}]}];let oE=class extends l.w3{constructor(){super(...arguments),this.controls=iE,this.editAnyway=!1,this.context=this.reactiveContext(),this.transactionKey=null}reactiveContext(){return{getControlValue:e=>{const t={};for(const n of c.PK.breakpoints){const s=G()(this.properties,`${n.id}.${e}`);void 0!==s&&(t[n.id]=s)}return t},getControlValueAt:(e,t)=>{const n=e?`${t}.${e}`:t;return G()(this.properties,n)},getParentPath(e){return e.split(".").slice(0,-1).join(".")},setControlValue:(e,t,n)=>{const s=(0,ur.Z)(this.properties),a=Object.keys(t);for(const i of a)lr()(s,`${i}.${e}`,t[i]);this.transactionKey=n,this.properties=s},setControlValueAt:(e,t,n,s)=>{const a=(0,ur.Z)(this.properties);lr()(a,`${t}.${e}`,n),this.transactionKey=s,this.properties=a},getParentControlValueAt(e,t){const n=this.getParentPath(e);return this.getControlValueAt(n,t)},getParentControlValue(e){const t=this.getParentPath(e);return this.getControlValue(t)}}}get breakpoints(){return c.PK.breakpoints}get breakpointId(){return c.kD.currentBreakpoint.id}get properties(){const e=this.nestedSelector||this.selector;return e&&e.properties?e.properties:{}}set properties(e){if(!this.selector)return;const t=null===this.transactionKey?void 0:this.transactionKey;(0,$a.Cg)({selectorId:this.selector.id,nestedSelectorId:this.nestedSelector?.id,properties:e,transactionKey:t})}get propertiesAtCurrentBreakpoint(){return this.properties[this.breakpointId]}set propertiesAtCurrentBreakpoint(e){if(!this.selector)return;const t=(0,ur.Z)(this.properties),n=0===Object.keys(e).length;t[this.breakpointId]=n?null:e,this.properties=t}};(0,r.gn)([(0,l.DF)("oxyContext")],oE.prototype,"context",void 0),(0,r.gn)([(0,l.fI)()],oE.prototype,"selector",void 0),(0,r.gn)([(0,l.fI)()],oE.prototype,"nestedSelector",void 0),oE=(0,r.gn)([(0,l.wA)({components:{NiceButton:Wr.Z,OxygenControls:nE.Z,OxygenControl:gb["default"]}})],oE);const rE=oE,lE=rE;var cE=(0,L.Z)(lE,eE,tE,!1,null,null,null);const dE=cE.exports;var uE=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("OxygenCopyPastContextMenu",{attrs:{name:"Selectors",path:"selectors",value:e.elementClasses},on:{input:e.updateClasses},scopedSlots:e._u([{key:"default",fn:function({openContextMenu:n}){return[t("div",{staticClass:"oxy-class-selector",on:{contextmenu:n}},[t(ax.Z,{attrs:{text:"Tooltip",top:"",disabled:!e.errorMessage,value:!!e.errorMessage},scopedSlots:e._u([{key:"activator",fn:function({attrs:n}){return[t(rh.Z,e._b({ref:"input",staticClass:"oxy-class-selector-widget",attrs:{multiple:"",value:e.elementClasses,items:e.availableClasses,"search-input":e.newClassName,"item-text":"name","item-value":"id","return-object":!1,"persistent-placeholder":"","hide-details":"","hide-selected":"",dense:"",placeholder:"Select or create a class"},on:{input:e.updateClasses,"update:searchInput":function(t){e.newClassName=t},"update:search-input":function(t){e.newClassName=t},blur:e.onBlur},scopedSlots:e._u([{key:"append",fn:function(){return[t("Icon",{attrs:{icon:"ChevronDownIcon",size:12}})]},proxy:!0},{key:"no-data",fn:function(){return[e.newClassName?t(go.Z,{attrs:{dense:""},on:{click:function(t){return e.createFromNameAndSelect()}}},[t(mo.V9,[t("div",{staticClass:"oxy-class-selector-new-class"},[e._v(" Create "),t("oxy-class-token",{attrs:{editable:!1,active:!0,demo:!0,name:e.newClassName}})],1)])],1):e._e()]},proxy:!0},{key:"prepend-item",fn:function(){return[e.showSuggestClassName?t(go.Z,{attrs:{dense:""},on:{click:e.addSuggestedClass}},[t(mo.V9,[t("div",{staticClass:"oxy-class-selector-new-class"},[e._v(" Create "),t("oxy-class-token",{attrs:{editable:!1,active:!0,demo:!0,name:e.suggestClassName}})],1)])],1):e._e()]},proxy:!0},{key:"selection",fn:function({item:n}){return[t("oxy-class-token",{attrs:{id:n,active:n===e.activeSelector?.id,"nested-selector":e.getNestedSelectorForActiveSelector(n)},on:{select:e.activateSelector,"clear-select":e.clearSelector,"select-nested":e.selectNestedSelector,"clear-nested":e.clearNestedSelector,"close-menu":e.closeMenu}})]}}],null,!0)},"v-combobox",n,!1))]}}],null,!0)},[t("span",{domProps:{innerHTML:e._s(e.errorMessage)}})])],1)]}}])})},pE=[],hE=n(68697),gE=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-class-token",class:{"oxy-class-token--invalid":e.missingSelector||e.isClassNameInvalid||e.isNestedSelectorInvalid,"oxy-class-token--active":e.active,"oxy-class-token--with-nested":e.nestedSelector&&!e.hideNestedToken,[`oxy-class-token--${e.selector?.type}`]:e.selector?.type},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.activateOrFocus.apply(null,arguments)},dblclick:e.enableRename}},[e.renaming||e.creating?e._e():[t("span",{staticClass:"oxy-class-token-source",on:{click:function(t){return e.$emit("clear-nested")}}},[e.missingSelector?[e._v("⚠️ (deleted)")]:[e.selector?.locked?t("Icon",{staticClass:"oxy-class-token__lock-icon",attrs:{size:10,icon:"LockIcon"}}):e._e(),e._v(" "+e._s(e.name||e.selector?.name)+" ")]],2),e.nestedSelector&&!e.hideNestedToken?t("span",{staticClass:"oxy-class-token-nested",on:{click:function(e){e.preventDefault(),e.stopPropagation()}}},[e._v(" "+e._s(e.nestedSelector.name)+" ")]):e._e()],e.renaming?t("oxy-class-token-name-input",{attrs:{name:e.nestedSelector?.name||e.selector?.name,prefix:e.renamePrefix,invalid:e.isNestedSelectorInvalid||e.isClassNameInvalid,"error-message":e.nestedSelectorErrorMessage||e.classNameErrorMessage},on:{rename:e.persistRename,cancel:e.cancelRename}}):e.creating?t("oxy-class-token-name-input",{attrs:{name:"Enter name",prefix:`.${e.selector?.name}`,invalid:e.isNestedSelectorInvalid,"error-message":e.nestedSelectorErrorMessage},on:{rename:e.createNestedSelector,cancel:e.cancelNestedSelector}}):e._e(),e.canViewActions?t("oxy-class-token-actions",{attrs:{selector:e.selector,"nested-selector":e.nestedSelector,"missing-selector":e.missingSelector,editable:e.editable,creatable:e.creatable,removable:e.removable,lockable:e.lockable},on:{rename:e.enableRename,duplicate:e.duplicateSelector,delete:e.deleteSelector,remove:e.removeSelector,"toggle-lock":e.toggleLock,"edit-state":e.editSelectorState,"edit-nested-selector":e.editNestedSelector,"create-nested-selector":e.enableCreate}}):e._e()],2)},mE=[],vE=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"actions",staticClass:"oxy-class-token-actions"},[t("Dropdown",{attrs:{"offset-y":"","nudge-top":-5,"nudge-left":e.offsetX,right:"","min-width":145,"max-width":150,"max-height":400},scopedSlots:e._u([{key:"activator",fn:function(){return[t("button",{staticClass:"oxy-class-token-actions__button",on:{click:function(t){t.stopPropagation(),e.menuOpen=!e.menuOpen}}},[t("Icon",{attrs:{icon:"ChevronDownIcon",size:10}}),t("span",{staticClass:"oxy-class-token-actions__button-overlay"})],1)]},proxy:!0}]),model:{value:e.menuOpen,callback:function(t){e.menuOpen=t},expression:"menuOpen"}},[t(ho.Z,{staticClass:"oxy-class-token-actions-list"},e._l(e.items,(function(n){return t(e.getItemComponent(n),{key:n.label,tag:"component",class:{"is-destructive":n.destructive,"is-nudge":n.nudge},attrs:{disabled:n.disabled},on:{click:function(e){n.action&&n.action()}}},[n.header?t("div",{staticClass:"truncate"},[e._v(" "+e._s(n.label)+" ")]):t(mo.V9,{staticClass:"oxy-class-token-actions-list-item"},[t("span",[e.isSelected(n)?t("Icon",{staticClass:"oxy-class-tokens-actions-list-item__indicator-icon",class:{"is-highlighted":n.highlight},attrs:{icon:"CheckIcon",size:"10"}}):n.highlight?t("span",{staticClass:"oxy-class-tokens-actions-list-item__indicator"}):e._e()],1),e._v(" "+e._s(n.label)+" ")])],1)})),1)],1)],1)},fE=[],yE=n(22680);let bE=class extends l.w3{constructor(){super(...arguments),this.menuOpen=!1,this.offsetX=0}onMenuOpen(){this.menuOpen&&this.$nextTick((()=>{const e=this.$refs.actions,t=e.querySelector(".oxy-class-token-actions__button"),n=e.closest(".oxy-class-token");n&&(this.offsetX=n.offsetWidth-t.offsetWidth)}))}get items(){const e=e=>({id:e.id,label:e.name,nudge:!0,highlight:this.doesNestedSelectorContainValue(e.id),action:()=>this.$emit("edit-nested-selector",e)}),t=e=>{const t=this.selector?.children?.find((t=>t.name===e));return{id:t?.id||e,label:e,nudge:!0,highlight:!!t&&this.doesNestedSelectorContainValue(t?.id),action:()=>this.$emit("edit-state",e)}},n=$a.Z0.map(t),s=this.selector?.children?.filter((e=>!$a.Z0.includes(e.name)))?.map(e)||[],a=[{header:!0,label:`${this.selector?.name}`},{label:"Rename",disabled:this.missingSelector,action:()=>this.$emit("rename")},{label:"Duplicate",disabled:this.missingSelector,action:()=>this.$emit("duplicate")},this.removable?{label:"Remove",disabled:!!this.nestedSelector,action:()=>this.$emit("remove")}:void 0,{label:"Delete",destructive:!0,action:()=>this.$emit("delete")},this.lockable?{label:this.selector?.locked?"Unlock":"Lock",action:()=>this.$emit("toggle-lock")}:void 0].filter(Boolean),i=[{divider:!0},{label:"States",header:!0},...n,{divider:!0},{label:"Nested Selectors",header:!0},...s,{label:"Create Selector",disabled:this.missingSelector,action:()=>this.$emit("create-nested-selector")}];return this.creatable?[...a,...i]:a}doesNestedSelectorContainValue(e){const t=this.selector?.children?.find((t=>t.name===e||t.id===e));return!!Object.keys(t?.properties||{}).length}getItemComponent(e){return e.header?"v-subheader":e.divider?"v-divider":"v-list-item"}isSelected(e){const t=this.nestedSelector;return!(!t||!e.id)&&(t?.id===e?.id||t?.name===e?.id)}};(0,r.gn)([(0,l.fI)()],bE.prototype,"selector",void 0),(0,r.gn)([(0,l.fI)()],bE.prototype,"nestedSelector",void 0),(0,r.gn)([(0,l.fI)({default:!1})],bE.prototype,"missingSelector",void 0),(0,r.gn)([(0,l.fI)({default:!0})],bE.prototype,"editable",void 0),(0,r.gn)([(0,l.fI)({default:!0})],bE.prototype,"creatable",void 0),(0,r.gn)([(0,l.fI)({default:!0})],bE.prototype,"removable",void 0),(0,r.gn)([(0,l.fI)({default:!0})],bE.prototype,"lockable",void 0),(0,r.gn)([(0,l.RL)("menuOpen")],bE.prototype,"onMenuOpen",null),bE=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,Dropdown:yo.Z,VDivider:Pc.Z,VListItem:go.Z,VSubheader:yE.Z}})],bE);const _E=bE,xE=_E;var SE=(0,L.Z)(xE,vE,fE,!1,null,null,null);const PE=SE.exports;var CE=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(ax.Z,{attrs:{text:"Tooltip",top:"",disabled:!e.invalid,value:e.invalid},scopedSlots:e._u([{key:"activator",fn:function({attrs:n}){return[t("span",e._b({staticClass:"oxy-class-token-rename"},"span",n,!1),[e.prefix?t("span",{staticClass:"oxy-class-token-rename__prefix"},[e._v(" "+e._s(e.prefix)+" ")]):e._e(),t("span",{ref:"renameInput",staticClass:"oxy-class-token-rename__input",attrs:{contenteditable:"true"},on:{blur:function(t){return e.$emit("cancel")},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("rename",e.nameToRename)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("cancel")},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}],input:function(t){e.nameToRename=t.target.textContent}}},[e._v(" "+e._s(e.name)+" ")])])]}}])},[t("span",{domProps:{innerHTML:e._s(e.errorMessage)}})])},wE=[];let IE=class extends l.w3{constructor(){super(...arguments),this.nameToRename=this.name}mounted(){this.$nextTick((()=>{const e=this.$refs.renameInput;e.focus();const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n?.removeAllRanges(),n?.addRange(t)}))}};(0,r.gn)([(0,l.fI)()],IE.prototype,"name",void 0),(0,r.gn)([(0,l.fI)()],IE.prototype,"prefix",void 0),(0,r.gn)([(0,l.fI)()],IE.prototype,"invalid",void 0),(0,r.gn)([(0,l.fI)()],IE.prototype,"errorMessage",void 0),IE=(0,r.gn)([(0,l.wA)({})],IE);const kE=IE,DE=kE;var EE=(0,L.Z)(DE,CE,wE,!1,null,null,null);const TE=EE.exports;let ZE=class extends l.w3{constructor(){super(...arguments),this.renaming=!1,this.creating=!1,this.createPlaceholder="Enter name",this.isClassNameInvalid=!1,this.classNameErrorMessage="",this.isNestedSelectorInvalid=!1,this.nestedSelectorErrorMessage=""}get elementId(){return X.kD.activeElementId}get element(){return X.kD.activeElement}get selector(){return X.cr.oxySelectors.find((e=>e.id===this.id))}get missingSelector(){return!this.selector&&!this.demo}get canViewActions(){return this.editable&&!this.renaming&&!this.demo}get renamePrefix(){return this.nestedSelector&&!this.hideNestedToken?`.${this.selector?.name} `:""}persistRename(e){if(!this.selector)return;this.isClassNameInvalid=!1;const t=e?.trim(),n=this.nestedSelector?.name||this.selector.name;if(t!==n){if(!t)return this.isClassNameInvalid=!0,void(this.classNameErrorMessage="Name must be 1 character or more");if(this.nestedSelector){if((0,$a.EF)(t,this.selector.id,this.nestedSelector.id))return this.isClassNameInvalid=!0,void(this.classNameErrorMessage="Name is already in use");(0,$a.ET)(this.selector.id,this.nestedSelector.id,t)}else{const e="class"===this.selector.type&&!(0,JP.y8)(`.${t}`);if(e)return this.isClassNameInvalid=!0,void(this.classNameErrorMessage="Invalid class name");if((0,$a.hP)(t,this.selector.id))return this.isClassNameInvalid=!0,void(this.classNameErrorMessage="Name is already in use");(0,$a.kW)(this.selector.id,t)}this.renaming=!1,this.isClassNameInvalid=!1,this.classNameErrorMessage=""}else this.renaming=!1}duplicateSelector(){if(this.selector)if(this.nestedSelector){const e=(0,$a.GH)(this.selector.id,this.nestedSelector.id);e&&this.editNestedSelector(e)}else{const e=(0,$a.j0)(this.selector.id);if(e){if(this.element){const t=(0,$a.Xn)(this.element),n=t.map((e=>e.id));(0,$a.E4)(this.elementId,[...n,e.id])}this.$emit("select",e.id)}}}removeSelector(){(0,$a._Y)(this.elementId,this.id),this.$emit("clear-select")}deleteSelector(){if(!this.selector)return void(0,$a._Y)(this.elementId,this.id);let e=`Are you sure you want to delete the selector "${this.selector.name}"?`;this.nestedSelector&&(e=`Are you sure you want to delete the nested selector ".${this.selector.name} ${this.nestedSelector.name}"?`);const t=confirm(e);t&&(this.nestedSelector?(0,$a.Mg)(this.selector.id,this.nestedSelector.id):(this.elementId&&(0,$a._Y)(this.elementId,this.selector.id),(0,$a.EK)(this.selector.id)),this.$emit("clear-select"))}editSelectorState(e){if(!this.selector)return;const t=this.selector?.children?.find((t=>t.name===e));if(!t){const t=(0,$a.Hj)(e);(0,$a.aN)(this.selector.id,t)}const n=this.selector.children?.find((t=>t.name===e));n&&this.editNestedSelector(n)}editNestedSelector(e){this.activateOrFocus(),this.$emit("select-nested",e.id)}createNestedSelector(e){if(!this.selector)return;if(e===this.createPlaceholder)return this.isNestedSelectorInvalid=!0,void(this.nestedSelectorErrorMessage="Name must be 1 character or more");const t=new RegExp(`^${this.selector.name}`),n=e.replace(t,"").trim();if(!n)return this.isNestedSelectorInvalid=!0,void(this.nestedSelectorErrorMessage="Name must be 1 character or more");if((0,$a.EF)(n,this.selector.id))return this.isNestedSelectorInvalid=!0,void(this.nestedSelectorErrorMessage="Name is already in use");const s=(0,$a.Hj)(n);(0,$a.aN)(this.selector.id,s),this.editNestedSelector(s),this.creating=!1,this.isNestedSelectorInvalid=!1,this.nestedSelectorErrorMessage=""}cancelNestedSelector(){this.creating=!1,this.isNestedSelectorInvalid=!1,this.nestedSelectorErrorMessage=""}enableRename(){this.missingSelector||(this.renaming=!0)}cancelRename(){this.renaming=!1,this.isClassNameInvalid=!1,this.classNameErrorMessage=""}enableCreate(){this.creating=!0}activateOrFocus(){this.renaming||this.$emit("select",this.selector?.id)}toggleLock(){this.selector&&(0,$a.Jf)(this.selector.id)}};(0,r.gn)([(0,l.fI)({default:!1})],ZE.prototype,"active",void 0),(0,r.gn)([(0,l.fI)()],ZE.prototype,"id",void 0),(0,r.gn)([(0,l.fI)()],ZE.prototype,"name",void 0),(0,r.gn)([(0,l.fI)({default:!0})],ZE.prototype,"editable",void 0),(0,r.gn)([(0,l.fI)({default:!0})],ZE.prototype,"creatable",void 0),(0,r.gn)([(0,l.fI)({default:!0})],ZE.prototype,"removable",void 0),(0,r.gn)([(0,l.fI)({default:!0})],ZE.prototype,"lockable",void 0),(0,r.gn)([(0,l.fI)({default:!1})],ZE.prototype,"demo",void 0),(0,r.gn)([(0,l.fI)()],ZE.prototype,"nestedSelector",void 0),(0,r.gn)([(0,l.fI)({default:!1})],ZE.prototype,"hideNestedToken",void 0),ZE=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,OxyClassTokenNameInput:TE,OxyClassTokenActions:PE}})],ZE);const AE=ZE,BE=AE;var ME=(0,L.Z)(BE,gE,mE,!1,null,null,null);const OE=ME.exports;var LE=n(88806);let RE=class extends l.w3{constructor(){super(...arguments),this.newClassName=null,this.errorMessage=null}onNewClassNameChange(){this.newClassName&&(this.errorMessage=null)}onElementIdChange(){this.activeSelector&&(c.kD.setCurrentElementTab("classes"),c.kD.setCurrentElementOxyNestedSelector(void 0))}get element(){return c.kD.activeElement}get elementId(){return c.kD.activeElementId}get availableClasses(){return c.cr.oxySelectors.filter((e=>"class"===e.type))}get activeSelector(){return c.kD.activeOxySelector}get activeNestedSelector(){return c.kD.activeOxyNestedSelector}get elementClasses(){return this.element&&this.element?.data?.properties?.meta?.classes||[]}get showSuggestClassName(){const e=this.elementClasses.map((e=>this.availableClasses.find((t=>t.id==e)))).map((e=>e?.name)).filter((e=>e)),t=e.some((e=>e?.match(new RegExp(`^${this.elementSlug}-\\d+$`))));return!this.newClassName&&!t}get elementSlug(){if(!this.element)return"";const e=c.PK.element(this.element.data.type);return gv()(e.name,{lower:!0})}get suggestClassName(){const e=this.availableClasses.map((e=>e.name));let t=1;while(e.includes(`${this.elementSlug}-${t}`))t++;return`${this.elementSlug}-${t}`}addSuggestedClass(){this.updateClasses([...this.elementClasses,this.suggestClassName])}createClassIfNeeded(e){const t=this.availableClasses.find((t=>t.name==e));if(t)return t;const n=(0,$a.C2)(e);return(0,$a.PJ)(n),n}createFromNameAndSelect(){if(!this.newClassName)return;const e=this.createClassIfNeeded(this.newClassName);this.activateSelector(e.id)}updateClasses(e){if(!this.elementId)return;if(!e)return void(0,$a.E4)(this.elementId,[]);this.errorMessage=null;const t=e.find((e=>!(0,hE.Z)(e))),n=e.filter((e=>(0,hE.Z)(e)));if(t){if(!(0,JP.y8)(`.${t}`))return(0,$a.E4)(this.elementId,n),void(this.errorMessage="Invalid class name");const e=this.createClassIfNeeded(t).id;this.elementClasses.includes(e)||n.push(e)}(0,$a.E4)(this.elementId,n),this.activateSelector(n[n.length-1])}activateSelector(e){this.elementId&&(c.kD.setCurrentElementOxySelector(e),c.kD.setCurrentElementTab("classes"),this.closeMenu())}clearSelector(){c.kD.setCurrentElementOxySelector(void 0),c.kD.setCurrentElementTab(void 0)}selectNestedSelector(e){c.kD.setCurrentElementOxyNestedSelector(e)}clearNestedSelector(){c.kD.setCurrentElementOxyNestedSelector(void 0)}closeMenu(){this.$refs.input.isMenuActive=!1,this.$refs.input.blur()}onBlur(e){const t=e.relatedTarget;t?.classList.contains("v-list-item")||(this.newClassName="")}getNestedSelectorForActiveSelector(e){return e===this.activeSelector?.id?this.activeNestedSelector:void 0}};(0,r.gn)([(0,l.RL)("newClassName")],RE.prototype,"onNewClassNameChange",null),(0,r.gn)([(0,l.RL)("elementId",{immediate:!0})],RE.prototype,"onElementIdChange",null),RE=(0,r.gn)([(0,l.wA)({components:{OxygenCopyPastContextMenu:LE.Z,Icon:ze.Z,NiceButton:Wr.Z,OxyClassToken:OE}})],RE);const NE=RE,FE=NE;var $E=(0,L.Z)(FE,uE,pE,!1,null,null,null);const VE=$E.exports;var WE=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-html-attributes"},[t("oxygen-control",{attrs:{control:e.control,value:e.value},on:{input:e.setValue}})],1)},HE=[];let zE=class extends l.w3{get control(){return{type:"repeater",name:"HTML Attributes",slug:"html_attributes",noDataMessage:"None",noDisable:!0,noDuplicate:!0,titleTemplate:e=>`${e?.name||""}="${e?.value||""}"`,defaultTitle:"Attribute",controls:[{slug:"name",name:"Attribute",type:"text",disableVariable:!0},{slug:"value",name:"Value",type:"text",disableVariable:!0}]}}get value(){return G()(c.kD.activeElement,"data.properties.settings.advanced.attributes")}setValue(e){c.kD.activeElementId&&c.Hb.unthrottledPropertyChanged({elementId:c.kD.activeElementId,path:"settings.advanced.attributes",value:e,meta:{snapshotLabel:`Set html attributes for element #${c.kD.activeElementId}`}})}};zE=(0,r.gn)([(0,l.wA)({components:{OxygenControl:gb["default"]}})],zE);const UE=zE,KE=UE;var GE=(0,L.Z)(KE,WE,HE,!1,null,null,null);const qE=GE.exports;var jE=n(58172);let YE=class extends l.w3{constructor(){super(...arguments),this.editingElementControlsTreeContext=G_.rq,this.settingsControlsAsTabs=[{name:"Override Variables",slug:"override_variables",icon:"DollarSolidIcon",hidden:this.isComponent},{name:"Conditions",slug:"conditions",icon:"ConditionsSolidIcon"},{name:"Interactions",slug:"interactions",icon:"ArrowPointerSolidIcon",hidden:this.isComponent},{name:"Animations",slug:"animations",icon:"PlaySolidIcon",hidden:this.isComponent}]}get activeTabSlug(){return this.elementId&&c.kD.activeElementProperties?.tab?c.kD.activeElementProperties.tab:"content"}get tabs(){const e=this.settingsControlsAsTabs;return[{name:"Content",slug:"content",icon:"PenSolidIcon",hidden:0===this.controls.contentSections.length},{name:"Design",slug:"design",icon:"PaletteSolidIcon",hidden:0===this.controls.designSections.length||this.isComponent},...e,{name:"Settings",slug:"settings",icon:"GearSolidIcon",hidden:0===this.controls.settingsSections.length||this.isComponent},{name:"Classes",slug:"classes",icon:"ClassesIcon",hidden:!0},{name:"Attributes",slug:"attributes",hidden:!0}]}get filteredTabs(){return this.tabs.filter((e=>!e?.hidden))}get activeTab(){return this.tabs.find((e=>e.slug===this.activeTabSlug))}get element(){return c.kD.activeElement}get elementId(){return c.kD.activeElementId}get activeSelector(){return c.kD.activeOxySelector}get activeNestedSelector(){return c.kD.activeOxyNestedSelector}get controls(){const e=this.element.data.type,t=c.PK.element(e).controls;return(0,D_.Z)(t,c.PK.permission)}get controlSections(){return"content"===this.activeTabSlug?this.controls.contentSections:"design"===this.activeTabSlug?this.controls.designSections:this.isTopLevelSettingsTab(this.activeTabSlug)?this.controls.settingsSections.filter((e=>e.slug===this.activeTabSlug)):"settings"===this.activeTabSlug?this.controls.settingsSections.filter((e=>!this.settingsControlsAsTabs.some((t=>t.slug===e.slug)))):[]}get path(){return"content"===this.activeTabSlug?"content":"design"===this.activeTabSlug?"design":this.isTopLevelSettingsTab(this.activeTabSlug)||"settings"===this.activeTabSlug?"settings":""}get isComponent(){return!!this.element&&this.element?.data?.type===Ue.Hw}isTopLevelSettingsTab(e){return this.settingsControlsAsTabs.some((t=>t.slug===e))}updateTab(e){c.kD.setCurrentElementOxySelector(void 0),c.kD.setCurrentElementTab(e)}getSettingsData(e){const t=this.isTopLevelSettingsTab(e),n=t?`settings.${e}`:e,s=this.editingElementControlsTreeContext.getControlValue(n);if("settings"===e){const e=(0,ur.Z)(s);return(0,jE.Kn)(e)?(this.settingsControlsAsTabs.forEach((t=>delete e[t.slug])),e):e}return s}setSettingsData(e,t){if(!this.elementId)return;const n=this.isTopLevelSettingsTab(e),s=n?`settings.${e}`:e;"settings"!==e?c.Hb.throttledPropertyChanged({elementId:this.elementId,path:s,value:t,meta:{snapshotLabel:`Paste ${e}`}}):this.updateSettingsButIgnoreTopLevelTabs(t)}updateSettingsButIgnoreTopLevelTabs(e){if(!this.elementId)return;const t=(0,ur.Z)(this.editingElementControlsTreeContext.getControlValue("settings"))||{},n=(0,ur.Z)(e)||{};this.settingsControlsAsTabs.forEach((e=>{(0,jE.Kn)(t)&&e.slug in t&&(n[e.slug]=t[e.slug])})),c.Hb.throttledPropertyChanged({elementId:this.elementId,path:"settings",value:n,meta:{snapshotLabel:"Paste settings"}})}tabHasData(e){return(0,g_.vr)(this.getSettingsData(e))}};(0,r.gn)([(0,l.DF)("context")],YE.prototype,"editingElementControlsTreeContext",void 0),YE=(0,r.gn)([(0,l.wA)({components:{PanelMask:FI,Icon:ze.Z,ControlsTree:Rb["default"],ClassDropdown:VE,ClassProperties:dE,OxygenHtmlAttributes:qE,OxygenCopyPastContextMenu:LE.Z}})],YE);const XE=YE,QE=XE;var JE=(0,L.Z)(QE,QD,JD,!1,null,null,null);const eT=JE.exports;let tT=class extends s.ZP{get elementIsActive(){return!!c.kD.activeElement}mounted(){this.elementIsActive||(0,Pl.TO)("elementproperties")}};tT=(0,r.gn)([(0,l.wA)({components:{Titlebar:Cb,TabsAndControls:Q_,BlankSidebarContent:Zb,OxygenTabsAndControls:eT}})],tT);const nT=tT,sT=nT;var aT=(0,L.Z)(sT,YD,XD,!1,null,null,null);const iT=aT.exports;var oT=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("PanelHeader",{attrs:{"back-instead-of-close":!!e.selector},on:{close:e.close},scopedSlots:e._u([e.selectorName?null:{key:"right",fn:function(){return[t(ax.Z,{attrs:{"content-class":"oxy-tab-tooltip",top:"","open-delay":500,transition:"0"},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{icon:"FolderPlusIcon",size:"14",small:""},on:{click:e.addCollection}},n))]}}],null,!1,713309862)},[t("span",[e._v("Add Collection")])]),t(ax.Z,{attrs:{"content-class":"oxy-tab-tooltip",top:"","open-delay":500,transition:"0"},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{icon:"HistorySolidIcon",size:"13",small:"",active:"history"===e.viewMode},on:{click:e.toggleViewMode}},n))]}}],null,!1,2292562130)},[t("span",[e._v("History")])]),t("ImportExportDropdownMenu",{attrs:{name:"Selectors","settings-to-export":e.selectors,"validate-settings":e.validateImport,"import-settings":e.importSelectors,"can-merge":!0}})]},proxy:!0}],null,!0)},[e._v(" "+e._s(e.selectorName??"Selectors")+" ")]),t("FreeModeAlertForSelectors",{staticClass:"ma-4"}),"controls"===e.viewMode?[e.selector||e.nestedSelector?t("ClassProperties",{attrs:{selector:e.selector,"nested-selector":e.nestedSelector}}):t("SelectorsList",{attrs:{selectors:e.selectors,searchable:!0},on:{select:e.select,"select-nested":e.selectNested}})]:"history"===e.viewMode?[t("SelectorsPanelHistoryViewMode")]:e._e()],2)},rT=[],lT=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vscroll-wrap vscroll-scroll"},[t("div",{staticClass:"vscroll-scroll oxy-selectors-list"},[e.searchString?t("div",e._l(e.filteredSelectors,(function(n){return t("SelectorsListItem",{key:n.id,attrs:{selector:n},on:{select:function(t){return e.$emit("select",t)},"select-nested":function(t){return e.$emit("select-nested",n.id,t)},"update-nested":e.handleNestedDrag}})})),1):t("CollectionsInput",{attrs:{collections:e.collections,"resource-name":"selectors",value:e.selectors},on:{"update-collections":e.setCollections,input:e.setSelectors},scopedSlots:e._u([{key:"actions",fn:function({collection:n}){return[t(ax.Z,{attrs:{"content-class":"oxy-tab-tooltip",top:"","open-delay":500,transition:"0"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t("IconButton",e._g({attrs:{icon:e.isLocked(n)?"LockIcon":"UnlockIcon",size:"12"},on:{click:function(t){return e.toggleCollectionLock(n)}}},s))]}}],null,!0)},[t("span",[e._v("Lock all")])])]}},{key:"default",fn:function({collection:n}){return[t("draggable",e._b({attrs:{value:e.selectorsByCollection[n],group:"oxy-selectors"},on:{input:function(t){return e.handleDrag(t,n)}}},"draggable",e.dragOptions,!1),e._l(e.selectorsByCollection[n],(function(n){return t("SelectorsListItem",{key:n.id,attrs:{selector:n},on:{select:function(t){return e.$emit("select",t)},"select-nested":function(t){return e.$emit("select-nested",n.id,t)},"update-nested":e.handleNestedDrag}})})),1),t("AddSelector",{attrs:{collection:n}})]}}])})],1),e.searchable?t("div",{staticClass:"properties-panel-search-box-wrap properties-panel-search-box-wrap-selectors"},[t("TextInput",{attrs:{placeholder:"Search selectors"},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),t("Icon",{staticClass:"properties-panel-search-icon",attrs:{icon:"SearchIcon",size:"13"}})],1):e._e()])},cT=[],dT=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-selectors-list-item"},[t("oxy-class-token",{attrs:{id:e.selector.id,name:e.name,removable:!1},on:{select:function(t){return e.$emit("select",t)},"select-nested":function(t){return e.$emit("select-nested",t)}}}),e.selector.children?.length?t("div",{staticClass:"oxy-selectors-list-nested"},[t("draggable",e._b({attrs:{value:e.selector.children},on:{input:function(t){return e.$emit("update-nested",e.selector.id,t)}}},"draggable",e.dragOptions,!1),e._l(e.selector.children,(function(n){return t("div",{key:n.id,staticClass:"oxy-selectors-list-nested-item"},[t("Icon",{attrs:{icon:"ArrowTurnDownRightIcon",size:"13"}}),t("oxy-class-token",{attrs:{id:e.selector.id,"nested-selector":n,name:n.name,creatable:!1,removable:!1,lockable:!1,"hide-nested-token":!0},on:{select:function(t){return e.$emit("select-nested",n.id)},"select-nested":function(t){return e.$emit("select-nested",t)}}})],1)})),0)],1):e._e()],1)},uT=[];let pT=class extends l.w3{constructor(){super(...arguments),this.dragOptions={animation:200,filter:".oxy-class-token-actions__button",ghostClass:"breakdance-repeater-item--ghost",forceFallback:!0}}get name(){return"class"===this.selector.type?`.${this.selector.name}`:this.selector.name}};(0,r.gn)([(0,l.fI)()],pT.prototype,"selector",void 0),pT=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,draggable:fh(),OxyClassToken:OE}})],pT);const hT=pT,gT=hT;var mT=(0,L.Z)(gT,dT,uT,!1,null,null,null);const vT=mT.exports;var fT=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"oxy-add-selector"},[t("TextInput",{staticClass:"flex-grow-1",attrs:{placeholder:".your.css > #selector-69::after"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addSelector.apply(null,arguments)}},model:{value:e.newSelectorName,callback:function(t){e.newSelectorName=t},expression:"newSelectorName"}}),t("NiceButton",{staticClass:"oxy-add-selector__button",attrs:{size:"small"},on:{click:e.addSelector}},[e._v(" Add ")])],1)},yT=[];let bT=class extends s.ZP{constructor(){super(...arguments),this.newSelectorName=""}get collections(){return X.cr.oxySelectorsCollections}get isSingleClassName(){if(!this.newSelectorName)return!1;const e=/^\.[a-zA-Z0-9_/-]+$/;return e.test(this.newSelectorName)}addSelector(){if(!this.newSelectorName)return;const e=this.isSingleClassName&&this.newSelectorName.startsWith(".")?this.newSelectorName.substring(1):this.newSelectorName;if((0,$a.hP)(e))return void Yo.Z.log.errorMessage("This selector already exists.");const t=(0,$a.C2)(this.newSelectorName,null,this.isSingleClassName?"class":"custom",this.collection||$a.T8);(0,$a.PJ)(t),this.newSelectorName=""}};(0,r.gn)([(0,l.fI)()],bT.prototype,"collection",void 0),bT=(0,r.gn)([(0,l.wA)({components:{DropdownInput:cr.Z,NiceButton:Wr.Z,TextInput:Qs.Z}})],bT);const _T=bT,xT=_T;var ST=(0,L.Z)(xT,fT,yT,!1,null,null,null);const PT=ST.exports;let CT=class extends s.ZP{constructor(){super(...arguments),this.searchString="",this.dragOptions={animation:200,filter:".oxy-class-token-actions__button",ghostClass:"breakdance-repeater-item--ghost",forceFallback:!0},this.selectorsByCollection={}}onValueChange(){this.updateInternalValue(),this.checkMissingCollections()}checkMissingCollections(){const e=[...new Set(this.selectors.map((e=>e.collection)))],t=e.filter((e=>!this.collections.includes(e)));t.length&&X.cr.setOxygenSelectorsCollections(e)}onColsChange(){this.updateInternalValue()}updateInternalValue(){this.collections.forEach((e=>{this.$set(this.selectorsByCollection,e,this.getCollectionSelectors(e))}))}get collections(){return X.cr.oxySelectorsCollections}get filteredSelectors(){return this.selectors.filter((e=>{if(!this.searchString)return!0;const t=e.name.toLowerCase().includes(this.searchString.toLowerCase()),n=e.children?.some((e=>e.name.includes(this.searchString)));return t||n}))}handleDrag(e,t){this.selectorsByCollection[t]=e.map((e=>({...e,collection:t})));const n=[];this.collections.forEach((e=>{n.push(...this.selectorsByCollection[e])})),this.setSelectors(n)}handleNestedDrag(e,t){const n=(0,ur.Z)(this.selectors).map((n=>n.id===e?{...n,children:t}:n));this.setSelectors(n)}setSelectors(e){Ce.n.transaction((()=>{X.cr.setOxygenSelectors((0,ur.Z)(e))}),"Update Selectors")}setCollections(e){Ce.n.transaction((()=>{X.cr.setOxygenSelectorsCollections(e)}),"Update Selector Collections")}getCollectionSelectors(e){return this.selectors.filter((t=>t.collection===e))}isLocked(e){return this.selectors.filter((t=>t.collection===e)).every((e=>e.locked))}toggleCollectionLock(e){const t=(0,ur.Z)(this.selectors),n=t.filter((t=>t.collection===e)),s=n.some((e=>!e.locked)),a=t.map((t=>(t.collection===e&&(t.locked=s),t)));this.setSelectors(a)}};(0,r.gn)([(0,l.fI)()],CT.prototype,"searchable",void 0),(0,r.gn)([(0,l.fI)()],CT.prototype,"selectors",void 0),(0,r.gn)([(0,l.RL)("selectors",{immediate:!0,deep:!0})],CT.prototype,"onValueChange",null),(0,r.gn)([(0,l.RL)("collections",{immediate:!0,deep:!0})],CT.prototype,"onColsChange",null),CT=(0,r.gn)([(0,l.wA)({components:{IconButton:oo.Z,AddSelector:PT,CollectionsInput:pI,Icon:ze.Z,draggable:fh(),TextInput:Qs.Z,OxyClassToken:OE,SelectorsListItem:vT}})],CT);const wT=CT,IT=wT;var kT=(0,L.Z)(IT,lT,cT,!1,null,null,null);const DT=kT.exports;var ET=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("RevisionsPanel",{attrs:{resources:e.selectors,"resource-key":e.resourceKey,"resource-has-unsaved-changes-present":e.hasUnsavedChangesPresent,"fetch-revisions-method":e.fetchRevisionsMethod,"update-method":"setOxygenSelectors","restore-method":"restoreOxySelectorsRevision"}})},TT=[];async function ZT(){return(0,Ur.zG)(await(0,Go.D)({action:"breakdance_retrieve_oxy_selectors_revisions",decoder:Kr.IX(cP.tm)}),(0,Gr.Vn)((()=>null)),Gr.i$)}let AT=class extends l.w3{constructor(){super(...arguments),this.resourceKey="oxySelectors"}get selectors(){return c.cr.oxySelectors}get hasUnsavedChangesPresent(){return c.cr.oxySelectorsHasUnsavedChangesPresent}get fetchRevisionsMethod(){return ZT}};AT=(0,r.gn)([(0,l.wA)({components:{RevisionsPanel:gC}})],AT);const BT=AT,MT=BT;var OT=(0,L.Z)(MT,ET,TT,!1,null,"07b9a160",null);const LT=OT.exports;var RT=n(22218);function NT(e,t,n="name",s=!0,a=!0){const i=t.map((e=>e[n])),o=e.filter((e=>!i.includes(e[n]))),r=t.map((t=>{const i=e.find((e=>e[n]===t[n]));if(i&&a&&(t.id=i.id),t.children&&s&&i&&i.children){const e=i.children.map((e=>e[n])),s=t.children.filter((t=>!e.includes(t[n])));return{...t,children:[...i.children,...s]}}return t}));return{selectorsToKeep:o,selectors:[...o,...r]}}let FT=class extends s.ZP{constructor(){super(...arguments),this.selectorId=null,this.nestedId=null}get selector(){return this.selectors.find((e=>e.id===this.selectorId))}get nestedSelector(){return this.selector?.children?.find((e=>e.id===this.nestedId))}get viewMode(){return c.kD.panelState.selectorsPanelPanelActiveViewMode}get selectors(){return c.cr.oxySelectors}get selectorName(){return this.selector?this.nestedSelector?`.${this.selector.name} ${this.nestedSelector.name}`:"class"===this.selector.type?`.${this.selector.name}`:this.selector.name:null}get collections(){return c.cr.oxySelectorsCollections}toggleViewMode(){c.kD.setPanelState({...c.kD.panelState,selectorsPanelPanelActiveViewMode:"controls"===this.viewMode?"history":"controls"})}select(e){this.selectorId=e}selectNested(e,t){this.selectorId=e,this.nestedId=t}close(){this.selector?(this.selectorId=null,this.nestedId=null):(0,Pl.TO)("oxySelectors")}validateImport(e){return(0,Ur.zG)(e,Kr.IX(RT.En).decode,(0,Gr.g_)((e=>(Yo.Z.log.errorMessage("Error importing Selectors - the file is invalid."),(0,ny.H)(e),!1)),(()=>!0)))}importSelectors(e,t){e.length?Ce.n.transaction((()=>{if("replace"===t)c.cr.setOxygenSelectors(e),Yo.Z.log.message(`${e.length} selectors imported. All existing selectors were replaced.`);else{const{selectorsToKeep:t,selectors:n}=NT(c.cr.oxySelectors,e);c.cr.setOxygenSelectors(n),Yo.Z.log.message(`${e.length} selectors imported. ${t.length} existing selectors were kept.`)}}),"Import Selectors"):Yo.Z.log.errorMessage("Error importing Selectors - the file is empty.")}addCollection(){const e=$a.hI,t=this.collections;let n=1;while(t.includes(`${e} ${n}`))n++;const s=`${e} ${n}`;c.cr.setOxygenSelectorsCollections([...t,s])}};FT=(0,r.gn)([(0,l.wA)({components:{ImportExportDropdownMenu:$P,AddSelector:PT,AlertBox:qu.Z,PanelHeader:DS,SelectorsList:DT,RevisionsPanel:gC,ClassProperties:dE,BrowseModeToggle:YS,PanelHeaderButton:US,FreeModeAlertForSelectors:_C.Z,SelectorsPanelHistoryViewMode:LT,IconButton:oo.Z}})],FT);const $T=FT,VT=$T;var WT=(0,L.Z)(VT,oT,rT,!1,null,null,null);const HT=WT.exports;let zT=class extends s.ZP{constructor(){super(...arguments),this.reactivePanelContext={state:this.panelState,position:this.position},this.panelContext=this.reactivePanelContext}get builderMode(){return c.PK.builderMode}get activeElementId(){return c.kD.activeElementId}updatePanelContext(){this.reactivePanelContext.state=this.panelState}};(0,r.gn)([(0,l.fI)()],zT.prototype,"position",void 0),(0,r.gn)([(0,l.fI)()],zT.prototype,"panelState",void 0),(0,r.gn)([(0,l.RL)("panelState")],zT.prototype,"updatePanelContext",null),(0,r.gn)([(0,l.DF)("panelContext")],zT.prototype,"panelContext",void 0),zT=(0,r.gn)([(0,l.wA)({components:{OxySelectorsPanel:HT,VariablesPanel:KI,PresetsPanel:Yk,AppLayoutBodyPanelArea:Jw,HistoryAndRevisionsPanel:Kw,StructurePanel:yw,ElementPropertiesPanel:sx,Add:BS,GlobalSettingsPanel:UP,SelectorsPanel:$C,AIPanel:jD,OxygenElementPropertiesPanel:iT}})],zT);const UT=zT,KT=UT;var GT=(0,L.Z)(KT,sb,ab,!1,null,null,null);const qT=GT.exports;var jT=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-app-wrapper"},[t("div",{staticClass:"breakdance-top-bar-wrapper"},[e._t("topbar")],2),t("div",{staticClass:"breakdance-app-body-wrapper"},[e._t("body")],2)])},YT=[];let XT=class extends s.ZP{};XT=(0,r.gn)([l.wA],XT);const QT=XT,JT=QT;var eZ=(0,L.Z)(JT,jT,YT,!1,null,null,null);const tZ=eZ.exports;var nZ=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",e._l(e.closingConfirmations,(function(n,s){return t("ConfirmDialog",{key:s,attrs:{type:n.type,"save-is-enabled":!n.chosenOption,"save-is-in-progress":n.isSaving,"discard-is-enabled":!n.chosenOption,"discard-is-in-progress":n.isDiscarding,"has-cancel":n.hasCancel,"has-discard":n.hasDiscard,"action-text":n.actionText,show:n.show},on:{discard:function(t){return e.markClosingConfirmationAs(s,"discard")},save:function(t){return e.markClosingConfirmationAs(s,"save")},cancel:function(t){return e.hideClosingConfirmation(s)},"click:outside":function(t){return e.hideClosingConfirmation(s)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(n.title)+" ")]},proxy:!0},{key:"text",fn:function(){return[e._v(e._s(n.text))]},proxy:!0}],null,!0)})})),1)},sZ=[];let aZ=class extends l.w3{get closingConfirmations(){return Object.fromEntries(Object.entries(X.kD.closingConfirmations).filter((([,e])=>e&&e.show)))}markClosingConfirmationAs(e,t){X.kD.chooseOptionForClosingConfirmation({subject:e,chosenOption:t})}hideClosingConfirmation(e){X.kD.hideClosingConfirmation(e)}};aZ=(0,r.gn)([(0,l.wA)({components:{ConfirmDialog:Ed}})],aZ);const iZ=aZ,oZ=iZ;var rZ=(0,L.Z)(oZ,nZ,sZ,!1,null,null,null);const lZ=rZ.exports;var cZ=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:!0,persistent:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" This post can't be edited directly. ")]},proxy:!0},{key:"text",fn:function(){return[e.templateName?[t("p",[e._v(" This post is rendered with "+e._s(e.templateIsFallback?"builder's internal":"the")+' "'),t("em",[e._v(e._s(e.decodedTemplateName))]),e._v('" template. ')])]:[t("p",[e._v(" This post is rendered with a "+e._s(e.templateIsFallback?"builder's internal":"")+" template. ")])],e.templateIsFallback?t("p",[e._v("Please create your own template.")]):t("p",[e._v(" The template does not contain a "),t("em",[e._v("Template Content Area")]),e._v(" element. Therefore, the posts it applies to are not editable in "+e._s(e.$bdox("plugin_name"))+". ")])]},proxy:!0},{key:"actions",fn:function(){return[e.templateIsFallback&&e.templatesPageUrl?t(qs.Z,{attrs:{text:"",href:e.templatesPageUrl}},[e._v("Templates page")]):e.templateIsFallback?e._e():t(qs.Z,{attrs:{text:"",href:e.templateUrl}},[e._v("Edit Template")]),t(qs.Z,{attrs:{dark:"",color:"blue",href:e.backToAdmin}},[e._v(" Go back ")])]},proxy:!0}])})},dZ=[];let uZ=class extends s.ZP{get decodedTemplateName(){const e=document.createElement("textarea");return e.innerHTML=this.templateName,e.value}get templateUrl(){return(0,Ei.UH)(this.templateId)}get backToAdmin(){return X.PK.documentSpecificNeededUrls?X.PK.documentSpecificNeededUrls.backToWordPressUrl??"":""}};(0,r.gn)([(0,l.fI)()],uZ.prototype,"templateName",void 0),(0,r.gn)([(0,l.fI)()],uZ.prototype,"templateId",void 0),(0,r.gn)([(0,l.fI)()],uZ.prototype,"templateIsFallback",void 0),(0,r.gn)([(0,l.fI)()],uZ.prototype,"templatesPageUrl",void 0),uZ=(0,r.gn)([(0,l.wA)({components:{Dialog:Xs.Z}})],uZ);const pZ=uZ,hZ=pZ;var gZ=(0,L.Z)(hZ,cZ,dZ,!1,null,null,null);const mZ=gZ.exports;var vZ=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:!0,persistent:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Invalid post ")]},proxy:!0},{key:"text",fn:function(){return["post_does_not_exist"===e.invalidPostData.errorType?t("div",[e._v(" The requested post doesn't exist. It may have been deleted, or maybe you used an outdated URL. ")]):e._e(),"post_is_in_trash"===e.invalidPostData.errorType?t("div",[e._v(" You can't edit this item because it is in the Trash. Please restore it and try again. ")]):e._e(),"post_type_is_banned"===e.invalidPostData.errorType?t("div",[e.invalidPostData.postType?[e._v(" Posts with post type "),t("b",[e._v('"'+e._s(e.invalidPostData.postType)+'"')]),e._v(" can't be edited with "+e._s(e.$bdox("plugin_name"))+" directly. Please use a "),t("b",[e._v(e._s(e.$bdox("plugin_name"))+" Template")]),e._v(" instead. ")]:[e._v(" The requested post can't be edited with "+e._s(e.$bdox("plugin_name"))+". ")]],2):e._e(),"post_type_is_restricted"===e.invalidPostData.errorType?t("div",[e._v(" You don't have enough permissions to edit "),t("b",[e._v('"'+e._s(e.invalidPostData.postType)+'"')]),e._v(" post type. ")]):e._e()]},proxy:!0},{key:"actions",fn:function(){return[t(qs.Z,{attrs:{dark:"",color:"blue",href:e.invalidPostData.backToAdminUrl}},[e._v(" Back to WordPress admin ")])]},proxy:!0}])})},fZ=[];let yZ=class extends s.ZP{get invalidPostData(){return X.PK.invalidPostData}};yZ=(0,r.gn)([(0,l.wA)({components:{Dialog:Xs.Z}})],yZ);const bZ=yZ,_Z=bZ;var xZ=(0,L.Z)(_Z,vZ,fZ,!1,null,null,null);const SZ=xZ.exports;var PZ=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Dialog",{attrs:{value:e.showDialog,width:500,closeable:!1},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"subtitle-top",fn:function(){return[e._v("Welcome to "+e._s(e.$bdox("plugin_name")))]},proxy:!0},{key:"title",fn:function(){return[e._v("👋 Do you want to start with a template?")]},proxy:!0},{key:"text",fn:function(){return[t("p",[e._v(" Templates save you hours of work. Each template is crafted by a pro and is fully customizable. ")])]},proxy:!0},{key:"actions",fn:function(){return[t(qs.Z,{staticStyle:{"margin-right":"auto"},attrs:{color:"blue"},on:{click:e.openDesignLibrary}},[e._v(" Open Design Library ")]),t(qs.Z,{attrs:{outlined:"",text:""},on:{click:e.closeForever}},[e._v("No, thanks")])]},proxy:!0}])})},CZ=[];let wZ=class extends s.ZP{constructor(){super(...arguments),this.isOpen=X.PK.neededData?.isBuilderFirstTimeVisit??!1}get showDialog(){return this.isTreeEmpty&&this.isOpen}get isTreeEmpty(){return 0===X.Hb.document.tree.root.children.length}closeForever(){this.isOpen=!1,(0,Go.D)({action:"breakdance_save_arbitrary",dataToPost:{key:"onboarding_builder_fist_time_visit",data:"true"},decoder:Kr._4})}openDesignLibrary(){(0,Ke.of)("CMD_B"),this.closeForever()}};wZ=(0,r.gn)([(0,l.wA)({components:{Dialog:Xs.Z}})],wZ);const IZ=wZ,kZ=IZ;var DZ=(0,L.Z)(kZ,PZ,CZ,!1,null,null,null);const EZ=DZ.exports;var TZ=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isComponentType&&e.totalRootChildren>1?t("div",{staticClass:"components-root-tag-warning"},[e._v(" Components must have a single root tag. ")]):e._e()},ZZ=[];let AZ=class extends l.w3{get totalRootChildren(){return c.Hb.document.tree.root.children.length}get isComponentType(){return c.Hb.document.documentMeta.postType===Zr.Zr}};AZ=(0,r.gn)([(0,l.wA)({})],AZ);const BZ=AZ,MZ=BZ;var OZ=(0,L.Z)(MZ,TZ,ZZ,!1,null,"20a5fb30",null);const LZ=OZ.exports;var RZ=function(){var e=this,t=e._self._c;e._self._setupProxy;return"breakdance"===e.builderMode?t("button",{staticClass:"preview-mode-close-button",on:{click:e.togglePreviewMode}},[e._v(" Close Preview ")]):"oxygen"===e.builderMode?t("button",{staticClass:"preview-mode-close-button-oxygen",on:{click:e.togglePreviewMode}},[t("Icon",{attrs:{icon:"CloseSolidIcon"}})],1):e._e()},NZ=[];let FZ=class extends l.w3{togglePreviewMode(){c.kD.togglePreviewMode()}get builderMode(){return c.PK.builderMode}get isPreviewMode(){return c.kD.isPreviewMode}onIsPreviewModeChange(){if(this.isPreviewMode){const e=new Event("breakdance_play_animations",{bubbles:!0});window.Breakdance.canvas.document.dispatchEvent(e)}}};(0,r.gn)([(0,l.RL)("isPreviewMode",{immediate:!0})],FZ.prototype,"onIsPreviewModeChange",null),FZ=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z}})],FZ);const $Z=FZ,VZ=$Z;var WZ=(0,L.Z)(VZ,RZ,NZ,!1,null,null,null);const HZ=WZ.exports;var zZ=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-panel vscroll-wrap borderOnRight singularity-left-panel"},["page_structure"===e.singularityLeftPanelState?t("PageStructure"):e._e(),"section_add_or_swap"===e.singularityLeftPanelState?t("SectionAddOrSwapPanel"):e._e(),"image_editor"===e.singularityLeftPanelState?t("ImageEditor",{key:e.imageEditorKey}):e._e(),"background_image_editor"===e.singularityLeftPanelState?t("BackgroundImageEditor"):e._e(),"icon_editor"===e.singularityLeftPanelState?t("IconEditor"):e._e(),"text_editor"===e.singularityLeftPanelState?t("TextEditor"):e._e(),"link_editor"===e.singularityLeftPanelState?t("LinkEditor"):e._e(),"content_properties_editor"===e.singularityLeftPanelState?t("ContentPropertiesEditor"):e._e()],1)},UZ=[],KZ=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"section-add-or-swap-panel vscroll-wrap vscroll-scroll"},[t("SingularityPanelHeader",{attrs:{parentTitle:"Section",childTitle:"add"===e.mode?"Add":"Swap",backState:"page_structure"}}),t("div",{staticClass:"section-add-or-swap-content-wrapper"},[t("div",{staticClass:"section-type-dropdown-wrapper"},[t(ih.Z,{staticClass:"section-add-or-swap-dropdown",attrs:{placeholder:"Search sections",items:e.sectionTypes,value:e.sectionType,clearable:!0,dense:"",solo:"",flat:"",filled:"","no-data-text":"","hide-details":""},on:{input:e.updateSectionType}})],1),t("div",{staticClass:"section-card-wrapper"},e._l(e.sections,(function(n,s){return t("SectionCard",{key:s,attrs:{currentSection:e.currentSectionIsSame(s,n.type),value:n},nativeOn:{mouseenter:function(t){return e.handleMouseEnter(n,s)},mouseleave:function(t){return e.handleMouseLeave.apply(null,arguments)},click:function(t){return e.handleSectionChosen.apply(null,arguments)}}})})),1)])],1)},GZ=[],qZ=n(18332),jZ=n(98374);const YZ="https://breakdance-design-library-section-screenshots-ap-production.up.railway.app/screenshots/barebones/";function XZ(e){const t=(0,qZ.J)();return t[e]?t[e].map(((t,n)=>({label:`${e} ${n}`,index:n,node:t,type:e,screenshotUrl:nA(e,String(t.id))}))):[]}function QZ(){const e=(0,qZ.J)();return Object.entries(e).flatMap((([e,t])=>t.map(((t,n)=>({label:`${e} ${n}`,index:n,node:t,type:e,screenshotUrl:nA(e,String(t.id))})))))}function JZ(e,t){c.kD.activateElement(t);const n={nodeId:void 0};return(0,Ox.AE)([e],"inserting",n),n.nodeId??null}function eA(e){(0,jZ.RM)((0,D.RY)(),"section-add-or-swap-panel-temporary-canvas-styles",`\n    [data-node-id="${e}"] {\n      display: none !important;\n    }\n    `)}function tA(){(0,jZ.RM)((0,D.RY)(),"section-add-or-swap-panel-temporary-canvas-styles","")}function nA(e,t){const n=e.toLowerCase().replace(/[^a-z0-9]/g,""),s=`${n}-${t}.jpg`;return`${YZ}/${n}/${s}`}var sA=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"section-card",class:{"section-card--current":e.currentSection}},[t("div",{staticClass:"section-card-title"},[t("span",[e._v(e._s(e.value.label))]),e.currentSection?t("span",{staticClass:"section-card-tag"},[e._v("Current")]):e._e()]),t("div",{staticClass:"section-card-preview"},[t("img",{attrs:{src:e.value.screenshotUrl,alt:"Section Preview"}})])])},aA=[];let iA=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],iA.prototype,"value",void 0),(0,r.gn)([(0,l.fI)()],iA.prototype,"currentSection",void 0),iA=(0,r.gn)([(0,l.wA)({components:{}})],iA);const oA=iA,rA=oA;var lA=(0,L.Z)(rA,sA,aA,!1,null,null,null);const cA=lA.exports;var dA=n(51617),uA=n(15167),pA=n(60719),hA=n(27432),gA=n(48299),mA=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"panel-header"},[t("h1",{staticClass:"panel-header__title",class:{"panel-header__title--link":e.backState},on:{click:e.goBackToPanelState}},[e.backState?t("Icon",{attrs:{icon:"ChevronDownSolidIcon",rotate:"90",size:"14"}}):e._e(),e._v(" "+e._s(e.parentTitle)+" "),e.childTitle?[t("span",[e._v("/")]),t("span",[e._v(e._s(e.childTitle))])]:e._e()],2),t("div",{staticClass:"panel-header__actions"},[e._t("actions")],2)])},vA=[];let fA=class extends s.ZP{goBackToPanelState(){return this.backState?c.fz.setSingularityLeftPanel(this.backState):null}};(0,r.gn)([(0,l.fI)({default:"Title"})],fA.prototype,"parentTitle",void 0),(0,r.gn)([(0,l.fI)()],fA.prototype,"childTitle",void 0),(0,r.gn)([(0,l.fI)()],fA.prototype,"backState",void 0),fA=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z}})],fA);const yA=fA,bA=yA;var _A=(0,L.Z)(bA,mA,vA,!1,null,null,null);const xA=_A.exports;let SA=class extends s.ZP{constructor(){super(...arguments),this.sectionType=this.sectionToSwapData?.type??"",this.lastPreviewedSectionId=null}get sectionToSwapData(){if(!this.sectionAddOrSwapPanelState.sectionIdToAddAfterOrSwap)return null;const e=(0,he.DY)(c.Hb.document.tree,this.sectionAddOrSwapPanelState.sectionIdToAddAfterOrSwap);return e?(0,uA.E)(e).singularity.sectionData:null}currentSectionIsSame(e,t){return this.sectionToSwapData?.type===t&&this.sectionToSwapData?.index===e}updateSectionType(e){this.sectionType=e}get sectionAddOrSwapPanelState(){return c.fz.sectionAddOrSwapPanelState}get insertAfter(){return this.sectionAddOrSwapPanelState.sectionIdToAddAfterOrSwap??-1}set insertAfter(e){c.fz.setSectionAddOrSwapPanelState({...this.sectionAddOrSwapPanelState,sectionIdToAddAfterOrSwap:e})}get mode(){return this.sectionAddOrSwapPanelState.mode}handleMouseEnter(e,t){"swap"===this.mode&&eA(this.insertAfter);const n={type:e.type,sectionFriendlyName:`${e.type} - ${t}`,description:""},s=(0,dA.gq)(e.node,n,t,!1),a=(0,dA.ML)(s,n);this.lastPreviewedSectionId=JZ(a,this.insertAfter)}handleMouseLeave(){this.lastPreviewedSectionId&&(c.Hb.deleteElement({nodeId:this.lastPreviewedSectionId}),this.lastPreviewedSectionId=null),"swap"===this.mode&&tA()}handleSectionChosen(){if(c.kD.activateElement(this.lastPreviewedSectionId),this.lastPreviewedSectionId){const e=this.lastPreviewedSectionId,t=(0,he.DY)(c.Hb.document.tree,e);if(!t)return;hA.P.addJob((async n=>{await(0,pA.H2)(e,n),await(0,gA.q)(t,n)}),`rewrite and image population for shouldGenerateOnInitialLoad for document\n      "${c.Hb.document.documentMeta.titleLabel} - ${c.Hb.document.documentMeta.id}",\n      section ${e}`,e)}this.lastPreviewedSectionId=null,"swap"===this.mode&&c.Hb.deleteElement({nodeId:this.insertAfter}),c.fz.setSingularityLeftPanel("page_structure")}toggleMode(){c.fz.setSectionAddOrSwapPanelState({...this.sectionAddOrSwapPanelState,mode:"add"===this.mode?"swap":"add"})}get sections(){return this.sectionType?XZ(this.sectionType):QZ()}get sectionTypes(){return(0,dA.FX)().sort(((e,t)=>e.localeCompare(t)))}};SA=(0,r.gn)([(0,l.wA)({components:{SectionCard:cA,Dropdown:yo.Z,IconButton:oo.Z,DropdownInput:cr.Z,SingularityPanelHeader:xA}})],SA);const PA=SA,CA=PA;var wA=(0,L.Z)(CA,KZ,GZ,!1,null,null,null);const IA=wA.exports;var kA=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e._v(" I am the section writer. "),t(Fo.Z,{attrs:{label:"Section ID",type:"number",outlined:"",dense:""},model:{value:e.sectionId,callback:function(t){e.sectionId=e._n(t)},expression:"sectionId"}}),t(qs.Z,{on:{click:e.writeSection}},[e._v("Write Content")]),t(qs.Z,{on:{click:e.populateImages}},[e._v("Populate Images")])],1)},DA=[];let EA=class extends s.ZP{constructor(){super(...arguments),this.sectionId=-1}async writeSection(){hA.P.addJob((async e=>{await(0,pA.H2)(this.sectionId,e)}),"rewrite triggered manually by sectionwriter.vue",this.sectionId)}async populateImages(){hA.P.addJob((async e=>{await(0,pA.SW)(this.sectionId,e)}),"populate images triggered manually by sectionwriter.vue",this.sectionId)}};EA=(0,r.gn)([(0,l.wA)({components:{}})],EA);const TA=EA,ZA=TA;var AA=(0,L.Z)(ZA,kA,DA,!1,null,null,null);const BA=AA.exports;var MA=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e._v(" I am the job manager. "),t(qs.Z,{on:{click:e.clearAllJobs}},[e._v("Clear All Jobs")]),e._l(e.aiJobs,(function(n,s){return t("div",{key:s,staticClass:"flex flex-row"},[t("div",[t("h3",[e._v(e._s(n.id))]),t("p",[e._v("Status: "+e._s(n.status))]),t("p",[e._v(e._s(n.jobName))])]),t("div",{staticClass:"flex flex-row"},[t(qs.Z,{on:{click:function(t){return e.runJob(n.id)}}},[e._v("Run")]),t(qs.Z,{on:{click:function(t){return e.abortJob(n.id)}}},[e._v("Abort")])],1)])}))],2)},OA=[];let LA=class extends s.ZP{get aiJobs(){return c.fz.aiJobs}runJob(e){hA.P.runJob(e)}abortJob(e){hA.P.abortJob(e)}clearAllJobs(){hA.P.clearAllJobs()}};LA=(0,r.gn)([(0,l.wA)({components:{}})],LA);const RA=LA,NA=RA;var FA=(0,L.Z)(NA,MA,OA,!1,null,null,null);const $A=FA.exports;var VA=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"page-structure vscroll-wrap vscroll-scroll"},[t("PanelHeader",{ref:"panelHeader",on:{close:e.close},scopedSlots:e._u([{key:"right",fn:function(){return[t("IconButton",{staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,small:"",icon:"PlusIconSolid"},on:{click:e.addSection}}),t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,small:"",icon:"EllipsisStrokeIcon"}},n))]}}])},[t(ho.Z,[t(go.Z,{attrs:{dense:""},on:{click:e.clearStructure}},[t(mo.V9,[e._v(" Clear ")])],1),t(go.Z,{attrs:{dense:""},on:{click:function(t){return e.$emit("nothing")}}},[t(mo.V9,[e._v(" Do Something Else ")])],1)],1)],1)]},proxy:!0}])},[e._v(" Page Sections ")]),t("div",{staticClass:"page-structure-content-wrapper"},[t("div",{staticClass:"page-structure-page-title"},[t("h2",[e._v(e._s(e.pageTitle))]),t("p",[e._v("Maybe the page description here. Maybe page actions here.")])]),t("div",{staticClass:"page-structure-sections"},[t("draggable",{attrs:{value:e.structure,handle:".page-structure-section-drag-handle"},on:{change:e.handleChange}},e._l(e.structure,(function(e){return t("PageStructureSection",{key:e.nodeId,attrs:{value:e}})})),1)],1)])],1)},WA=[];function HA(e){return e.root.children.map(zA)}function zA(e){const t=(0,uA.E)(e);return{nodeId:e.id,title:e.data.properties?.meta?.friendlyName?.trim()||t.singularity.sectionData.type||"unknown",description:t.sectionDescription||"unknown"}}function UA(e,t){c.Hb.unthrottledPropertyChanged({elementId:e,path:"meta.promptInfo.sectionDescription",meta:{snapshotLabel:`Updated sectionDescription for "${e}"`},value:t})}function KA(e,t){c.Hb.unthrottledPropertyChanged({elementId:e,path:"meta.friendlyName",meta:{snapshotLabel:`Updated friendly name for element "${e}"`},value:t.trim()})}var GA=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classList,on:{click:e.activateSection}},[t("div",{staticClass:"page-structure-section__title-bar"},[t("div",{staticClass:"page-structure-section-drag-handle"},[t("Icon",{attrs:{size:"12",icon:"GripVerticalIcon"}})],1),t("div",{staticClass:"page-structure-section__title-bar__title"},[e._v(" "+e._s(e.value.title)+" - "+e._s(e.value.nodeId)+" ")]),t("div",{staticClass:"page-structure-section__title-bar__actions"},[t("div",{on:{click:e.toggleOpen}},[t("Icon",{attrs:{icon:"EditIcon",size:14}})],1),t("div",{on:{click:function(t){return t.stopPropagation(),e.replace.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"RepeatIcon",size:14}})],1),t("div",{on:{click:function(t){return t.stopPropagation(),e.duplicateSection.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"DuplicateIcon",size:14}})],1),t("div",{on:{click:function(t){return t.stopPropagation(),e.deleteSection.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"TrashIcon",size:14}})],1)])]),e.open?t("div",{staticClass:"page-structure-section__content"},[t("div",{staticClass:"page-structure-section__content-field"},[t("label",[e._v("Section Name")]),t("TextInput",{attrs:{value:e.value.title,placeholder:"Edit friendly name"},on:{input:e.updateFriendlyName}})],1),t("div",{staticClass:"page-structure-section__content-field"},[t("label",[e._v(" Section Description ")]),t("TextInput",{attrs:{value:e.value.description,placeholder:"Edit description",multiline:!0},on:{input:e.updateDescription}})],1),t("NiceButton",{on:{click:e.rewrite}},[e._v("rewrite")])],1):e._e()])},qA=[];let jA=class extends s.ZP{constructor(){super(...arguments),this.open=!1}duplicateSection(){c.Hb.duplicateElementAndActivateIt(this.value.nodeId)}deleteSection(){c.Hb.deleteElement({nodeId:this.value.nodeId})}updateDescription(e){UA(this.value.nodeId,e)}updateFriendlyName(e){KA(this.value.nodeId,e)}rewrite(){hA.P.addJob((async e=>{await(0,pA.H2)(this.value.nodeId,e)}),"section rewrite from PageStructureSection.vue rewrite button",this.value.nodeId)}replace(){c.fz.setSectionAddOrSwapPanelState({mode:"swap",sectionIdToAddAfterOrSwap:this.value.nodeId}),c.fz.setSingularityLeftPanel("section_add_or_swap")}get classList(){return{"page-structure-section":!0,"page-structure-section--active":this.active}}get active(){return c.kD.activeElementId===this.value.nodeId}activateSection(){c.kD.activateElement(this.value.nodeId)}add(){alert("add")}toggleOpen(){this.open=!this.open}};(0,r.gn)([(0,l.fI)()],jA.prototype,"value",void 0),jA=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,IconButton:oo.Z,TextInput:Qs.Z,NiceButton:Wr.Z}})],jA);const YA=jA,XA=YA;var QA=(0,L.Z)(XA,GA,qA,!1,null,null,null);const JA=QA.exports;let eB=class extends s.ZP{get structure(){return HA(c.Hb.document.tree)}get pageTitle(){return c.Hb.document.documentMeta.titleLabel}handleChange(e){if(e.moved){const t=e.moved.element.nodeId,n=e.moved.newIndex;c.Hb.moveElement({draggedElementId:t,droppedOnElementId:c.Hb.document.tree.root.id,index:n})}}addSection(){c.fz.setSectionAddOrSwapPanelState({mode:"add",sectionIdToAddAfterOrSwap:this.structure.length?this.structure[this.structure.length-1].nodeId:null}),c.fz.setSingularityLeftPanel("section_add_or_swap")}clearStructure(){c.Hb.document.tree.root.children.map((e=>e.id)).forEach((e=>{c.Hb.deleteElement({nodeId:e})}))}close(){alert("close")}};eB=(0,r.gn)([(0,l.wA)({components:{PageStructureSection:JA,draggable:fh(),PanelHeader:DS,Dropdown:yo.Z,IconButton:oo.Z}})],eB);const tB=eB,nB=tB;var sB=(0,L.Z)(nB,VA,WA,!1,null,null,null);const aB=sB.exports;var iB=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"image-editor vscroll-wrap vscroll-scroll"},[t("SingularityPanelHeader",{attrs:{parentTitle:"Image Editor",backState:"page_structure"}}),t("div",{staticClass:"image-editor-content-wrapper"},[t("div",{staticClass:"image-editor-current-image"},[t("WPMediaInput",{attrs:{value:e.mediaInputValue,"media-options":e.mediaInputOptions},on:{input:e.updateMediaInputValue}})],1),t("FutureLayerImageBrowser",{attrs:{imageControlData:e.singleImageControlData},on:{"image-selected":e.handleImageSelected,"image-previewed":e.handleImagePreviewed,"image-restored":e.handleImageRestored}})],1)],1)},oB=[],rB=n(90308),lB=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"futurelayer-image-browser"},[t("div",{staticClass:"search-section"},[t("div",{staticClass:"search-input-wrapper"},[t("TextInput",{attrs:{placeholder:"Search for images..."},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchImages.apply(null,arguments)}},model:{value:e.searchKeyword,callback:function(t){e.searchKeyword=t},expression:"searchKeyword"}}),t("Icon",{attrs:{icon:"SearchIcon",size:"12"},on:{click:e.searchImages}})],1),e.aiKeywords.length>0?t("div",{staticClass:"suggested-keywords"},[t("div",{staticClass:"keyword-chips"},e._l(e.aiKeywords,(function(n){return t("span",{key:n,staticClass:"keyword-chip",on:{click:function(t){return e.useKeyword(n)}}},[e._v(" "+e._s(n)+" ")])})),0)]):e._e()]),t("div",{staticClass:"images-section"},[e.displayedImages.length>0?t("div",{staticClass:"search-results"},[t("p",[e._v('Results for "'+e._s(e.currentSearchTerm)+'"')]),t("div",{staticClass:"images-grid"},e._l(e.displayedImages,(function(n){return t("div",{key:n.id,staticClass:"image-card",on:{click:function(t){return e.selectImage(n)},mouseenter:function(t){return e.previewImage(n)},mouseleave:e.restoreOriginalImage}},[t("img",{attrs:{src:n.urls.regular,alt:n.alt_description||""}}),t("div",{staticClass:"image-source"},[e._v(e._s(e.getImageSource(n)))])])})),0)]):e._e(),0!==e.displayedImages.length||e.isSearching?e._e():t("div",{staticClass:"no-results"},[t("p",[e._v(" No images available. Try searching for images using the input above. ")])])])])},cB=[],dB=n(49234),uB=n(50247);let pB=class extends s.ZP{constructor(){super(...arguments),this.searchKeyword="",this.searchResults=[],this.isSearching=!1,this.currentSearchTerm=""}get aiKeywords(){return this.imageControlData?.keywords||[]}get displayedImages(){return this.searchResults.length>0?this.searchResults:this.imageControlData?.searchResults||[]}mounted(){this.aiKeywords.length>0&&(this.searchKeyword=this.aiKeywords[0],this.currentSearchTerm=this.aiKeywords[0])}useKeyword(e){this.searchKeyword=e,this.searchImages()}async searchImages(){if(this.searchKeyword.trim()){this.isSearching=!0,this.currentSearchTerm=this.searchKeyword;try{const e=await(0,dB.O)({query:this.searchKeyword,page:1,per_page:12});this.searchResults=e}catch(e){console.error("Image search failed:",e),this.searchResults=[]}finally{this.isSearching=!1}}}previewImage(e){const t=e.urls.regular||"";this.$emit("image-previewed",t)}restoreOriginalImage(){this.$emit("image-restored")}selectImage(e){this.$emit("image-selected",e)}getImageSource(e){return(0,uB.I)(e)?"Unsplash":"Pexels"}};(0,r.gn)([(0,l.fI)({default:null})],pB.prototype,"imageControlData",void 0),pB=(0,r.gn)([(0,l.wA)({components:{TextInput:Qs.Z,NiceButton:Wr.Z,Icon:ze.Z}})],pB);const hB=pB,gB=hB;var mB=(0,L.Z)(gB,lB,cB,!1,null,null,null);const vB=mB.exports;var fB=n(10921),yB=n(52166),bB=n(86025);let _B=class extends s.ZP{constructor(){super(...arguments),this.originalMediaValue=null,this.addIsOpen=!1}get imageId(){return c.fz.imageEditorPanelState?.imageId}get futureLayerImageData(){const e=(0,he.DY)(c.Hb.document.tree,this.imageId);return e?(0,yB.p5)(e):null}get singleImageControlData(){const e=this.futureLayerImageData;return e?.[0]||null}get mediaInputValue(){if(!this.imageId)return null;const e=(0,he.DY)(c.Hb.document.tree,this.imageId);if(!e)return null;const t=G()(e.data.properties,SB);return t||null}updateMediaInputValue(e){this.imageId&&c.Hb.unthrottledPropertyChanged({elementId:this.imageId,path:SB,value:e,meta:{snapshotLabel:"Image Editor Media Input Update"}})}handleImagePreviewed(e){this.originalMediaValue||(this.originalMediaValue=this.mediaInputValue);const t={type:"external_image",url:e,alt:"",caption:"",id:-1};this.updateMediaInputValue(t)}handleImageRestored(){this.originalMediaValue&&(this.updateMediaInputValue(this.originalMediaValue),this.originalMediaValue=null)}async handleImageSelected(e){if(this.originalMediaValue=null,(0,bB.oI)(e)){const t=(0,uB.Zu)(e,this.singleImageControlData?.width),n=await(0,bB.Aq)(t,e);if(n){const e=(0,bB.oM)(n);return void this.updateMediaInputValue(e)}}const t=(0,fB.B)(e);this.updateMediaInputValue(t)}openAdd(){this.addIsOpen=!this.addIsOpen}get mediaInputOptions(){return{acceptedFileTypes:["image"]}}get uiStoreActiveElementId(){return c.kD.activeElementId}closePanelIfElementIdChanges(){this.imageId!==this.uiStoreActiveElementId&&c.fz.setImageEditorPanelState(null)}};(0,r.gn)([(0,l.RL)("uiStoreActiveElementId")],_B.prototype,"closePanelIfElementIdChanges",null),_B=(0,r.gn)([(0,l.wA)({components:{Dropdown:yo.Z,IconButton:oo.Z,PanelHeader:DS,WPMediaInput:rB.Z,FutureLayerImageBrowser:vB,SingularityPanelHeader:xA}})],_B);const xB=_B,SB="content.image.media",PB=xB;var CB=(0,L.Z)(PB,iB,oB,!1,null,null,null);const wB=CB.exports;var IB=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"background-image-editor vscroll-wrap vscroll-scroll"},[t("PanelHeader",{ref:"panelHeader",on:{close:e.close},scopedSlots:e._u([{key:"right",fn:function(){return[t("IconButton",{staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,small:"",icon:"PlusIconSolid"},on:{click:function(t){return e.$emit("something")}}}),t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,small:"",icon:"EllipsisStrokeIcon"}},n))]}}])},[t(ho.Z,[t(go.Z,{attrs:{dense:""},on:{click:function(t){return e.$emit("edit-background-image")}}},[t(mo.V9,[e._v(" Edit Background Image ")])],1)],1)],1)]},proxy:!0}])},[t("IconButton",{staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,small:"",icon:"ArrowLeftIcon"},on:{click:e.backToPageStructurePanel}}),e._v(" Edit Background Image ")],1),t("div",{staticClass:"background-image-editor-content-wrapper"},[t("div",{staticClass:"background-image-editor-current-image"},[t("h2",[e._v("Current Background Image")]),t("WPMediaInput",{attrs:{value:e.mediaInputValue,"media-options":e.mediaInputOptions},on:{input:e.updateMediaInputValue}})],1),t("UnsplashImageBrowser",{on:{"image-selected":e.handleImageSelected}})],1)],1)},kB=[],DB=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"unsplash-image-browser"},[t("h2",[e._v("Search Images")]),t("div",{staticClass:"unsplash-image-browser-search-input-wrapper"},[t("TextInput",{model:{value:e.unsplashSearchQuery,callback:function(t){e.unsplashSearchQuery=t},expression:"unsplashSearchQuery"}}),t("NiceButton",{attrs:{loading:e.loading},on:{click:e.searchUnsplash}},[e._v(" Search ")]),t(yu.Z,{attrs:{items:["landscape","portrait","squarish"],label:"Orientation",outlined:""},model:{value:e.unsplashSearchOrientation,callback:function(t){e.unsplashSearchOrientation=t},expression:"unsplashSearchOrientation"}})],1),e._l(e.images,(function(n,s){return t("div",{key:s,staticClass:"unsplash-image-wrapper"},[t("img",{attrs:{src:n.urls.regular,alt:n.alt_description||""},on:{click:function(t){return e.selectImage(n)}}}),t("p",[e._v(e._s(n.description||""))])])})),0!==e.images.length||e.loading?e._e():t("div",[e._v(" Search for images using the input above ")])],2)},EB=[];let TB=class extends s.ZP{constructor(){super(...arguments),this.images=[],this.unsplashSearchOrientation="landscape",this.unsplashSearchQuery="",this.loading=!1}async searchUnsplash(){if(this.unsplashSearchQuery.trim()){this.loading=!0;try{const e=await(0,dB.O)({query:this.unsplashSearchQuery,page:1,per_page:20});this.images=e}catch(e){console.error("Error searching Unsplash:",e),this.images=[]}finally{this.loading=!1}}}selectImage(e){this.$emit("image-selected",e)}};TB=(0,r.gn)([(0,l.wA)({components:{TextInput:Qs.Z,NiceButton:Wr.Z}})],TB);const ZB=TB,AB=ZB;var BB=(0,L.Z)(AB,DB,EB,!1,null,null,null);const MB=BB.exports;let OB=class extends s.ZP{get sectionId(){return c.fz.backgroundImageEditorPanelState?.sectionId}get mediaInputValue(){if(!this.sectionId)return null;const e=(0,he.DY)(c.Hb.document.tree,this.sectionId);if(!e)return null;const t=G()(e.data.properties,RB);return t||null}updateMediaInputValue(e){this.sectionId&&c.Hb.unthrottledPropertyChanged({elementId:this.sectionId,path:RB,value:e,meta:{snapshotLabel:"Background Image Editor Media Input Update"}})}get mediaInputOptions(){return{acceptedFileTypes:["image"]}}backToPageStructurePanel(){c.fz.setSingularityLeftPanel("page_structure")}handleImageSelected(e){const t=(0,fB.B)(e);this.updateMediaInputValue(t)}close(){alert("close")}get uiStoreActiveElementId(){return c.kD.activeElementId}closePanelIfElementIdChanges(){this.sectionId!==this.uiStoreActiveElementId&&c.fz.setBackgroundImageEditorPanelState(null)}};(0,r.gn)([(0,l.RL)("uiStoreActiveElementId")],OB.prototype,"closePanelIfElementIdChanges",null),OB=(0,r.gn)([(0,l.wA)({components:{Dropdown:yo.Z,IconButton:oo.Z,PanelHeader:DS,WPMediaInput:rB.Z,UnsplashImageBrowser:MB}})],OB);const LB=OB,RB="design.background.image",NB=LB;var FB=(0,L.Z)(NB,IB,kB,!1,null,null,null);const $B=FB.exports;var VB=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"icon-editor vscroll-wrap vscroll-scroll"},[t("SingularityPanelHeader",{attrs:{parentTitle:"Edit Icon",backState:"page_structure"}}),t("div",{staticClass:"icon-editor-content-wrapper"},[t("IconInput",{attrs:{value:e.iconInputValue},on:{input:e.updateIconInputValue}})],1)],1)},WB=[],HB=n(50296);let zB=class extends s.ZP{get iconId(){return c.fz.iconEditorPanelState.iconId}get iconInputValue(){if(!this.iconId)return null;const e=(0,he.DY)(c.Hb.document.tree,this.iconId);if(!e)return null;const t=G()(e.data.properties,KB);return t||null}updateIconInputValue(e){this.iconId&&c.Hb.unthrottledPropertyChanged({elementId:this.iconId,path:KB,value:e,meta:{snapshotLabel:"Icon Editor Input Update"}})}};zB=(0,r.gn)([(0,l.wA)({components:{IconInput:HB.Z,SingularityPanelHeader:xA}})],zB);const UB=zB,KB="content.content.icon",GB=UB;var qB=(0,L.Z)(GB,VB,WB,!1,null,null,null);const jB=qB.exports;var YB=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"text-editor vscroll-wrap vscroll-scroll"},[t("SingularityPanelHeader",{attrs:{parentTitle:"Edit Text",backState:"page_structure"}}),t("div",{staticClass:"text-editor-content-wrapper"},[t("TextInput",{attrs:{value:e.textInputValue,multiline:!0},on:{input:e.updateTextInputValue}})],1)],1)},XB=[];let QB=class extends s.ZP{get uiStoreActiveElementId(){return c.kD.activeElementId}closePanelIfElementIdChanges(){this.textEditorPanelState?.elementId!==this.uiStoreActiveElementId&&c.fz.setTextEditorPanelState(null)}get textEditorPanelState(){return c.fz.textEditorPanelState}get textInputValue(){if(!this.textEditorPanelState)return null;const e=(0,he.DY)(c.Hb.document.tree,this.textEditorPanelState.elementId);if(!e)return null;const t=G()(e.data.properties,this.textEditorPanelState.contentEditablePropertyPath);return t||null}updateTextInputValue(e){this.textEditorPanelState?.elementId&&c.Hb.unthrottledPropertyChanged({elementId:this.textEditorPanelState.elementId,path:this.textEditorPanelState.contentEditablePropertyPath,value:e,meta:{snapshotLabel:"Text Editor Input Update"}})}};(0,r.gn)([(0,l.RL)("uiStoreActiveElementId")],QB.prototype,"closePanelIfElementIdChanges",null),QB=(0,r.gn)([(0,l.wA)({components:{TextInput:Qs.Z,SingularityPanelHeader:xA}})],QB);const JB=QB,eM=JB;var tM=(0,L.Z)(eM,YB,XB,!1,null,null,null);const nM=tM.exports;var sM=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"link-editor vscroll-wrap vscroll-scroll"},[t("PanelHeader",{ref:"panelHeader",on:{close:e.close},scopedSlots:e._u([{key:"right",fn:function(){return[t("IconButton",{staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,small:"",icon:"PlusIconSolid"},on:{click:function(t){return e.$emit("something")}}}),t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,small:"",icon:"EllipsisStrokeIcon"}},n))]}}])},[t(ho.Z,[t(go.Z,{attrs:{dense:""},on:{click:function(t){return e.$emit("edit-link")}}},[t(mo.V9,[e._v(" Edit Link ")])],1)],1)],1)]},proxy:!0}])},[t("IconButton",{staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,small:"",icon:"ArrowLeftIcon"},on:{click:e.backToPageStructurePanel}}),e._v(" Edit Links ")],1),t("div",{staticClass:"link-editor-content-wrapper"},[t("h2",[e._v("Link Editor")]),e._l(e.linkPropertyPaths,(function(n){return t("div",{key:n},[t("LinkInput",{attrs:{value:e.linkInputValue(n)},on:{input:function(t){return e.updateLinkInputValue(t,n)}}})],1)}))],2)],1)},aM=[],iM=n(16980);let oM=class extends s.ZP{get linkEditorPanelState(){return c.fz.linkEditorPanelState}get uiStoreActiveElementId(){return c.kD.activeElementId}closePanelIfElementIdChanges(){this.linkEditorPanelState?.elementId!==this.uiStoreActiveElementId&&c.fz.setLinkEditorPanelState(null)}get linkPropertyPaths(){return c.fz.linkEditorPanelState?.linkPropertyPaths}linkInputValue(e){if(!this.linkEditorPanelState)return null;const t=(0,he.DY)(c.Hb.document.tree,this.linkEditorPanelState.elementId);if(!t)return null;const n=G()(t.data.properties,e);return n||null}updateLinkInputValue(e,t){this.linkEditorPanelState?.elementId&&c.Hb.unthrottledPropertyChanged({elementId:this.linkEditorPanelState.elementId,path:t,value:e,meta:{snapshotLabel:"Link Editor Input Update"}})}close(){alert("close")}backToPageStructurePanel(){c.fz.setLinkEditorPanelState(null)}};(0,r.gn)([(0,l.RL)("uiStoreActiveElementId")],oM.prototype,"closePanelIfElementIdChanges",null),oM=(0,r.gn)([(0,l.wA)({components:{Dropdown:yo.Z,IconButton:oo.Z,PanelHeader:DS,IconInput:HB.Z,NiceButton:Wr.Z,LinkInput:iM.Z}})],oM);const rM=oM,lM=rM;var cM=(0,L.Z)(lM,sM,aM,!1,null,null,null);const dM=cM.exports;var uM=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"content-properties-editor vscroll-wrap vscroll-scroll"},[t("PanelHeader",{ref:"panelHeader",on:{close:e.close},scopedSlots:e._u([{key:"right",fn:function(){return[t("IconButton",{staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,small:"",icon:"PlusIconSolid"},on:{click:function(t){return e.$emit("something")}}}),t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,small:"",icon:"EllipsisStrokeIcon"}},n))]}}])},[t(ho.Z,[t(go.Z,{attrs:{dense:""},on:{click:function(t){return e.$emit("edit-content-properties")}}},[t(mo.V9,[e._v(" Edit Content Properties ")])],1)],1)],1)]},proxy:!0}])},[t("IconButton",{staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,small:"",icon:"ArrowLeftIcon"},on:{click:e.backToPageStructurePanel}}),e._v(" Edit Content Properties ")],1),t("div",{staticClass:"content-properties-editor-content-wrapper"},[e.contentSections?t("ControlsTree",{attrs:{controls:e.contentSections,path:"content",forceFirstSectionOpen:!0}}):e._e()],1)],1)},pM=[];let hM=class extends s.ZP{constructor(){super(...arguments),this.editingElementControlsTreeContext=G_.rq}get contentSections(){return c.kD.activeElement?c.PK.element(c.kD.activeElement.data.type).controls.contentSections:null}get contentPropertiesEditorPanelState(){return c.fz.contentPropertiesEditorPanelState}close(){alert("close")}backToPageStructurePanel(){c.fz.setSingularityLeftPanel("page_structure")}};(0,r.gn)([(0,l.DF)("context")],hM.prototype,"editingElementControlsTreeContext",void 0),hM=(0,r.gn)([(0,l.wA)({components:{TextInput:Qs.Z,Dropdown:yo.Z,IconButton:oo.Z,PanelHeader:DS,IconInput:HB.Z,NiceButton:Wr.Z,ControlsTree:Rb["default"]}})],hM);const gM=hM,mM=gM;var vM=(0,L.Z)(mM,uM,pM,!1,null,null,null);const fM=vM.exports;let yM=class extends s.ZP{get singularityLeftPanelState(){return c.fz.singularityUiState.singularityLeftPanel}get imageEditorKey(){return c.fz.imageEditorPanelState?.imageId||"no-image"}};yM=(0,r.gn)([(0,l.wA)({components:{SectionAddOrSwapPanel:IA,SectionWriter:BA,AIJobManager:$A,PageStructure:aB,ImageEditor:wB,BackgroundImageEditor:$B,IconEditor:jB,TextEditor:nM,LinkEditor:dM,ContentPropertiesEditor:fM}})],yM);const bM=yM,_M=bM;var xM=(0,L.Z)(_M,zZ,UZ,!1,null,null,null);const SM=xM.exports;var PM=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-left-panel-new"},[t("div",{staticClass:"singularity-left-panel-new__content"},["page_structure"===e.singularityLeftPanelState?t("PageStructureNew"):e._e(),"settings"===e.singularityLeftPanelState?t("SettingsPanel"):e._e(),"brand"===e.singularityLeftPanelState?t("BrandPanel"):e._e(),"brand_edit_color"===e.singularityLeftPanelState?t("BrandPanelColorEdit"):e._e(),"brand_edit_typography"===e.singularityLeftPanelState?t("BrandPanelTypographyEdit"):e._e(),"section_add_or_swap"===e.singularityLeftPanelState?t("SectionAddOrSwapPanel"):e._e(),"image_editor"===e.singularityLeftPanelState?t("ImageEditor",{key:e.imageEditorKey}):e._e(),"background_image_editor"===e.singularityLeftPanelState?t("BackgroundImageEditor"):e._e(),"icon_editor"===e.singularityLeftPanelState?t("IconEditor"):e._e(),"text_editor"===e.singularityLeftPanelState?t("TextEditor"):e._e(),"link_editor"===e.singularityLeftPanelState?t("LinkEditor"):e._e(),"content_properties_editor"===e.singularityLeftPanelState?t("ContentPropertiesEditor"):e._e()],1)])},CM=[],wM=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"page-structure vscroll-wrap vscroll-scroll"},[t("div",{staticClass:"page-structure-content-wrapper"},[t("PageStructureHeader"),t("div",{staticClass:"page-structure-sections"},[t("draggable",{attrs:{value:e.structure,handle:".page-structure-section-drag-handle"},on:{change:e.handleChange}},e._l(e.structure,(function(e){return t("PageStructureSectionNew",{key:e.nodeId,attrs:{value:e}})})),1),t("div",{staticClass:"page-structure-section--add",on:{click:e.addSection}},[t("div",{staticClass:"page-structure-section__title-bar"},[t("Icon",{staticClass:"page-structure-section-drag-handle__icon",attrs:{icon:"PlusIconSolid",size:14}}),t("span",{staticClass:"page-structure-section__title-bar__title"},[e._v("Add Section")])],1)])],1)],1)])},IM=[],kM=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.classList},[t("div",{staticClass:"page-structure-section__title-bar",on:{click:e.activateSection}},[t("div",{staticClass:"page-structure-section-drag-handle"},[t("Icon",{staticClass:"page-structure-section-drag-handle__icon",attrs:{size:"12",icon:"GripVerticalSolidIcon"}})],1),t("div",{staticClass:"page-structure-section-add-handle",on:{click:e.addSection}},[t("Icon",{staticClass:"page-structure-section-drag-handle__icon",attrs:{size:"12",icon:"PlusIconSolid"}})],1),t("div",{staticClass:"page-structure-section__title-bar__title"},[e._v(" "+e._s(e.value.title)+" "),e.active||e.isSectionCurrentlyRewritingWithAi?t("span",{staticClass:"page-structure-section__active-indicator"}):e._e()]),t("div",{staticClass:"page-structure-section__title-bar__actions"},[t("div",{staticClass:"page-structure-section__title-bar__action",attrs:{role:"button"},on:{click:function(t){return t.stopPropagation(),e.duplicateSection.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"DuplicateIcon",size:12}})],1),t("div",{staticClass:"page-structure-section__title-bar__action",attrs:{role:"button"},on:{click:function(t){return t.stopPropagation(),e.deleteSection.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"TrashIcon",size:12}})],1)])]),e.open?t("div",{staticClass:"page-structure-section__content"},[t("div",{staticClass:"page-structure-section__content-field"},[t("label",[e._v(" Prompt")]),t("TextInput",{attrs:{value:e.value.description,placeholder:"Edit description",multiline:!0},on:{input:e.updateDescription}})],1),t("NiceButton",{class:{"is-spinning":e.isSectionCurrentlyRewritingWithAi&&!e.isSectionCurrentlyReplacingImagesWithAi},attrs:{"left-icon":e.isSectionCurrentlyRewritingWithAi&&!e.isSectionCurrentlyReplacingImagesWithAi?"CircleNotchSolidIcon":"SparklesIconSolid",color:"gray"},on:{click:e.rewrite}},[e._v(" "+e._s(e.isSectionCurrentlyRewritingWithAi&&!e.isSectionCurrentlyReplacingImagesWithAi?"Rewriting...":"Rewrite")+" ")]),t("div",{staticClass:"page-structure-section__divider"}),t("NiceButton",{class:{"is-spinning":e.isSectionCurrentlyReplacingImagesWithAi},attrs:{"left-icon":e.isSectionCurrentlyReplacingImagesWithAi?"CircleNotchSolidIcon":"SparklesIconSolid",color:"gray"},on:{click:e.repopulateImages}},[e._v(e._s(e.isSectionCurrentlyReplacingImagesWithAi?"Updating...":"Update Images")+" ")]),t("div",{staticClass:"page-structure-section__divider"}),t("NiceButton",{attrs:{"left-icon":"CubeSolidIcon",color:"gray"},on:{click:e.replace}},[e._v("Component")])],1):e._e()])},DM=[];let EM=class extends s.ZP{constructor(){super(...arguments),this.open=!1}duplicateSection(){c.Hb.duplicateElementAndActivateIt(this.value.nodeId)}deleteSection(){c.Hb.deleteElement({nodeId:this.value.nodeId})}updateDescription(e){UA(this.value.nodeId,e)}updateFriendlyName(e){KA(this.value.nodeId,e)}rewrite(){hA.P.addJob((async e=>{await(0,pA.H2)(this.value.nodeId,e)}),"section rewrite from PageStructureSectionNew.vue rewrite button",this.value.nodeId)}repopulateImages(){const e=(0,he.DY)(c.Hb.document.tree,this.value.nodeId);e&&hA.P.addJob((async t=>{await(0,gA.q)(e,t)}),"image repopulation from PageStructureSectionNew.vue rewrite button",this.value.nodeId)}addSection(){c.fz.setSectionAddOrSwapPanelState({mode:"add",sectionIdToAddAfterOrSwap:this.value.nodeId}),c.fz.setSingularityLeftPanel("section_add_or_swap")}replace(){c.fz.setSectionAddOrSwapPanelState({mode:"swap",sectionIdToAddAfterOrSwap:this.value.nodeId}),c.fz.setSingularityLeftPanel("section_add_or_swap")}get classList(){return{"page-structure-section":!0,"page-structure-section--active":this.active,"page-structure-section--open":this.open,"page-structure-section--currently-rewriting":this.isSectionCurrentlyRewritingWithAi}}get isSectionCurrentlyRewritingWithAi(){return c.fz.aiJobs.filter((e=>e.affectedElement===this.value.nodeId&&"running"===e.status)).length>0}get isSectionCurrentlyReplacingImagesWithAi(){return c.fz.aiJobs.filter((e=>e.affectedElement===this.value.nodeId&&"running"===e.status&&e.jobName.includes("image"))).length>0}get active(){return c.kD.activeElementId===this.value.nodeId}activateSection(){this.open=!this.open,c.kD.activateElement(this.value.nodeId)}toggleOpen(){this.open=!this.open}};(0,r.gn)([(0,l.fI)()],EM.prototype,"value",void 0),EM=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z,IconButton:oo.Z,TextInput:Qs.Z,NiceButton:Wr.Z}})],EM);const TM=EM,ZM=TM;var AM=(0,L.Z)(ZM,kM,DM,!1,null,null,null);const BM=AM.exports;var MM=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"page-structure-header"},[t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("div",e._g({staticClass:"page-structure-header__title-dropdown"},n),[t("Icon",{staticClass:"page-structure-header__title-icon",attrs:{icon:e.isHomepage?"HomeSolidIcon":"PageRegularIcon",size:"20"}}),t("h1",{staticClass:"page-structure-header__title"},[e._v(e._s(e.pageTitle))]),t("Icon",{staticClass:"page-structure-header__title-icon",attrs:{icon:"ChevronDownSolidIcon",size:"16"}})],1)]}}])},[t("div",{staticClass:"page-structure-header__dropdown-content"},[e._l(e.pages,(function(e){return t("PageStructurePageListItem",{key:e.id,attrs:{value:e}})})),t("div",{staticClass:"page-structure-header__dropdown-divider"}),t("button",{staticClass:"page-structure-page-list-item",on:{click:e.openPagesPanel}},[t("div",{staticClass:"page-structure-page-list-item__content"},[t("div",{staticClass:"page-structure-page-list-item__title"},[t("Icon",{attrs:{size:12,icon:"ListIcon"}}),t("span",[e._v("Manage Pages")])],1)])])],2)]),t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:12,small:"",icon:"EllipsisSolidIcon"}},n))]}}])},[t(ho.Z,[t(go.Z,{attrs:{dense:""},on:{click:function(t){return e.addSection()}}},[t(mo.V9,[e._v(" Add new section ")])],1),t(go.Z,{attrs:{dense:""},on:{click:function(t){return e.clearStructure()}}},[t(mo.V9,[e._v(" Remove all sections ")])],1)],1)],1)],1)},OM=[],LM=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"page-structure-page-list-item",class:e.classList,on:{click:e.openInCanvas}},[t("div",{staticClass:"page-structure-page-list-item__content"},[t("div",{staticClass:"page-structure-page-list-item__title"},[t("Icon",{attrs:{size:12,icon:e.isHomepage?"HomeSolidIcon":"PageRegularIcon"}}),t("span",[e._v(e._s(e.value.title))])],1)])])},RM=[];let NM=class extends s.ZP{constructor(){super(...arguments),this.openingInProgress=!1}async openInCanvas(){this.openingInProgress=!0,await(0,Di.$)(),await(0,Ei.rI)(this.value.id),c.fz.setSingularityLeftPanel("page_structure"),this.openingInProgress=!1}get isHomepage(){return this.value.title.toLowerCase().includes("home")}get active(){return this.value.id===c.Hb.document.documentMeta.id}get classList(){return{"is-active":this.active}}};(0,r.gn)([(0,l.fI)()],NM.prototype,"value",void 0),NM=(0,r.gn)([(0,l.wA)({components:{IconButton:oo.Z,Icon:ze.Z,Dropdown:yo.Z}})],NM);const FM=NM,$M=FM;var VM=(0,L.Z)($M,LM,RM,!1,null,null,null);const WM=VM.exports;let HM=class extends s.ZP{get structure(){return HA(c.Hb.document.tree)}get pages(){return c.fz.pagesInWP.filter((e=>"page"===e.postType))}get pageTitle(){return c.Hb.document.documentMeta.titleLabel}get isHomepage(){return this.pageTitle.toLowerCase().includes("home")}openPagesPanel(){c.fz.setSingularityLeftPanel("page_manager")}addSection(){c.fz.setSectionAddOrSwapPanelState({mode:"add",sectionIdToAddAfterOrSwap:this.structure.length?this.structure[this.structure.length-1].nodeId:null}),c.fz.setSingularityLeftPanel("section_add_or_swap")}clearStructure(){c.Hb.document.tree.root.children.map((e=>e.id)).forEach((e=>{c.Hb.deleteElement({nodeId:e})}))}};HM=(0,r.gn)([(0,l.wA)({components:{IconButton:oo.Z,Dropdown:yo.Z,Icon:ze.Z,PageStructurePageListItem:WM}})],HM);const zM=HM,UM=zM;var KM=(0,L.Z)(UM,MM,OM,!1,null,null,null);const GM=KM.exports;let qM=class extends s.ZP{get structure(){return HA(c.Hb.document.tree)}get pageTitle(){return c.Hb.document.documentMeta.titleLabel}handleChange(e){if(e.moved){const t=e.moved.element.nodeId,n=e.moved.newIndex;c.Hb.moveElement({draggedElementId:t,droppedOnElementId:c.Hb.document.tree.root.id,index:n}),c.kD.activateElement(t)}}addSection(){c.fz.setSectionAddOrSwapPanelState({mode:"add",sectionIdToAddAfterOrSwap:this.structure.length?this.structure[this.structure.length-1].nodeId:null}),c.fz.setSingularityLeftPanel("section_add_or_swap")}};qM=(0,r.gn)([(0,l.wA)({components:{PageStructureSectionNew:BM,draggable:fh(),Icon:ze.Z,PageStructureHeader:GM}})],qM);const jM=qM,YM=jM;var XM=(0,L.Z)(YM,wM,IM,!1,null,null,null);const QM=XM.exports;var JM=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-wp-page-manager"},[t("div",{staticClass:"singularity-wp-page-manager__wrapper"},[t("div",{staticClass:"singularity-wp-page-manager__header"},[t("h1",[e._v("Manage Pages")]),t("NiceButton",{attrs:{"left-icon":"PlusIcon",color:"yellow",size:"large"},on:{click:e.openAdd}},[e._v(" Add Page")])],1),t("div",{staticClass:"singularity-wp-page-manager__table"},[t("span",{staticClass:"singularity-wp-page-manager__table-count"},[e._v(e._s(e.pages.length)+" Pages")]),t("div",{staticClass:"singularity-wp-page-manager__list"},[e._l(e.pages,(function(e){return t("WPPageManagerPageNew",{key:e.id,attrs:{value:e}})})),e.addIsOpen?t("WPPageManagerAddPage"):e._e()],2)])])])},eO=[],tO=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"wp-page-manager-page-new",class:e.classList,on:{click:function(t){!e.editing&&e.openInCanvas()}}},[t("div",{staticClass:"wp-page-manager-page-new__content"},[t("div",{staticClass:"wp-page-manager-page-new__title"},[e.openingInProgress?t("Icon",{staticClass:"wp-page-manager-page-new__loading-icon",attrs:{size:14,icon:"CircleNotchSolidIcon"}}):t("Icon",{attrs:{size:14,icon:e.isHomepage?"HomeSolidIcon":"PageRegularIcon"}}),e.generatingPageInTheBackground?[e._v("BACKGROUND GENERATING, NOT AVAILABLE TO EDIT YET")]:e._e(),t("div",{staticClass:"wp-page-manager-page-new__edit-title"},[e.editing?[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newTitle,expression:"newTitle"}],ref:"editTitleInput",staticClass:"wp-page-manager-page-new__edit-title-input",attrs:{placeholder:e.value.title},domProps:{value:e.newTitle},on:{blur:function(t){return e.updatePage(e.newTitle)},keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePage(e.newTitle)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.editing=!1}],input:function(t){t.target.composing||(e.newTitle=t.target.value)}}})]:[t("span",[e._v(e._s(e.value.title))]),t("Icon",{staticClass:"wp-page-manager-page-new__edit-icon",attrs:{icon:"PenSolidIcon",size:"14"},on:{click:function(t){return t.stopPropagation(),e.setEditMode()}}})]],2),e.active?t("span",{staticClass:"wp-page-manager-page-new__active-indicator"}):e._e()],2),t("div",{staticClass:"wp-page-manager-page-new__actions"},[t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("Icon",e._g({staticClass:"breakdance-panel-header-left-of-close-button",attrs:{size:16,icon:"EllipsisSolidIcon"}},n))]}}])},[t(ho.Z,[t(go.Z,{attrs:{dense:""},on:{click:e.deletePage}},[t(mo.V9,[e._v(" Delete ")])],1),t(go.Z,{attrs:{dense:""},on:{click:e.setEditMode}},[t(mo.V9,[e._v(" Edit title ")])],1)],1)],1)],1)])])},nO=[],sO=n(76007),aO=n(1638);function iO(e){if(e===Kr.Z_)return{type:"string"};if(e===Kr.pk)return{type:"number"};if(e===Kr.O7)return{type:"boolean"};if(e instanceof Kr.ts)return{type:"array",items:iO(e.type)};if(e instanceof Kr.X1)return{type:"object",properties:Object.fromEntries(Object.entries(e.props).map((([e,t])=>[e,iO(t)]))),required:Object.keys(e.props),additionalProperties:!1};throw new Error(`Unsupported io-ts type: ${e.name}`)}async function oO(e,t){const n=Kr.dt({response:t});console.log(e);const s=await rO([{role:"user",content:e}],{name:"my_schema",strict:!0,schema:iO(n)}),a=(0,Uo.pipe)(s,(0,Ko.fold)((()=>{}),(e=>{console.log("AJAX returned a valid response",e);const t=(0,kx.Z)(e,n);return(0,Uo.pipe)(t,(0,Ko.fold)((()=>{}),(e=>e.response)))})));return a}async function rO(e,t){return(0,Go.D)({action:"breakdance_ai_request_structured_output",friendlyName:"AI Assistant",dataToPost:{messages:(0,wl.J)(e),json_schema:(0,wl.J)(t)},decoder:Kr.Z_,resultKey:"data"})}async function lO(e=""){await(0,sO.c)();const t=c.cr.aiSettings.prompt.businessName,n=c.cr.aiSettings.prompt.businessDescription,s=(0,dA.FX)().map((e=>`'${e}'`)).join(", ");var a="";a=e?`Generate a sitemap for a website.\n\n          ${e?`\n                  ${e}\n                  `:""}\n\n          Valid values for 'type' are ${s}. It's important you don't use any other values for 'type'.`:`Generate a sitemap for a website.\n\n          The website should have an appropriate number of pages for the content. If the prompt includes information about the services offered, consider individual pages for each service.\n\n          Each page should have an appropriate number of sections for its type. Maybe 8 for the homepage, and just one or two for the contact page.\n          \n          Website name: ${t}\n          Website description: ${n}\n\n          Valid values for 'type' are ${s}. It's important you don't use any other values for 'type'.`;const i=await oO(a,aO.Pu);return i}async function cO(e,t){const n=e.map((e=>({title:e.title,id:e.id}))),s=await oO(`what are the most important pages for the header menu for our website in this list of pages? return them in the order they should appear in a header menu. return up to ${t} pages\n\n        ${(0,ip.g)(n)}\n\n        `,Kr.dt({pageIds:Kr.IX(Kr.pk)}));if(!s)return console.error("No important pages found"),[];const a=s.pageIds;return a}async function dO(e){const t=await cO(e,5);return(0,Uo.pipe)(await(0,Go.D)({action:"breakdance_singularity_sync_pages_to_default_wp_menu",decoder:Kr.dt({success:Kr.Z_}),dataToPost:{pageIds:(0,ip.g)(t)}}),(0,Ko.fold)((()=>null),(e=>{console.log("Menu updated successfully:",e.success)})))}async function uO(e){console.log("Rebuilding from URL:",e);const t=(0,Uo.pipe)(await(0,Go.D)({action:"breakdance_singularity_website_intake_service",friendlyName:"Website Service Thing",dataToPost:{url:e},decoder:Kr.IX(pO),resultKey:"data"}),(0,Ko.fold)((()=>{}),(e=>e)));await hO("we are rebuilding an existing website, and here is the info on the existing website. we want the new website to be as similar as possible to the existing one. here is data on the existing website: "+(0,ip.g)(t))}const pO=Kr.dt({url:Kr.Z_,originalTitle:Kr.Z_,analysis:Kr.G0([Kr.lB,Kr.dt({title:Kr.Z_,sections:Kr.IX(Kr.dt({title:Kr.Z_,content:Kr.Z_}))})]),images:Kr.dt({images:Kr.IX(Kr.dt({url:Kr.Z_,description:Kr.Z_}))}),error:Kr.G0([Kr.S1,Kr.Z_])});async function hO(e=""){await Dl();const t=await lO(e);if(!t)return;const n=[];for(const a of t){const e=await Tl(a.title,{singularityInitialSections:a.sections},"page");e&&(n.push(e),a.title.toLowerCase().includes("home")||hA.P.addJob((async t=>{await yO(e.id,t)}),"behind the scenes page generation for "+a.title,!1))}await dO(n),await gO();const s=c.fz.pagesInWP.find((e=>e.title.toLowerCase().includes("home")));s?(c.kD.setUnsavedChangesPresent(!1),await(0,Ei.rI)(s.id)):(c.kD.setUnsavedChangesPresent(!1),await(0,Ei.rI)(c.fz.pagesInWP[0].id)),c.fz.setSingularityUiState({...c.fz.singularityUiState,singularityLeftPanel:"page_structure"})}async function gO(){await mO("Header",Zr.kl,"head"),await mO("Footer",Zr.WZ,"foot")}async function mO(e,t,n){const s=await Tl(e,{},t);if(!s)return;const a=(0,dA.FX)().find((e=>e.toLowerCase().includes(n)));if(!a)return;const i=(0,dA.pJ)({type:a,sectionFriendlyName:e,description:""});if(!i)return;await(0,Ei.ZR)();const o=(0,he.vb)(),r=(0,he.Bc)(o,i);(0,he.Dv)(o,r.id,o.root.id,0);const l={type:"everywhere",priority:1,ruleGroups:[],disabled:!1};vO(o,s.id,l)}async function vO(e,t,n){const s={id:t,tree:(0,wl.J)((0,he.n$)(e)),templateSettings:n?(0,wl.J)(n):void 0},a=(0,Uo.pipe)(await(0,Go.D)({friendlyName:"Saving to WordPress",action:"breakdance_save",dataToPost:s,decoder:Kr._4}),(0,Ko.fold)((e=>((0,hd.UE)(e),(0,Ko.left)(e))),(e=>(0,Ko.right)(e))));return a}async function fO(e,t){const n={id:e,singularityMeta:t?(0,wl.J)(t):void 0},s=(0,Uo.pipe)(await(0,Go.D)({friendlyName:"Update Singularity Meta",action:"breakdance_singularity_update_singularity_meta",dataToPost:n,decoder:Kr._4}),(0,Ko.fold)((e=>((0,hd.UE)(e),(0,Ko.left)(e))),(e=>(0,Ko.right)(e))));return s}async function yO(e,t){const n=(0,Uo.pipe)(await(0,Ei.Dl)(e),(0,Ko.fold)((()=>{}),(e=>"document"in e&&e.document.documentMeta.singularityMeta&&e.document.documentMeta.singularityMeta.singularityInitialSections?e.document.documentMeta.singularityMeta.singularityInitialSections:void 0)));if(!n)return void console.error("No initial sections found for page ID:",e);await(0,Ei.ZR)(),await(0,sO.c)();const s=(0,he.vb)();for(let a=0;a<n.length;a++){const e=n[a],t=(0,dA.pJ)(e);if(!t)continue;const i=(0,he.Bc)(s,t);(0,he.Dv)(s,i.id,s.root.id,a)}console.log("page populated with sections",s);for(const a of s.root.children)console.log("rewriteContentInPhantomSection",a.id),await bO(s,a.id,t),console.log("populateImagesInPhantomSection",a.id),await _O(s,a.id,t);console.log("content rewritten with AI"),console.log("images updated AI"),await vO(s,e,void 0),await fO(e,{singularityInitialSections:n,initialSectionsAlreadyPopulated:!0}),console.log("tree saved and singularity meta updated for page",e)}async function bO(e,t,n){const s=(0,he.DY)(e,t);if(console.log("found node",s),!s)return;const a=(0,uA.E)(s),i=(0,tD.LX)(s),o=(0,nD.ee)(i),r=(0,nD.r1)(o,a,c.cr.aiSettings.prompt);if(console.log({fields:i,fieldsToFill:o,prompt:r}),i.length)try{const t=await(0,pA.iW)(r,i,n);console.log("parsedCompletion",t),t.elements.forEach((t=>{const n=(0,he.DY)(e,t.nodeId);n&&lr()(n.data.properties,t.controlPath,t.value)})),a.singularity.shouldGenerateOnInitialLoad=!1,a.singularity.unsplashKeywords=t.unsplash_keywords,lr()(s.data.properties,"meta.promptInfo",a)}catch(l){(0,tD.Qm)(l)}}async function _O(e,t,n){alert("dont use this, use replaceImagesInSectionWithAiMutating instead");const s=(0,he.DY)(e,t);if(!s)return;const a=(0,uA.E)(s),i=a.singularity.unsplashKeywords.length?a.singularity.unsplashKeywords:["generic"],o=(0,tD.ho)(s);if(!(o.length>0))return;const r=await(0,dB.O)({query:i.join(", "),page:1,per_page:o.length});console.log("unsplashResults",r),console.log("imageFieldsToComplete",o);for(let l=0;l<o.length;l++){const t=o[l],n=r[l],s=(0,he.DY)(e,t.nodeId);console.log("nodeToUpdate",s),s&&(lr()(s.data.properties,t.controlPath,{id:-1,type:"external_image",url:n.urls.regular,alt:n.alt_description||"",caption:n.description||""}),console.log(`Updated node ${s.id} with image from Unsplash: ${n.urls.regular} at control path ${t.controlPath}`))}}function xO(e){const t=(0,uA.E)(e),n=(0,tD.LX)(e),s=(0,nD.ee)(n);return(0,nD.r1)(s,t,c.cr.aiSettings.prompt)}function SO(e){const t=(0,he.vb)();for(let n=0;n<e.length;n++){const s=e[n],a=(0,dA.pJ)(s);if(!a)continue;const i=(0,he.Bc)(t,a);(0,he.Dv)(t,i.id,t.root.id,n)}return t}function PO(e,t,n,s){const a=(0,tD.wi)(t,n);if(!a.elements.length)throw new Error("No elements were returned from OpenAI API.");a.elements.forEach((e=>{const t=(0,he.DY)(s,e.nodeId);t&&lr()(t.data.properties,e.controlPath,e.value)}));const i=(0,uA.E)(e);i.singularity.shouldGenerateOnInitialLoad=!1,i.singularity.unsplashKeywords=a.unsplash_keywords,lr()(e.data.properties,"meta.promptInfo",i)}async function CO(){const e=BO(),t=await IO();if(console.log("generateSitemapButOnlyIncludeSectionsForHomepage done",e()),!t)return;const n=kO(t);if(!n)return;const s=TO(),a=ZO(),i=await DO(n,s,a,MO(t),OO(t));if(console.log("createHomepageHeaderAndFooter_andDeleteOldPages_andSetHomepageToFrontPage_andCreateOtherPages done",e()),!i)return;const o=[];o.push({id:i.homepage.id,title:i.homepage.title,relativeUrl:i.homepage.relativeUrl,postType:"page",singularityMeta:!!n.singularityMeta&&n.singularityMeta}),i.otherPages.forEach((e=>{o.push({id:e.id,title:e.title,relativeUrl:e.relativeUrl,postType:"page",singularityMeta:!1})})),c.fz.setPagesInWP(o),c.kD.setUnsavedChangesPresent(!1),await(0,Ei.rI)(i.homepage.id),console.log("replaceDocumentWithAnother done",e()),c.fz.setSingularityRightPanel(null),c.fz.setSingularityLeftPanel("page_structure")}function wO(e){return e.find((e=>e.title.toLowerCase().includes("home")))}async function IO(e=""){const t=c.cr.aiSettings.prompt.businessName,n=c.cr.aiSettings.prompt.businessDescription,s=(0,dA.FX)().map((e=>`'${e}'`)).join(", ");let a="";a=e?`Generate a sitemap for a website.\n\n          ${e?`\n                  ${e}\n                  `:""}\n\n          Valid values for 'type' are ${s}. It's important you don't use any other values for 'type'.`:`Generate a sitemap for a website.\n          The website should have an appropriate number of pages for the content. If the prompt includes information about the services offered, consider individual pages for each service.\n\n          Each page should have an appropriate number of sections for its type. Maybe 8 for the homepage, and just one or two for the contact page.\n          \n          However, only provide the sections for the homepage page. For all other pages, the sections should be a blank array.\n\n          You must still include the other pages, just not their sections.\n\n          Don't include more than 5 pages in the main menu.\n\n          Website name: ${t}\n          Website description: ${n}\n\n          Valid values for 'type' are ${s}. It's important you don't use any other values for 'type'.\n          `;const i=await oO(a,aO.Pu);return i}function kO(e){const t=wO(e);if(!t)return;const n=SO(t.sections);return{title:t.title,postType:"page",tree:(0,he.n$)(n),singularityMeta:{singularityInitialSections:t.sections,initialSectionsAlreadyPopulated:!0}}}async function DO(e,t,n,s,a){return(0,Uo.pipe)(await(0,Go.D)({action:"breakdance_singularity_handle_step_1",decoder:Kr.dt({success:Kr.Z_,homepage:Kr.dt({id:Kr.pk,title:Kr.Z_,relativeUrl:Kr.Z_}),otherPages:Kr.IX(Kr.dt({id:Kr.pk,title:Kr.Z_,relativeUrl:Kr.Z_}))}),dataToPost:{homepageData:EO(e),headerData:EO(t),footerData:EO(n),titlesForAdditionalPagesToCreate:s,titlesForPagesToIncludeInMainMenu:a}}),(0,Ko.fold)((()=>null),(e=>e)))}function EO(e){return(0,wl.J)({title:e.title,postType:e.postType,singularityMeta:(0,ip.g)(e.singularityMeta),tree:(0,ip.g)(e.tree),templateSettings:(0,ip.g)(e.templateSettings)})}function TO(){const e={type:dA.m7,sectionFriendlyName:"Header",description:"Header"},t=SO([e]);return{title:"Header",postType:Zr.kl,tree:(0,he.n$)(t),singularityMeta:{singularityInitialSections:[e],initialSectionsAlreadyPopulated:!0},templateSettings:{type:"everywhere",priority:1,ruleGroups:[],disabled:!1}}}function ZO(){const e={type:dA.g6,sectionFriendlyName:"Footer",description:"Footer"},t=SO([e]);return{title:"Footer",postType:Zr.WZ,tree:(0,he.n$)(t),singularityMeta:{singularityInitialSections:[e],initialSectionsAlreadyPopulated:!0},templateSettings:{type:"everywhere",priority:1,ruleGroups:[],disabled:!1}}}async function AO(){await(0,Ei.ZR)(),await(0,sO.c)()}function BO(){return function(){const e=(new Date).getTime();return function(){const t=(new Date).getTime(),n=t-e;return n}}()}function MO(e){return e.map((e=>e.title)).filter((e=>!e.toLowerCase().includes("home")))}function OO(e){return e.filter((e=>e.includeInMainMenu)).map((e=>e.title))}var LO=n(44652);class RO{constructor(){this.pages=[]}setPages(e){this.pages=e}getPage(e){return this.pages.find((t=>t.title===e))}updatePage(e,t){const n=this.pages.findIndex((t=>t.title===e));-1!==n&&(this.pages[n].tree=t)}}const NO=new RO;async function FO(){NO.setPages(await VO());const e=NO.pages.map(WO),t=await Promise.all(e.map((async e=>({pageTitle:e.title,data:await(0,LO.M)(e.requests)}))));t.forEach((e=>{$O(e.pageTitle,e.data)})),console.log(NO.pages)}function $O(e,t){const n=NO.getPage(e);if(!n)return;const s=(0,ur.Z)(n.tree);t.forEach((e=>{const t=(0,he.DY)(n.tree,Number(e.id));t&&PO(t,(0,eD.J4)(e.content??""),(0,tD.LX)(t),s)})),NO.updatePage(e,s)}async function VO(){const e=await lO();if(!e)return[];await(0,Ei.ZR)(),await(0,sO.c)();const t=e.map((e=>({title:e.title,tree:SO(e.sections)})));return t}function WO(e){return{title:e.title,requests:e.tree.root.children.map((e=>({id:String(e.id),messages:xO(e)})))}}async function HO(e,t){const n=c.fz.pagesInWP.map((e=>e.title));var s=BO();const a=await zO(e,n);if(console.log("generatePageDescriptionWithLlm done",s()),!a)return;const i=SO(a.sections);console.log("getTreeFromSectionDescriptions done",i,s());var o=await Zl({id:t,title:e,postType:"page",tree:i,singularityMeta:{singularityInitialSections:a.sections,initialSectionsAlreadyPopulated:!1}});console.log("addOrUpdatePageInWP done",o,s());const r=WO({title:e,tree:i});console.log("getBatchRequestsForPage done",r,s());const l=await(0,LO.M)(r.requests);console.log("callAIBatch done",l,s());const d=UO(i,l);console.log("populateTreeFromBatchResponse done",d,s());const u=await KO(d);return o=await Zl({id:t,title:e,postType:"page",tree:u,singularityMeta:{singularityInitialSections:a.sections,initialSectionsAlreadyPopulated:!0}}),o?(console.log("addOrUpdatePageInWP done",o,s()),o):void 0}async function zO(e,t){const n=c.cr.aiSettings.prompt.businessName,s=c.cr.aiSettings.prompt.businessDescription,a=(0,dA.FX)().map((e=>`'${e}'`)).join(", ");var i="";const o=t.map((e=>`- ${e}`)).join("\n");i=`We have a website with the following pages:\n            ${o}\n    \n          Website name: ${n}\n          Website description: ${s}\n\n          You will generate the list of sections for the page page titled "${e}"\n\n          The page should have an appropriate number of sections. Maybe 8 for a homepage, 3 or 4 for a services page, and just one or two for the contact page. Feel free to deviate from this if you think it makes sense.\n\n          Valid values for 'type' are ${a}. It's important you don't use any other values for 'type'.\n          `;const r=await oO(i,aO.b5);return r}function UO(e,t){const n=(0,ur.Z)(e);return t.forEach((e=>{const t=(0,he.DY)(n,Number(e.id));t&&PO(t,(0,eD.J4)(e.content??""),(0,tD.LX)(t),n)})),n}async function KO(e){console.log("populateTreeWithImages started");const t=(0,ur.Z)(e),n=t.root.children.map((e=>(0,gA._)(e,new AbortController)));return console.warn("awaiting promise.all"),await Promise.all(n),console.warn("promise.all done"),console.log("populateTreeWithImages done"),t}let GO=class extends s.ZP{constructor(){super(...arguments),this.generatingPageInTheBackground=!1,this.openingInProgress=!1,this.additionalOpen=!1,this.deleteInProgress=!1,this.editing=!1,this.newTitle="",this.updateInProgress=!1,this.generating=!1}mounted(){this.generatePageInTheBackgroundIfNecessary()}get isHomepage(){return this.value.title.toLowerCase().includes("home")}async generatePageInTheBackgroundIfNecessary(){this.active||this.value.singularityMeta&&this.value.singularityMeta.initialSectionsAlreadyPopulated||(this.generatingPageInTheBackground=!0,await HO(this.value.title,this.value.id),this.generatingPageInTheBackground=!1)}openAdditional(){this.additionalOpen=!this.additionalOpen}async openInCanvas(){this.openingInProgress=!0,await(0,Di.$)(),await(0,Ei.rI)(this.value.id),c.fz.setSingularityLeftPanel("page_structure"),this.openingInProgress=!1}async deletePage(){this.deleteInProgress=!0,await El(this.value.id),this.deleteInProgress=!1}setEditMode(){this.editing=!0,this.$nextTick((()=>{this.$refs.editTitleInput.focus()}))}async updatePage(e){e.trim()?(this.updateInProgress=!0,await Al(this.value.id,e),this.updateInProgress=!1,this.editing=!1):this.editing=!1}get active(){return this.value.id===c.Hb.document.documentMeta.id}get classList(){return{"is-active":this.active}}setGenerating(e){this.generating=e}async fastGenerateBehindTheScenes(){this.generating=!0,await HO(this.value.title,this.value.id),this.generating=!1}async generateBehindTheScenes(){console.log("Generating behind the scenes page for",this.value.id),hA.P.addJob((async e=>{this.setGenerating(!0),await yO(this.value.id,e),this.setGenerating(!1)}),"behind the scenes page generation for "+this.value.title,!1)}};(0,r.gn)([(0,l.fI)()],GO.prototype,"value",void 0),GO=(0,r.gn)([(0,l.wA)({components:{IconButton:oo.Z,Icon:ze.Z,Dropdown:yo.Z}})],GO);const qO=GO,jO=qO;var YO=(0,L.Z)(jO,tO,nO,!1,null,null,null);const XO=YO.exports;var QO=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"wp-page-manager-add-page-new"},[t("div",{staticClass:"wp-page-manager-add-page__form"},[t("div",{staticClass:"wp-page-manager-add-page__input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.pageTitle,expression:"pageTitle"}],ref:"newPageInput",staticClass:"wp-page-manager-add-page__input-item",attrs:{type:"text",placeholder:"Enter page title"},domProps:{value:e.pageTitle},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addPage.apply(null,arguments)},input:function(t){t.target.composing||(e.pageTitle=t.target.value)}}})])])])},JO=[];let eL=class extends s.ZP{constructor(){super(...arguments),this.pageTitle="",this.toggleAdd=!1,this.adding=!1}async addPage(){this.adding=!0,this.pageTitle.trim()?(await Tl(this.pageTitle,{},"page"),this.pageTitle="",this.adding=!1):this.adding=!1}mounted(){this.$nextTick((()=>{this.$refs.newPageInput.focus()}))}};eL=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z}})],eL);const tL=eL,nL=tL;var sL=(0,L.Z)(nL,QO,JO,!1,null,null,null);const aL=sL.exports;let iL=class extends s.ZP{constructor(){super(...arguments),this.addIsOpen=!1}get pages(){return c.fz.pagesInWP.filter((e=>"page"===e.postType))}openAdd(){this.addIsOpen=!this.addIsOpen}};iL=(0,r.gn)([(0,l.wA)({components:{TextInput:Qs.Z,WPPageManagerPageNew:XO,WPPageManagerAddPage:aL,Dropdown:yo.Z,IconButton:oo.Z,SingularityPanelHeader:xA,NiceButton:Wr.Z}})],iL);const oL=iL,rL=oL;var lL=(0,L.Z)(rL,JM,eO,!1,null,null,null);const cL=lL.exports;var dL=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-panel vscroll-wrap vscroll-scroll"},[t("div",{staticClass:"c__wrapper"},[t("SingularityPanelHeader",{attrs:{parentTitle:"Settings"}}),e._m(0)],1)])},uL=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-panel__content"},[t("p",[e._v("Business name, description, modifiers")])])}];let pL=class extends s.ZP{};pL=(0,r.gn)([(0,l.wA)({components:{SingularityPanelHeader:xA}})],pL);const hL=pL,gL=hL;var mL=(0,L.Z)(gL,dL,uL,!1,null,null,null);const vL=mL.exports;var fL=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-panel vscroll-wrap vscroll-scroll"},[t("div",{staticClass:"singularity-panel__wrapper"},[t("SingularityPanelHeader",{attrs:{parentTitle:"Brand"}}),t("div",{staticClass:"singularity-panel__content"},[t("BrandManageColors"),t("BrandManageTypography"),t("BrandManageButtons")],1)],1)])},yL=[],bL=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TogglePanel",{attrs:{title:"Colors",open:!0},scopedSlots:e._u([{key:"actions",fn:function(){return[t("IconButtonShuffle",{on:{update:e.shuffle}})]},proxy:!0}])},[t("BrandPaletteGenerator",{attrs:{palette:e.brand.color.neutral,neutral:!0}}),e.brand.color.primary?t("BrandPaletteGenerator",{attrs:{palette:e.brand.color.primary},on:{update:e.updatePrimaryPalette}}):e._e(),e._l(e.brand.color.secondary,(function(n,s){return t("BrandPaletteGenerator",{key:n.label,attrs:{palette:n,index:s},on:{update:function(t){return e.updateSecondaryPalette(s,t)},remove:function(t){return e.removeSecondaryPalette(s)}}})})),e.brand.color.secondary.length<2?t("div",{staticClass:"brand-panel__add-palette",attrs:{role:"button"},on:{click:e.addPalette}},[t("Icon",{staticClass:"brand-panel__add-icon",attrs:{icon:"PlusIcon",size:"18"}})],1):e._e()],2)},_L=[],xL=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.palette?t("div",{staticClass:"palette-generator"},[e.palette?t("div",{staticClass:"palette-generator__button",class:{"palette-generator__button--light":e.isLightColor,"palette-generator__button--neutral":e.neutral,"palette-generator__button--primary":e.palette.primary,"palette-generator__button--secondary":!e.neutral&&!e.palette.primary,"palette-generator__button--locked":e.palette.locked}},[e.neutral?e._e():t("div",{staticClass:"palette-generator__actions"},[e.palette.primary||e.palette.locked?e._e():t("div",{staticClass:"palette-generator__action",style:e.primaryTagStyle,attrs:{role:"button"},on:{click:e.removePalette}},[t("Icon",{attrs:{icon:"TrashSolidIcon",size:"10"}})],1),e.palette.locked?e._e():t("div",{staticClass:"palette-generator__action",style:e.primaryTagStyle,attrs:{role:"button"},on:{click:e.shufflePalette}},[t("Icon",{attrs:{icon:"ArrowsRotateSolidIcon",size:"10"}})],1),t("div",{staticClass:"palette-generator__action",style:e.primaryTagStyle,attrs:{role:"button"},on:{click:e.lockPalette}},[e.palette.locked?t("Icon",{attrs:{icon:"LockSolidIcon",size:"10"}}):t("Icon",{staticClass:"palette-generator__icon-locked",attrs:{icon:"LockOpenSolidIcon",size:"10"}})],1)]),t("div",{staticClass:"palette-generator__base",class:{"palette-generator__base--light":e.isLightColor,"palette-generator__base--neutral":e.neutral},style:{backgroundColor:e.palette.base.value?.toString()},attrs:{role:"button"},on:{click:e.openEditColorPanel}},[t("div",{staticClass:"palette-generator__top"},[t("div",[e.palette.primary&&!e.palette.locked?t("div",{staticClass:"palette-generator__badge",style:e.primaryTagStyle},[e._v(" Primary ")]):e._e()])]),t("div",{staticClass:"palette-generator__label-group",style:e.textStyle},[t("span",{staticClass:"palette-generator__label"},[e._v(e._s(e.palette.label))]),t("span",{staticClass:"palette-generator__hex"},[e._v(" "+e._s(e.palette.base.value?.toString().substring(1).toUpperCase())+" ")])])]),t("div",{staticClass:"palette-generator__swatches"},e._l(e.palette.scale,(function(e,n){return t("div",{key:"color-"+n,staticClass:"palette-generator__swatch",style:{backgroundColor:e.value?.toString()}})})),0)]):e._e()]):e._e()},SL=[],PL=n(45904),CL=n(21357),wL=n(88615),IL=n(86042);const kL=Kr.dt({100:IL.Vr,200:IL.Vr,300:IL.Vr,400:IL.Vr,500:IL.Vr,600:IL.Vr,700:IL.Vr,800:IL.Vr,900:IL.Vr}),DL=Kr.dt({label:Kr.Z_,primary:Kr.O7,locked:Kr.O7,base:IL.Vr,scale:kL,text:IL.Vr}),EL=Kr.dt({neutral:Kr.G0([DL,Kr.lB]),primary:Kr.G0([DL,Kr.lB]),secondary:Kr.IX(DL)}),TL={none:{value:0,unit:"px",style:"0px"},sm:{value:8,unit:"px",style:"8px"},md:{value:16,unit:"px",style:"16px"},lg:{value:24,unit:"px",style:"24px"},full:{value:9999,unit:"px",style:"9999px"}},ZL=(Kr.mM(TL),Kr.dt({buttonRadius:Kr.mM(TL),inputRadius:Kr.mM(TL)})),AL=Kr.dt({color:EL,ui:ZL});async function BL(){const e=await(0,Go.D)({action:"breakdance_singularity_get_brand_settings",decoder:AL,suppressErrorLogging:!0});return(0,Uo.pipe)(e,(0,Ko.fold)((()=>!1),(e=>(Ce.n.ignore((()=>{c.fz.setBrand(e)})),!0))))}async function ML(){const e=c.fz.brand,t=await(0,Go.D)({action:"breakdance_singularity_save_brand_settings",dataToPost:{settings:(0,wl.J)(e)},decoder:AL});return(0,Uo.pipe)(t,(0,Ko.fold)((()=>!1),(e=>(Ce.n.ignore((()=>{c.fz.setBrand(e)})),!0))))}function OL(e,t){const n=G()(c.cr.globalSettings,e),s=(0,ur.Z)(n),a={path:e,value:{...s,...t}};Ce.n.ignore((()=>{c.cr.updateGlobalSettingsPerPath({path:e,value:a.value})})),c.kD.setUnsavedChangesPresent(!0)}function LL(){const e=c.fz.brand.color,t=c.fz.brand.ui.buttonRadius,n={value:{primary:{corners:"custom",corner_radius:TL[t],background:`var(--${e.primary?.base.cssVariableName})`,background_hover:`var(--${e.primary?.scale[600].cssVariableName})`,typography:{color:`var(--${e.primary?.text.cssVariableName})`}},secondary:{corners:"custom",corner_radius:TL[t],outline:"true",color:`var(--${e.neutral?.scale[300].cssVariableName})`,typography:{color:`var(--${e.neutral?.scale[900].cssVariableName})`}}}};OL("settings.buttons",{...n.value})}function RL(){const e=c.fz.brand.ui.inputRadius,t={value:{fields:{borders:{radius:{all:TL[e]}}}}};OL("settings.forms",{...t.value})}function NL(e){e||(e=c.fz.brand.color);const t=qL(e),n={value:{palette:{colors:t},brand:`var(--${e.primary?.base.cssVariableName})`,text:`var(--${e.neutral?.base.cssVariableName})`,headings:`var(--${e.neutral?.base.cssVariableName})`,links:`var(--${e.neutral?.base.cssVariableName})`,background:`var(--${e.primary?.scale[100].cssVariableName})`}};OL("settings.colors",{...n.value}),LL()}function FL(){if(c.fz.brand.color?.primary?.locked)return;const e=UL(XL(),!0);c.fz.setPalette({type:"primary",palette:e}),zL(e)}function $L(){c.fz.brand.color.secondary.forEach(((e,t)=>{if(!e.locked){const e=UL(XL());c.fz.updateSecondaryPalette({index:t,palette:e})}}))}function VL(){const e=UL(XL());c.fz.addSecondaryPalette(e)}function WL(){return UL(XL())}function HL(){FL(),$L()}function zL(e){const t=e?.scale[900].value||c.fz.brand.color?.primary?.scale[900].value;if(!t)return;const n=GL(String(t));c.fz.setPalette({type:"neutral",palette:n})}const UL=(e,t=!1,n=!1)=>{const s={},a=(0,CL.ZP)(e).hex(),i=YL(a);s[500]=KL(a,i,"500"),s[100]=KL(CL.ZP.mix(e,"#ffffff",.9).saturate(-1).hex(),i,"100"),s[200]=KL(CL.ZP.mix(e,"#ffffff",.75).saturate(-.8).hex(),i,"200"),s[300]=KL(CL.ZP.mix(e,"#ffffff",.6).saturate(-.5).hex(),i,"300"),s[400]=KL((0,CL.ZP)(e).brighten(.6).hex(),i,"400"),s[600]=KL((0,CL.ZP)(e).darken(.6).hex(),i,"600"),s[700]=KL((0,CL.ZP)(e).darken(1.2).hex(),i,"700"),s[800]=KL((0,CL.ZP)(e).darken(1.8).saturate(-.3).hex(),i,"800"),s[900]=KL((0,CL.ZP)(e).darken(4).saturate(-.2).hex(),i,"900");const o=jL(e)?s[900]:s[100];return{label:i,primary:t,locked:n,base:s[500],scale:s,text:o}};function KL(e,t,n){return{cssVariableName:(0,wL.dw)(`onboarding-${t}-${n}`),label:`${t} ${n}`,value:e}}const GL=e=>{const t={};t[900]=KL((0,CL.ZP)(e).darken(.9).hex(),"Neutral","900"),t[800]=KL(CL.ZP.mix(e,"#ffffff",.1).hex(),"Neutral","800"),t[700]=KL(CL.ZP.mix(e,"#ffffff",.2).hex(),"Neutral","700"),t[600]=KL(CL.ZP.mix(e,"#ffffff",.3).hex(),"Neutral","600"),t[500]=KL(CL.ZP.mix(e,"#ffffff",.4).hex(),"Neutral","500"),t[400]=KL(CL.ZP.mix(e,"#ffffff",.5).hex(),"Neutral","400"),t[300]=KL(CL.ZP.mix(e,"#ffffff",.6).hex(),"Neutral","300"),t[200]=KL(CL.ZP.mix(e,"#ffffff",.75).hex(),"Neutral","200"),t[100]=KL(CL.ZP.mix(e,"#ffffff",.9).hex(),"Neutral","100");const n=jL(e)?t[900]:t[100];return{label:"Neutral",primary:!1,locked:!1,base:t[900],scale:t,text:n}},qL=e=>{const t=[];return e.primary&&t.push(...Object.values(e.primary.scale)),e.neutral&&t.push(...Object.values(e.neutral.scale)),e.secondary&&Array.isArray(e.secondary)&&e.secondary.forEach((e=>{t.push(...Object.values(e.scale))})),t},jL=e=>!!e&&(0,CL.ZP)(e).luminance()>.5,YL=e=>{const t=(0,CL.ZP)(e).lab();let n="",s=1/0;for(const{name:a,hex:i}of JL){const e=CL.ZP.deltaE(CL.ZP.lab(...t),CL.ZP.lab(...(0,CL.ZP)(i).lab()));e<s&&(s=e,n=a)}return n},XL=()=>{const e=Math.floor(Math.random()*JL.length);return JL[e].hex};function QL(e,t){return{backgroundColor:e,color:jL(e)?String(t.scale[900].value):String(t.scale[100].value)}}const JL=[{name:"White",hex:"#ffffff"},{name:"Snow",hex:"#fffafa"},{name:"Honeydew",hex:"#f0fff0"},{name:"Mint Cream",hex:"#f5fffa"},{name:"Azure",hex:"#f0ffff"},{name:"Alice Blue",hex:"#f0f8ff"},{name:"Ghost White",hex:"#f8f8ff"},{name:"White Smoke",hex:"#f5f5f5"},{name:"Seashell",hex:"#fff5ee"},{name:"Beige",hex:"#f5f5dc"},{name:"Old Lace",hex:"#fdf5e6"},{name:"Floral White",hex:"#fffaf0"},{name:"Ivory",hex:"#fffff0"},{name:"Antique White",hex:"#faebd7"},{name:"Linen",hex:"#faf0e6"},{name:"Lavender Blush",hex:"#fff0f5"},{name:"Misty Rose",hex:"#ffe4e1"},{name:"Gainsboro",hex:"#dcdcdc"},{name:"Light Gray",hex:"#d3d3d3"},{name:"Silver",hex:"#c0c0c0"},{name:"Dark Gray",hex:"#a9a9a9"},{name:"Gray",hex:"#808080"},{name:"Dim Gray",hex:"#696969"},{name:"Light Slate Gray",hex:"#778899"},{name:"Slate Gray",hex:"#708090"},{name:"Dark Slate Gray",hex:"#2f4f4f"},{name:"Black",hex:"#000000"},{name:"Lavender",hex:"#e6e6fa"},{name:"Thistle",hex:"#d8bfd8"},{name:"Plum",hex:"#dda0dd"},{name:"Violet",hex:"#ee82ee"},{name:"Orchid",hex:"#da70d6"},{name:"Fuchsia",hex:"#ff00ff"},{name:"Magenta",hex:"#ff00ff"},{name:"Medium Orchid",hex:"#ba55d3"},{name:"Medium Purple",hex:"#9370db"},{name:"Blue Violet",hex:"#8a2be2"},{name:"Dark Violet",hex:"#9400d3"},{name:"Dark Orchid",hex:"#9932cc"},{name:"Dark Magenta",hex:"#8b008b"},{name:"Purple",hex:"#800080"},{name:"Indigo",hex:"#4b0082"},{name:"Medium Slate Blue",hex:"#7b68ee"},{name:"Slate Blue",hex:"#6a5acd"},{name:"Dark Slate Blue",hex:"#483d8b"},{name:"Rebecca Purple",hex:"#663399"},{name:"Medium Blue",hex:"#0000cd"},{name:"Blue",hex:"#0000ff"},{name:"Royal Blue",hex:"#4169e1"},{name:"Dodger Blue",hex:"#1e90ff"},{name:"Deep Sky Blue",hex:"#00bfff"},{name:"Sky Blue",hex:"#87ceeb"},{name:"Light Sky Blue",hex:"#87cefa"},{name:"Steel Blue",hex:"#4682b4"},{name:"Light Steel Blue",hex:"#b0c4de"},{name:"Light Blue",hex:"#add8e6"},{name:"Powder Blue",hex:"#b0e0e6"},{name:"Pale Turquoise",hex:"#afeeee"},{name:"Dark Turquoise",hex:"#00ced1"},{name:"Medium Turquoise",hex:"#48d1cc"},{name:"Turquoise",hex:"#40e0d0"},{name:"Aqua",hex:"#00ffff"},{name:"Cyan",hex:"#00ffff"},{name:"Light Cyan",hex:"#e0ffff"},{name:"Cadet Blue",hex:"#5f9ea0"},{name:"Medium Aquamarine",hex:"#66cdaa"},{name:"Aquamarine",hex:"#7fffd4"},{name:"Dark Green",hex:"#006400"},{name:"Dark Olive Green",hex:"#556b2f"},{name:"Dark Sea Green",hex:"#8fbc8f"},{name:"Sea Green",hex:"#2e8b57"},{name:"Medium Sea Green",hex:"#3cb371"},{name:"Light Sea Green",hex:"#20b2aa"},{name:"Pale Green",hex:"#98fb98"},{name:"Spring Green",hex:"#00ff7f"},{name:"Lawn Green",hex:"#7cfc00"},{name:"Chartreuse",hex:"#7fff00"},{name:"Medium Spring Green",hex:"#00fa9a"},{name:"Green Yellow",hex:"#adff2f"},{name:"Lime Green",hex:"#32cd32"},{name:"Yellow Green",hex:"#9acd32"},{name:"Forest Green",hex:"#228b22"},{name:"Olive Drab",hex:"#6b8e23"},{name:"Dark Khaki",hex:"#bdb76b"},{name:"Khaki",hex:"#f0e68c"},{name:"Pale Goldenrod",hex:"#eee8aa"},{name:"Light Goldenrod Yellow",hex:"#fafad2"},{name:"Light Yellow",hex:"#ffffe0"},{name:"Yellow",hex:"#ffff00"},{name:"Gold",hex:"#ffd700"},{name:"Light Goldenrod",hex:"#eedd82"},{name:"Goldenrod",hex:"#daa520"},{name:"Dark Goldenrod",hex:"#b8860b"},{name:"Rosy Brown",hex:"#bc8f8f"},{name:"Indian Red",hex:"#cd5c5c"},{name:"Saddle Brown",hex:"#8b4513"},{name:"Sienna",hex:"#a0522d"},{name:"Peru",hex:"#cd853f"},{name:"Burlywood",hex:"#deb887"},{name:"Beige",hex:"#f5f5dc"},{name:"Wheat",hex:"#f5deb3"},{name:"Sandy Brown",hex:"#f4a460"},{name:"Tan",hex:"#d2b48c"},{name:"Chocolate",hex:"#d2691e"},{name:"Firebrick",hex:"#b22222"},{name:"Brown",hex:"#a52a2a"},{name:"Dark Salmon",hex:"#e9967a"},{name:"Salmon",hex:"#fa8072"},{name:"Light Salmon",hex:"#ffa07a"},{name:"Orange",hex:"#ffa500"},{name:"Dark Orange",hex:"#ff8c00"},{name:"Coral",hex:"#ff7f50"},{name:"Tomato",hex:"#ff6347"},{name:"Orange Red",hex:"#ff4500"},{name:"Red",hex:"#ff0000"},{name:"Crimson",hex:"#dc143c"},{name:"Deep Pink",hex:"#ff1493"},{name:"Hot Pink",hex:"#ff69b4"},{name:"Light Pink",hex:"#ffb6c1"},{name:"Pink",hex:"#ffc0cb"},{name:"Pale Violet Red",hex:"#db7093"},{name:"Medium Violet Red",hex:"#c71585"},{name:"Orchid",hex:"#da70d6"},{name:"Medium Orchid",hex:"#ba55d3"},{name:"Dark Orchid",hex:"#9932cc"},{name:"Dark Violet",hex:"#9400d3"},{name:"Blue Violet",hex:"#8a2be2"},{name:"Medium Purple",hex:"#9370db"},{name:"Slate Blue",hex:"#6a5acd"},{name:"Dark Slate Blue",hex:"#483d8b"},{name:"Blush Pink",hex:"#ff6fff"},{name:"Sunset Orange",hex:"#ff4500"},{name:"Ocean Blue",hex:"#0077be"},{name:"Forest Green",hex:"#228b22"},{name:"Lemon Yellow",hex:"#fff44f"},{name:"Peach Puff",hex:"#ffdab9"},{name:"Coral Reef",hex:"#ff7f50"},{name:"Mint Green",hex:"#98ff98"},{name:"Skyline Blue",hex:"#87ceeb"},{name:"Amber Glow",hex:"#ffbf00"},{name:"Ruby Red",hex:"#9b111e"},{name:"Emerald Green",hex:"#50c878"},{name:"Sapphire Blue",hex:"#0f52ba"},{name:"Goldenrod Yellow",hex:"#daa520"},{name:"Cinnamon Brown",hex:"#d2691e"},{name:"Lilac Mist",hex:"#c8a2c8"},{name:"Teal Wave",hex:"#008080"},{name:"Periwinkle Blue",hex:"#ccccff"},{name:"Rosewood",hex:"#65000b"},{name:"Sunflower Yellow",hex:"#ffda03"},{name:"Bubblegum Pink",hex:"#ffc1cc"},{name:"Electric Purple",hex:"#bf00ff"},{name:"Cobalt Blue",hex:"#0047ab"},{name:"Chartreuse Green",hex:"#7fff00"},{name:"Tangerine",hex:"#f28500"},{name:"Mango Tango",hex:"#ff8243"},{name:"Turquoise Blue",hex:"#40e0d0"},{name:"Crimson Tide",hex:"#dc143c"},{name:"Platinum Gray",hex:"#e5e4e2"},{name:"Ivory White",hex:"#fffff0"},{name:"Denim Blue",hex:"#1560bd"},{name:"Blazing Red",hex:"#ff2400"},{name:"Pine Green",hex:"#01796f"},{name:"Carmine Pink",hex:"#eb4c42"},{name:"Lavender Dream",hex:"#e6e6fa"},{name:"Midnight Blue",hex:"#191970"},{name:"Frost White",hex:"#f8f8ff"},{name:"Copper Penny",hex:"#ad6f69"},{name:"Sand Dune",hex:"#967117"},{name:"Arctic Blue",hex:"#d0fefe"},{name:"Blazing Yellow",hex:"#ffcc00"},{name:"Rose Quartz",hex:"#aa98a9"},{name:"Moss Green",hex:"#8a9a5b"},{name:"Berry Purple",hex:"#8a2be2"},{name:"Citrus Orange",hex:"#f4a460"},{name:"Powder Pink",hex:"#ffb6c1"},{name:"Steel Gray",hex:"#71797e"},{name:"Neon Green",hex:"#39ff14"},{name:"Velvet Red",hex:"#7e354d"},{name:"Aqua Marine",hex:"#7fffd4"},{name:"Golden Glow",hex:"#f9a602"},{name:"Cherry Blossom",hex:"#ffb7c5"},{name:"Deep Sea Blue",hex:"#001f3f"},{name:"Cranberry Red",hex:"#db143c"},{name:"Olive Green",hex:"#808000"},{name:"Rust Orange",hex:"#b7410e"},{name:"Peacock Blue",hex:"#1c39bb"},{name:"Sunset Pink",hex:"#ffcccb"},{name:"Lime Punch",hex:"#dfff00"},{name:"Eggplant Purple",hex:"#614051"},{name:"Cobalt Teal",hex:"#007ba7"},{name:"Amber Sunset",hex:"#ff4500"},{name:"Frosted Mint",hex:"#dbfff8"},{name:"Cedar Brown",hex:"#4b3621"},{name:"Ocean Mist",hex:"#b0e0e6"},{name:"Golden Peach",hex:"#ffcba4"},{name:"Rosewood Red",hex:"#65000b"},{name:"Cactus Green",hex:"#587058"},{name:"Tropical Blue",hex:"#007fff"},{name:"Blush Rose",hex:"#ff6f91"},{name:"Lava Red",hex:"#cf1020"},{name:"Pale Peach",hex:"#ffe5b4"},{name:"Azure Sky",hex:"#007fff"},{name:"Cinnamon Spice",hex:"#d2691e"},{name:"Goldenrod",hex:"#daa520"},{name:"Fuchsia Glow",hex:"#ff77ff"},{name:"Deep Plum",hex:"#8b008b"},{name:"Seafoam Green",hex:"#9fe2bf"},{name:"Citrus Lime",hex:"#bfff00"},{name:"Berry Red",hex:"#b22222"},{name:"Tangerine Dream",hex:"#ffcc00"},{name:"Electric Blue",hex:"#7df9ff"},{name:"Coral Pink",hex:"#f88379"},{name:"Lemon Chiffon",hex:"#fffacd"},{name:"Pale Lavender",hex:"#dcd0ff"},{name:"Bright Cyan",hex:"#00ffff"},{name:"Burnt Sienna",hex:"#e97451"},{name:"Golden Champagne",hex:"#f7e7ce"},{name:"Rose Pink",hex:"#ff66cc"},{name:"Deep Magenta",hex:"#cc00cc"},{name:"Pale Aqua",hex:"#bcd4e6"},{name:"Sunset Gold",hex:"#ffcc33"},{name:"Bright Maroon",hex:"#c32148"},{name:"Soft Peach",hex:"#ffe5b4"}];let eR=class extends s.ZP{constructor(){super(...arguments),this.isOverlayOpen=!1}openEditColorPanel(){this.palette&&!this.palette.locked&&(c.fz.setSingularityLeftPanel("brand_edit_color"),c.fz.setCurrentPalette({palette:this.palette,index:this.index??null}))}get textStyle(){return this.palette?{color:jL(this.palette.base.value?.toString())?this.palette.scale[900].value?.toString():this.palette.scale[100].value?.toString()}:{}}get primaryTagStyle(){return this.palette?{backgroundColor:(jL(this.palette.base.value?.toString()),this.palette.scale[600].value?.toString()),color:jL(this.palette.base.value?.toString())?this.palette.scale[900].value?.toString():this.palette.scale[100].value?.toString()}:{}}updatePalette(e){console.log("Updating palette",e),this.$emit("update",{...e,primary:this.palette.primary,locked:this.palette.locked})}removePalette(){this.$emit("remove")}lockPalette(){this.$emit("update",{...this.palette,locked:!this.palette.locked})}shufflePalette(){const e=WL();this.updatePalette(e)}get isLightColor(){return!!this.palette?.base&&jL(this.palette.base.value?.toString())}};(0,r.gn)([(0,l.fI)()],eR.prototype,"palette",void 0),(0,r.gn)([(0,l.fI)({default:!1})],eR.prototype,"neutral",void 0),(0,r.gn)([(0,l.fI)()],eR.prototype,"index",void 0),eR=(0,r.gn)([(0,PL.ZP)({components:{Icon:ze.Z}})],eR);const tR=eR,nR=tR;var sR=(0,L.Z)(nR,xL,SL,!1,null,null,null);const aR=sR.exports;var iR=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("IconButton",{staticClass:"icon-button-shuffle",class:{"is-rotating":e.isRotating},attrs:{icon:"ArrowsRotateSolidIcon",small:"true"},on:{click:e.handleClick}})},oR=[];let rR=class extends s.ZP{constructor(){super(...arguments),this.isRotating=!1}handleClick(e){this.isRotating=!0,this.$emit("update",e),setTimeout((()=>{this.isRotating=!1}),600)}};rR=(0,r.gn)([(0,l.wA)({components:{IconButton:oo.Z}})],rR);const lR=rR,cR=lR;var dR=(0,L.Z)(cR,iR,oR,!1,null,null,null);const uR=dR.exports;var pR=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"toggle-panel",class:{"toggle-panel--loading":e.isLoading}},[t("div",{staticClass:"toggle-panel__header"},[t("span",{staticClass:"toggle-panel__title",on:{click:e.toggle}},[t("Icon",{staticClass:"toggle-panel__icon",attrs:{size:"14",icon:"ChevronDownSolidIcon",rotate:e.isOpen?"":"-90"}}),t("span",[e._v(e._s(e.title))])],1),t("div",{staticClass:"toggle-panel__actions"},[e._t("actions")],2)]),e.isOpen?t("div",{staticClass:"toggle-panel__content"},[e._t("default")],2):e._e()])},hR=[];let gR=class extends s.ZP{constructor(){super(...arguments),this.isOpen=this.open}onIsOpenChanged(e){this.isOpen=e}toggle(){this.isOpen=!this.isOpen,this.$emit("update:isOpen",this.isOpen)}};(0,r.gn)([(0,l.fI)({type:String,default:""})],gR.prototype,"title",void 0),(0,r.gn)([(0,l.fI)({type:Boolean,default:!1})],gR.prototype,"isLoading",void 0),(0,r.gn)([(0,l.fI)({type:Boolean,default:!1})],gR.prototype,"open",void 0),(0,r.gn)([(0,l.RL)("isOpen")],gR.prototype,"onIsOpenChanged",null),gR=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z}})],gR);const mR=gR,vR=mR;var fR=(0,L.Z)(vR,pR,hR,!1,null,null,null);const yR=fR.exports;let bR=class extends s.ZP{get brand(){return c.fz.brand}updatePrimaryPalette(e){c.fz.setPalette({type:"primary",palette:e})}updateSecondaryPalette(e,t){c.fz.updateSecondaryPalette({index:e,palette:t})}removeSecondaryPalette(e){c.fz.removeSecondaryPalette(e)}shuffle(){HL()}addPalette(){this.brand.color.primary?VL():FL()}onBrandColorsChange(e){e&&NL(this.brand.color)}};(0,r.gn)([(0,l.RL)("brand.color",{immediate:!1,deep:!0})],bR.prototype,"onBrandColorsChange",null),bR=(0,r.gn)([(0,l.wA)({components:{BrandPaletteGenerator:aR,IconButtonShuffle:uR,Icon:ze.Z,TogglePanel:yR}})],bR);const _R=bR,xR=_R;var SR=(0,L.Z)(xR,bL,_L,!1,null,null,null);const PR=SR.exports;var CR=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TogglePanel",{attrs:{title:"Typography"},scopedSlots:e._u([{key:"actions",fn:function(){return[t("IconButtonShuffle",{on:{update:e.shuffle}})]},proxy:!0}])},[t("BrandTypographyPicker",{attrs:{value:e.headingFont,label:"Headings"},on:{update:function(t){return e.updateFont("heading_font",t)}}}),t("BrandTypographyPicker",{attrs:{value:e.bodyFont,label:"Body"},on:{update:function(t){return e.updateFont("body_font",t)}}}),t("BrandToggleFontSizes",{on:{update:e.updateFontRatio}})],1)},wR=[],IR=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"typography-picker"},[t("BrandTypographyFont",{attrs:{value:e.value,label:e.label},on:{update:e.openTypographyEditPanel}})],1)},kR=[],DR=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"typography-font",attrs:{role:"button"},on:{click:e.update}},[e.font?.previewImageUrl?t("img",{staticClass:"typography-font__preview-image",attrs:{alt:e.font?.label,src:e.font?.previewImageUrl}}):e._e(),t("div",{staticClass:"typography-font__info"},[t("span",{staticClass:"typography-font__label"},[e._v(e._s(e.description||e.font?.label||"No font"))]),e.label?t("span",{staticClass:"typography-font__description"},[e._v(" "+e._s(e.label)+" ")]):e._e()])])},ER=[];let TR=class extends s.ZP{update(){this.$emit("update",this.value)}get font(){return c.PK.fonts.find((e=>e.slug===this.value?.slug))}};(0,r.gn)([(0,l.fI)()],TR.prototype,"label",void 0),(0,r.gn)([(0,l.fI)()],TR.prototype,"description",void 0),(0,r.gn)([(0,l.fI)()],TR.prototype,"value",void 0),TR=(0,r.gn)([l.wA],TR);const ZR=TR,AR=ZR;var BR=(0,L.Z)(AR,DR,ER,!1,null,null,null);const MR=BR.exports;let OR=class extends s.ZP{constructor(){super(...arguments),this.isOverlayOpen=!1}update(e){c.fz.setSingularityLeftPanel("brand"),this.$emit("update",e)}openTypographyEditPanel(){c.fz.setSingularityLeftPanel("brand_edit_typography"),c.fz.setCurrentFont("Body"===this.label?"body_font":"heading_font")}};(0,r.gn)([(0,l.fI)()],OR.prototype,"value",void 0),(0,r.gn)([(0,l.fI)({default:"Body"})],OR.prototype,"label",void 0),OR=(0,r.gn)([(0,l.wA)({components:{BrandTypographyFont:MR}})],OR);const LR=OR,RR=LR;var NR=(0,L.Z)(RR,IR,kR,!1,null,null,null);const FR=NR.exports,$R=[{body_font:"gfont-nunitosans",heading_font:"gfont-playfairdisplay"},{body_font:"gfont-montserrat",heading_font:"gfont-domine"},{body_font:"gfont-lato",heading_font:"gfont-ptserif"},{body_font:"gfont-nunitosans",heading_font:"gfont-librecaslontext"},{body_font:"gfont-opensans",heading_font:"gfont-gloock"},{body_font:"gfont-heebo",heading_font:"gfont-ebgaramond"},{body_font:"gfont-roboto",heading_font:"gfont-lora"},{body_font:"gfont-mulish",heading_font:"gfont-domine"},{body_font:"gfont-barlow",heading_font:"gfont-dmserifdisplay"},{body_font:"gfont-roboto",heading_font:"gfont-librecaslontext"},{body_font:"gfont-mulish",heading_font:"gfont-librecaslontext"},{body_font:"gfont-heebo",heading_font:"gfont-domine"},{body_font:"gfont-karla",heading_font:"gfont-gloock"},{body_font:"gfont-montserrat",heading_font:"gfont-playfairdisplay"},{body_font:"gfont-poppins",heading_font:"gfont-cinzel"},{body_font:"gfont-manrope",heading_font:"gfont-vollkorn"},{body_font:"gfont-worksans",heading_font:"gfont-crimsonpro"},{body_font:"gfont-manrope",heading_font:"gfont-nunitosans"},{body_font:"gfont-opensans",heading_font:"gfont-jost"},{body_font:"gfont-nunitosans",heading_font:"gfont-raleway"},{body_font:"gfont-raleway",heading_font:"gfont-montserrat"},{body_font:"gfont-inter",heading_font:"gfont-karla"},{body_font:"gfont-firasans",heading_font:"gfont-nunitosans"},{body_font:"gfont-jost",heading_font:"gfont-opensans"},{body_font:"gfont-firasans",heading_font:"gfont-ibmplexsans"},{body_font:"gfont-dmsans",heading_font:"gfont-raleway"},{body_font:"gfont-quicksand",heading_font:"gfont-mulish"},{body_font:"gfont-opensans",heading_font:"gfont-inter"},{body_font:"gfont-lato",heading_font:"gfont-ibmplexsans"},{body_font:"gfont-opensans",heading_font:"gfont-lato"},{body_font:"gfont-nunitosans",heading_font:"gfont-jost"},{body_font:"gfont-montserrat",heading_font:"gfont-karla"},{body_font:"gfont-raleway",heading_font:"gfont-poppins"},{body_font:"gfont-raleway",heading_font:"gfont-dmsans"},{body_font:"gfont-crimsonpro",heading_font:"gfont-montserrat"},{body_font:"gfont-lora",heading_font:"gfont-dmsans"},{body_font:"gfont-cardo",heading_font:"gfont-firasans"},{body_font:"gfont-domine",heading_font:"gfont-poppins"},{body_font:"gfont-rosarivo",heading_font:"gfont-jost"},{body_font:"gfont-vollkorn",heading_font:"gfont-firasans"},{body_font:"gfont-domine",heading_font:"gfont-manrope"},{body_font:"gfont-ebgaramond",heading_font:"gfont-lato"},{body_font:"gfont-ebgaramond",heading_font:"gfont-manrope"},{body_font:"gfont-alegreya",heading_font:"gfont-montserrat"},{body_font:"gfont-lora",heading_font:"gfont-mulish"},{body_font:"gfont-gloock",heading_font:"gfont-manrope"},{body_font:"gfont-crimsonpro",heading_font:"gfont-ubuntu"},{body_font:"gfont-alegreya",heading_font:"gfont-karla"},{body_font:"gfont-ptserif",heading_font:"gfont-montserrat"},{body_font:"gfont-ptserif",heading_font:"gfont-lato"},{body_font:"gfont-fredoka",heading_font:"gfont-lobster"},{body_font:"gfont-comfortaa",heading_font:"gfont-pacifico"},{body_font:"gfont-rubik",heading_font:"gfont-chewy"},{body_font:"gfont-kumbhsans",heading_font:"gfont-lemon"},{body_font:"gfont-quicksand",heading_font:"gfont-righteous"},{body_font:"gfont-signika",heading_font:"gfont-monoton"},{body_font:"gfont-mavenpro",heading_font:"gfont-alfaslabone"},{body_font:"gfont-urbanist",heading_font:"gfont-bungee"},{body_font:"gfont-balsamiqsans",heading_font:"gfont-permanentmarker"},{body_font:"gfont-sen",heading_font:"gfont-russoone"}];function VR(){return $R[Math.floor(Math.random()*$R.length)]}function WR(e,t){OL("settings.typography",{[e]:t})}function HR(e){OL("settings.typography",{ratio:{breakpoint_base:e}})}var zR=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"toggle-button-group"},e._l(e.ratios,(function(n){return t("button",{key:n.value,class:{"is-active":e.isActive(n.value)},on:{click:function(t){return e.update(n.value)}}},[e._v(" "+e._s(n.label)+" ")])})),0)},UR=[];const KR=[{label:"Small",value:1.1},{label:"Normal",value:1.25},{label:"Large",value:1.4}];let GR=class extends s.ZP{constructor(){super(...arguments),this.ratios=KR}update(e){this.$emit("update",e)}get currentRatio(){return c.cr.globalSettings.settings.typography.ratio&&c.cr.globalSettings.settings.typography.ratio.breakpoint_base?c.cr.globalSettings.settings.typography.ratio.breakpoint_base:this.ratios[1].value}isActive(e){return this.currentRatio===e}};GR=(0,r.gn)([(0,l.wA)({components:{}})],GR);const qR=GR,jR=qR;var YR=(0,L.Z)(jR,zR,UR,!1,null,null,null);const XR=YR.exports;let QR=class extends s.ZP{get globalTypography(){return c.cr.globalSettings.settings.typography}get headingFont(){return c.PK.fonts.filter((e=>e.slug===this.globalTypography.heading_font))[0]}get bodyFont(){return c.PK.fonts.filter((e=>e.slug===this.globalTypography.body_font))[0]}shuffle(){const{body_font:e,heading_font:t}=VR();WR("body_font",e),WR("heading_font",t)}updateFontRatio(e){HR(e)}updateFont(e,t){WR(e,t)}};QR=(0,r.gn)([(0,l.wA)({components:{TogglePanel:yR,IconButtonShuffle:uR,BrandTypographyPicker:FR,BrandToggleFontSizes:XR}})],QR);const JR=QR,eN=JR;var tN=(0,L.Z)(eN,CR,wR,!1,null,null,null);const nN=tN.exports;var sN=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TogglePanel",{attrs:{title:"Buttons & Forms"},scopedSlots:e._u([{key:"actions",fn:function(){return[t("IconButtonShuffle",{on:{update:e.shuffle}})]},proxy:!0}])},[t("div",{staticClass:"sample-ui",style:e.sampleUIStyles},[t("div",{staticClass:"sample-ui-form-control"},[t("div",{staticClass:"sample-ui-form-control__label",style:e.stylesLabel},[e._v(" Label ")]),t("div",{staticClass:"sample-ui-form-control__form-input",style:e.stylesForms},[e._v(" Placeholder ")])]),t("div",{staticClass:"sample-ui__buttons"},[t("div",{staticClass:"sample-ui__button",style:e.stylesPrimary},[e._v("Primary")]),t("div",{staticClass:"sample-ui__button",style:e.stylesSecondary},[e._v("Secondary")])])])])},aN=[];let iN=class extends s.ZP{constructor(){super(...arguments),this.buttonRadiuses=["none","sm","md","lg","full"],this.inputRadiuses=["none","sm","md"]}get brand(){return c.fz.brand}get bodyFont(){const e=c.cr.globalSettings.settings.typography.body_font;return c.PK.fonts.find((t=>t.slug===e))}get buttonBorderRadius(){return c.fz.brand.ui.buttonRadius}get inputBorderRadius(){return c.fz.brand.ui.inputRadius}get sampleUIStyles(){return this.brand.color.neutral?{backgroundColor:this.brand.color.primary?.scale[100].value?.toString()}:{}}get stylesPrimary(){return this.brand.color.primary?{backgroundColor:this.brand.color.primary.base.value?.toString(),color:this.brand.color.primary.text.value?.toString(),borderRadius:TL[this.buttonBorderRadius]?.style}:{}}get stylesSecondary(){return this.brand.color.neutral?{backgroundColor:"transparent",color:this.brand.color.neutral.base.value?.toString(),borderColor:this.brand.color.neutral.scale[300].value?.toString(),borderRadius:TL[this.buttonBorderRadius]?.style}:{}}get stylesLabel(){return this.brand.color.neutral?{color:this.brand.color.neutral.base.value?.toString()}:{}}get stylesForms(){return this.brand.color.neutral?{borderColor:this.brand.color.neutral.scale[200].value?.toString(),borderRadius:TL[this.inputBorderRadius]?.style,color:this.brand.color.neutral.scale[300].value?.toString()}:{}}shuffleButtonCorners(){const e=Math.floor(Math.random()*this.buttonRadiuses.length);c.fz.setRadius({buttonRadius:this.buttonRadiuses[e]}),LL()}shuffleInputCorners(){const e=Math.floor(Math.random()*this.inputRadiuses.length);c.fz.setRadius({inputRadius:this.inputRadiuses[e]}),RL()}shuffle(){this.shuffleButtonCorners(),this.shuffleInputCorners()}};iN=(0,r.gn)([(0,l.wA)({components:{IconButtonShuffle:uR,Icon:ze.Z,TogglePanel:yR}})],iN);const oN=iN,rN=oN;var lN=(0,L.Z)(rN,sN,aN,!1,null,null,null);const cN=lN.exports;let dN=class extends s.ZP{constructor(){super(...arguments),this.loadingSettings=!1}async saveBrandSettings(){this.loadingSettings=!0,await ML(),this.loadingSettings=!1}destroyed(){document.removeEventListener("breakdanceSaveButtonClicked",this.saveBrandSettings)}mounted(){document.addEventListener("breakdanceSaveButtonClicked",this.saveBrandSettings)}};dN=(0,r.gn)([(0,l.wA)({components:{SingularityPanelHeader:xA,BrandManageColors:PR,BrandManageTypography:nN,BrandManageButtons:cN}})],dN);const uN=dN,pN=uN;var hN=(0,L.Z)(pN,fL,yL,!1,null,null,null);const gN=hN.exports;var mN=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-panel vscroll-wrap vscroll-scroll"},[t("div",{staticClass:"singularity-panel__wrapper"},[t("SingularityPanelHeader",{attrs:{backState:"brand",parentTitle:"Brand",childTitle:"Edit Color"}}),t("div",{staticClass:"singularity-panel__content"},[t("div",{staticClass:"brand-color-editor toggle-panel"},[t("div",{staticClass:"brand-color-editor__container"},[t("TextInput",{attrs:{value:e.internalPalette?.label,placeholder:"Palette name"},on:{input:function(t){return e.updateLabel(t)}}}),e.internalPalette?t("div",{staticClass:"brand-color-editor__swatches"},e._l(e.internalPalette?.scale,(function(n,s){return t("div",{key:"color-"+s},[n&&n.value?t("div",{staticClass:"brand-color-editor__swatch",style:e.style(n.value?.toString()),on:{click:function(t){e.copyColor(n.value?.toString())}}},[t("span",{staticClass:"brand-color-editor__swatch-label"},[e._v(" "+e._s(n.value?.toString().substring(1).toUpperCase())+" "),e.internalPalette.base.value===n.value?t("span",{staticClass:"brand-color-editor__swatch-dot"}):e._e()]),t("CopyButton",{staticClass:"brand-color-editor__swatch-copy",attrs:{valueToCopy:n.value?.toString()}})],1):e._e()])})),0):e._e(),t("BrandColorPicker",{attrs:{color:e.internalPalette?.base.value},on:{update:e.updateColor}}),t("NiceButton",{attrs:{"left-icon":"ArrowsRotateSolidIcon",color:"gray"},on:{click:e.shufflePalette}},[e._v(" Shuffle ")])],1)])])],1)])},vN=[],fN=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"palette-picker",on:{"click:outside":function(t){e.isOverlayOpen=!1}}},[e.isOverlayOpen?t("div",{staticClass:"palette-picker__overlay"},[t("Chrome",{attrs:{value:e.color,disableAlpha:!0},on:{input:e.updateColor}})],1):e._e(),t("NiceButton",{attrs:{"left-icon":"ColorPickerIcon",color:"gray",expanded:!0},on:{click:function(t){e.isOverlayOpen=!e.isOverlayOpen}}},[e._v(e._s(e.isOverlayOpen?"Hide":"Show")+" Picker")])],1)},yN=[],bN=n(94023);let _N=class extends s.ZP{constructor(){super(...arguments),this.internalColor=this.color,this.isOverlayOpen=!1,this.palette=UL(this.internalColor)}get classes(){return{"is-light":jL(this.internalColor)}}updateColor(e){this.internalColor=e.hex,this.palette=UL(e.hex),this.$emit("update",e.hex)}get inlineStyles(){return{backgroundColor:this.internalColor,color:jL(this.internalColor)?String(this.palette.scale[900].value):String(this.palette.scale[100].value)}}copyColor(e){Mc()(e)}onColorChange(e){this.internalColor=e,this.palette=UL(e)}mounted(){this.palette=UL(this.internalColor)}};(0,r.gn)([(0,l.fI)()],_N.prototype,"color",void 0),(0,r.gn)([(0,l.RL)("color")],_N.prototype,"onColorChange",null),_N=(0,r.gn)([(0,PL.ZP)({components:{Chrome:bN.Chrome,NiceButton:Wr.Z}})],_N);const xN=_N,SN=xN;var PN=(0,L.Z)(SN,fN,yN,!1,null,null,null);const CN=PN.exports;let wN=class extends s.ZP{constructor(){super(...arguments),this.internalPalette=this.currentPalette}get currentPalette(){return c.fz.currentPalette?c.fz.currentPalette.palette:null}get currentIndex(){return c.fz.currentPalette?c.fz.currentPalette.index:null}style(e){return this.currentPalette?QL(e,this.currentPalette):{}}updateColor(e){if(!this.internalPalette)return;const t=UL(e);this.internalPalette={...this.internalPalette,base:t.base,scale:t.scale,text:t.text},this.updatePalette()}copyColor(e){Mc()(e)}updateLabel(e){this.internalPalette&&(this.internalPalette.label=e)}shufflePalette(){if(!this.internalPalette)return;const e=WL();this.internalPalette={...e,primary:this.internalPalette.primary},this.updatePalette()}updatePalette(){this.internalPalette&&(this.internalPalette.primary?c.fz.setPalette({type:"primary",palette:this.internalPalette}):c.fz.updateSecondaryPalette({index:this.currentIndex??0,palette:this.internalPalette}),NL())}onPaletteChange(e){this.internalPalette={...e}}};(0,r.gn)([(0,l.RL)("currentPalette")],wN.prototype,"onPaletteChange",null),wN=(0,r.gn)([(0,l.wA)({components:{SingularityPanelHeader:xA,IconButton:oo.Z,BrandColorPicker:CN,TextInput:Qs.Z,Icon:ze.Z,NiceButton:Wr.Z,CopyButton:kh.Z}})],wN);const IN=wN,kN=IN;var DN=(0,L.Z)(kN,mN,vN,!1,null,null,null);const EN=DN.exports;var TN=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-panel vscroll-wrap vscroll-scroll"},[t("div",{staticClass:"singularity-panel__wrapper"},[t("SingularityPanelHeader",{attrs:{backState:"brand",parentTitle:"Brand",childTitle:"Typography"}}),t("div",{staticClass:"singularity-panel__content"},[t("div",{staticClass:"toggle-panel"},e._l(Object.keys(e.filteredFontsByCategory),(function(n){return t("BrandTypographyCategory",{key:n,attrs:{label:n,fonts:e.filteredFontsByCategory[n]},on:{update:e.update,show:e.showCategory}})})),1)])],1)])},ZN=[],AN=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"typography-category"},[t("div",{staticClass:"typography-category__container"},[e.isOpen?e._e():t("BrandTypographyFont",{attrs:{value:e.representativeFont,description:e.label,label:`${e.filteredFonts.length} fonts`},on:{update:e.open}}),e.isOpen?t("div",{staticClass:"typography-category__picker"},[t("div",{staticClass:"typography-category__header"},[t("span",{staticClass:"typography-category__title"},[e._v(e._s(e.label)+" fonts")]),t("IconButton",{attrs:{small:"true",icon:"CloseIcon"},on:{click:e.close}})],1),t("div",{staticClass:"typography-category__search"},[t("TextInput",{attrs:{placeholder:e.searchInputPlaceholder,value:e.filter},on:{input:e.updateFilter}})],1),t("div",{staticClass:"typography-category__fonts"},e._l(e.filteredFonts,(function(n,s){return t("BrandTypographyFont",{key:"font-"+s,attrs:{value:n},on:{update:e.update}})})),1)]):e._e()],1)])},BN=[];const MN={"sans-serif":"Inter",serif:"Playfair Display",display:"Alfa Slab One",handwriting:"Caveat Brush",monospace:"Roboto Mono"};let ON=class extends s.ZP{constructor(){super(...arguments),this.isOpen=!1,this.filter=""}updateFilter(e){this.filter=e}open(){this.isOpen=!0,this.$emit("show",this.label)}close(){this.isOpen=!1,this.$emit("show","")}get filteredFonts(){return this.fonts.filter((e=>e.label.toLowerCase().includes(this.filter.toLowerCase())))}get searchInputPlaceholder(){return`Search ${this.label} fonts`}update(e){this.$emit("update",e)}getRepresentativeFont(e,t){const n=e.find((e=>e.label===MN[t]));return n||null}get representativeFont(){const e=this.label;return this.getRepresentativeFont(this.fonts,e)}};(0,r.gn)([(0,l.fI)()],ON.prototype,"label",void 0),(0,r.gn)([(0,l.fI)()],ON.prototype,"fonts",void 0),ON=(0,r.gn)([(0,PL.ZP)({components:{BrandTypographyFont:MR,IconButton:oo.Z,TextInput:Qs.Z}})],ON);const LN=ON,RN=LN;var NN=(0,L.Z)(RN,AN,BN,!1,null,null,null);const FN=NN.exports;let $N=class extends s.ZP{constructor(){super(...arguments),this.currentCategory=""}get currentFont(){return c.fz.currentFont}get fontsByCategory(){return c.PK.fonts.reduce(((e,t)=>{const n=t.category||"Other";return e[n]||(e[n]=[]),e[n].push(t),e}),{})}get filteredFontsByCategory(){return this.currentCategory?{[this.currentCategory]:this.fontsByCategory[this.currentCategory]||[]}:this.fontsByCategory}showCategory(e){this.currentCategory=e}update(e){this.currentFont&&(c.fz.setSingularityLeftPanel("brand"),WR(this.currentFont,e.slug))}};$N=(0,r.gn)([(0,l.wA)({components:{SingularityPanelHeader:xA,BrandTypographyPicker:FR,BrandTypographyCategory:FN}})],$N);const VN=$N,WN=VN;var HN=(0,L.Z)(WN,TN,ZN,!1,null,null,null);const zN=HN.exports;let UN=class extends s.ZP{get singularityLeftPanelState(){return c.fz.singularityUiState.singularityLeftPanel}get singularityDebugPanelOpen(){return!!c.fz.singularityUiState.singularityDebugPanel}get imageEditorKey(){return c.fz.imageEditorPanelState?.imageId||"no-image"}mounted(){BL()}};UN=(0,r.gn)([(0,l.wA)({components:{SectionAddOrSwapPanel:IA,SectionWriter:BA,AIJobManager:$A,PageStructureNew:QM,ImageEditor:wB,BackgroundImageEditor:$B,IconEditor:jB,TextEditor:nM,LinkEditor:dM,ContentPropertiesEditor:fM,WPPageManagerNew:cL,SettingsPanel:vL,BrandPanel:gN,BrandPanelColorEdit:EN,BrandPanelTypographyEdit:zN}})],UN);const KN=UN,GN=KN;var qN=(0,L.Z)(GN,PM,CM,!1,null,null,null);const jN=qN.exports;var YN=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"breakdance-panel vscroll-wrap borderOnRight singularity-debug-panel"},[t(qs.Z,{on:{click:e.generateSitemapPopulatePagesWithSectionsWriteContentAndUpdateImages}},[e._v("generateSitemapPopulatePagesWithSectionsWriteContentAndUpdateImages")]),t("div",{staticClass:"singularity-debug-panel-content vscroll-wrap vscroll-scroll"},[t("SectionWriter"),t("AIJobManager"),e._v(" AI Server: "+e._s(e.aiServer)+" ")],1),t("div",[t(qs.Z,{on:{click:e.replaceImagesInSectionWithAi}},[e._v("replaceImagesInSectionWithAi")]),t(qs.Z,{on:{click:e.replaceImagesInSectionWithAiMutating}},[e._v("defensiveCopy and then replaceImagesInSectionWithAiMutating")])],1)],1)},XN=[];let QN=class extends s.ZP{generateSitemapPopulatePagesWithSectionsWriteContentAndUpdateImages(){FO()}get aiServer(){return c.fz.aiServer}async replaceImagesInSectionWithAi(){const e=c.kD.activeElement;if(!e)return void alert("no active node");const t=await(0,gA.q)(e,new AbortController);console.log("Result is:",t)}async replaceImagesInSectionWithAiMutating(){const e=c.kD.activeElement;if(!e)return void alert("no active node");const t=(0,ur.Z)(e);await(0,gA._)(t,new AbortController),console.log("phantomNode after mutation:",t)}};QN=(0,r.gn)([(0,l.wA)({components:{SectionWriter:BA,AIJobManager:$A}})],QN);const JN=QN,eF=JN;var tF=(0,L.Z)(eF,YN,XN,!1,null,null,null);const nF=tF.exports;var sF=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity",class:e.classes},["step1"!==e.singularityUiState.singularityRightPanel?t("TopNavBuilder"):e._e(),"step1"===e.singularityUiState.singularityRightPanel?t("Step1"):"page_manager"===e.singularityUiState.singularityLeftPanel?t("WPPageManagerNew"):e._e(),e.singularityUiState.singularityDebugPanel?t("SingularityDebugPanel"):e.singularityUiState.singularityLeftPanel?t("SingularityLeftPanelNew"):e._e(),t("SingularityCanvas",{class:{"is-visually-hidden":e.isFullWidthState},on:{loaded:function(t){return e.$emit("loaded")}}})],1)},aF=[],iF=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-prompt",class:{"singularity-prompt--loading":!e.waitingForThingsToBeReadyDone||e.creating}},[t("TopNav",{scopedSlots:e._u([{key:"menu",fn:function(){return e._l(e.promptSteps,(function(n){return t("li",{key:n.title},[t("button",{class:{"is-active":e.activeStep>=e.promptSteps.indexOf(n)},on:{click:function(t){e.activeStep=e.promptSteps.indexOf(n)}}},[e._v(" "+e._s(n.title)+" ")])])}))},proxy:!0}])}),t("div",{staticClass:"singularity-prompt__wrapper"},[t("div",{staticClass:"singularity-prompt__title-wrapper"},[t("img",{staticClass:"singularity-prompt__logo",attrs:{src:"https://breakdance.com/wp-content/uploads/2022/09/breakdance-logo-inverted.svg"}}),t("h1",{staticClass:"singularity-prompt__title"},[e._v("Let's get started")]),t("p",{staticClass:"singularity-prompt__tagline"},[e._v(" Create a website in minutes with AI. ")]),t("p",{staticClass:"singularity-prompt__sample-prompts"},[e._v(" Need inspiration? Start with "),t("button",{on:{click:function(t){return e.selectRandomPrompt()}}},[e._v("example")]),e._v(". ")])]),t("div",{staticClass:"singularity-prompt__prompt-wrapper"},[t("TextInput",{staticClass:"singularity-prompt__prompt-input",attrs:{value:e.businessName,label:"Website Name",multiline:!0,id:"businessName",placeholder:"Enter your website name"},on:{input:e.updateBusinessName}}),t("TextInput",{staticClass:"singularity-prompt__prompt-input",attrs:{value:e.businessDescription,multiline:!0,id:"Description",label:"Description",placeholder:"Create a website for..."},on:{input:e.updateBusinessDescription}}),t("div",{staticClass:"singularity-prompt__prompt-buttons"},[e.activeStep>0?t("NiceButton",{class:{"is-spinning":e.creating},attrs:{loading:e.creating,color:"gray",size:"large"},on:{click:e.generate}},[e._v("Back")]):e._e(),t("NiceButton",{class:{"is-spinning":e.creating},attrs:{loading:e.creating,color:"yellow",size:"large"},on:{click:e.generate}},[e._v("Next")])],1)],1)])],1)},oF=[],rF=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("header",{staticClass:"singularity-top-nav",class:{"is-compact":e.compact}},[t("div",{staticClass:"singularity-top-nav__logo"},[t("Logo",{attrs:{color:"var(--yellow600)",fill:"black",size:"40"}})],1),t("nav",{staticClass:"singularity-top-nav__menu"},[t("ul",[e._t("menu")],2)]),t("div",{staticClass:"singularity-top-nav__actions"},[e._t("actions")],2)])},lF=[],cF=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("svg",{attrs:{width:e.size,height:e.size,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("rect",{attrs:{width:"32",height:"32",rx:"2.44706",fill:e.color}}),t("path",{attrs:{d:"M17.1379 19.454L11.4485 19.4543C10.823 19.4539 10.3107 18.9238 10.3106 18.3024C10.3111 17.6811 10.8234 17.1514 11.4487 17.1512H13.732C14.3544 17.1467 14.8621 16.6182 14.8623 15.9997V9.09117C14.8627 8.47005 15.3748 7.94037 16 7.93998C16.6253 7.94024 17.1375 8.46996 17.1379 9.09117V12.3473C17.1383 12.9598 17.6766 13.4981 18.2755 13.4985C18.9009 13.4982 19.4132 12.9683 19.4134 12.347V9.09117C19.4138 8.46996 19.926 7.94024 20.5513 7.93998C21.1766 7.94024 21.6889 8.46992 21.6894 9.09117V22.9086C21.689 23.5299 21.1767 24.0597 20.5513 24.06C19.9259 24.0597 19.4137 23.5299 19.4134 22.9086V21.7571C19.4134 20.4859 18.3937 19.454 17.1379 19.454Z",fill:e.fill}}),t("path",{attrs:{d:"M16.8779 23.661C17.7748 23.661 18.5019 22.9252 18.5019 22.0176C18.5019 21.11 17.7748 20.3742 16.8779 20.3742C15.9809 20.3742 15.2538 21.11 15.2538 22.0176C15.2538 22.9252 15.9809 23.661 16.8779 23.661Z",fill:e.fill}})])},dF=[];let uF=class extends s.ZP{};(0,r.gn)([(0,l.fI)({default:"#000000"})],uF.prototype,"color",void 0),(0,r.gn)([(0,l.fI)({default:"32"})],uF.prototype,"size",void 0),(0,r.gn)([(0,l.fI)({default:"#ffffff"})],uF.prototype,"fill",void 0),uF=(0,r.gn)([l.wA],uF);const pF=uF,hF=pF;var gF=(0,L.Z)(hF,cF,dF,!1,null,null,null);const mF=gF.exports;let vF=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],vF.prototype,"compact",void 0),vF=(0,r.gn)([(0,l.wA)({components:{Logo:mF}})],vF);const fF=vF,yF=fF;var bF=(0,L.Z)(yF,rF,lF,!1,null,null,null);const _F=bF.exports;let xF=class extends s.ZP{constructor(){super(...arguments),this.creating=!1,this.rebuildFromUrl=null,this.waitingForThingsToBeReadyDone=!1,this.isBuildFromUrlMode=!1,this.activeStep=0,this.promptSteps=[{title:"Start"},{title:"Category"},{title:"Goals"},{title:"Writing Style"}],this.samplePrompts=[{buttonText:"Landing Page",businessName:"Smart Widget",businessDescription:"Create a landing page for a new product called Smart Widget. It should highlight the features and benefits of the product."},{buttonText:"Blog",businessName:"Travel Adventures",businessDescription:"Create a blog page called Travel Adventures which focuses on travel tips and experiences."},{buttonText:"Portfolio",businessName:"Creative Minds",businessDescription:"Create a design portfolio for agency called Creative Minds. It should showcase their best work and include client testimonials."},{buttonText:"Small Business",businessName:"Local Bakery",businessDescription:"Create a website for a small business called Local Bakery. It should include information about their products, location, and hours of operation."},{buttonText:"Shop",businessName:"Trendy Threads",businessDescription:"Create a shop website for a clothing store called Trendy Threads. It should include product listings, a shopping cart, and checkout functionality."}]}async beforeMount(){await(0,eD.I8)()}generate(){this.isBuildFromUrlMode?this.rebuild():this.create()}async mounted(){await AO(),this.waitingForThingsToBeReadyDone=!0}async create(){this.creating=!0,await CO(),this.creating=!1}async rebuild(){if(this.creating=!0,!this.rebuildFromUrl)return alert("Please enter a URL to rebuild from."),void(this.creating=!1);const e=await uO(this.rebuildFromUrl);console.log(e),console.log("Rebuild from URL completed"),c.fz.setSingularityLeftPanel("page_structure"),this.creating=!1}nextStep(){this.activeStep<this.promptSteps.length-1&&this.activeStep++}setSamplePrompt(e){this.isBuildFromUrlMode=!1,this.updateBusinessDescription(e.businessDescription),this.updateBusinessName(e.businessName)}selectRandomPrompt(){const e=this.samplePrompts[Math.floor(Math.random()*this.samplePrompts.length)];this.setSamplePrompt(e)}get businessName(){return c.cr.aiSettings.prompt.businessName}updateBusinessName(e){const t=(0,ur.Z)(c.cr.aiSettings);t.prompt.businessName=e,c.cr.setAiSettings(t)}updateBusinessDescription(e){const t=(0,ur.Z)(c.cr.aiSettings);t.prompt.businessDescription=e,c.cr.setAiSettings(t)}get businessDescription(){return c.cr.aiSettings.prompt.businessDescription}};xF=(0,r.gn)([(0,l.wA)({components:{TextInput:Qs.Z,TopNav:_F,NiceButton:Wr.Z}})],xF);const SF=xF,PF=SF;var CF=(0,L.Z)(PF,iF,oF,!1,null,null,null);const wF=CF.exports;var IF=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TopNav",{scopedSlots:e._u([{key:"menu",fn:function(){return e._l(e.primaryNav,(function(e){return t("TopNavButton",{key:e.name,attrs:{link:e}})}))},proxy:!0},{key:"actions",fn:function(){return[e.isPageStructureOrBrandPanelOpen?[t("TopNavToggleMobile"),t("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{size:16,icon:"EllipsisSolidIcon"}},n))]}}],null,!1,2050641947)},[t(ho.Z,[t(go.Z,{attrs:{dense:""},on:{click:e.toggleSingularityDebugPanel}},[t(mo.V9,[e._v(" Open Debug ")])],1),t(go.Z,{attrs:{dense:""},on:{click:e.toggleAdvancedMode}},[t(mo.V9,[e._v(" Open in Breakdance ")])],1),t(go.Z,{attrs:{dense:""},on:{click:e.openFrontend}},[t(mo.V9,[e._v(" Open in New Tab ")])],1)],1)],1),t("TopNavSave")]:[t("IconButton",{attrs:{size:20,icon:"CloseSolidIcon"},on:{click:function(t){return e.openPageStructure()}}})]]},proxy:!0}])})},kF=[],DF=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("button",{class:{"is-active":e.isActive},on:{click:e.handleClick}},[e._v(" "+e._s(e.link.name)+" ")])},EF=[];let TF=class extends s.ZP{openPanel(e){e&&c.fz.setSingularityLeftPanel(e)}get isActive(){return c.fz.singularityUiState.singularityLeftPanel===this.link.panelState}handleClick(){this.link.action?this.link.action():this.openPanel(this.link.panelState)}};(0,r.gn)([(0,l.fI)()],TF.prototype,"link",void 0),TF=(0,r.gn)([(0,l.wA)({components:{Icon:ze.Z}})],TF);const ZF=TF,AF=ZF;var BF=(0,L.Z)(AF,DF,EF,!1,null,null,null);const MF=BF.exports;var OF=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-save",class:{"has-unsaved-changes":e.unsavedChangesPresent}},[t("Save",{staticClass:"singularity-save__button"})],1)},LF=[];let RF=class extends s.ZP{get unsavedChangesPresent(){return c.kD.unsavedChangesPresent}};RF=(0,r.gn)([(0,l.wA)({components:{Save:po}})],RF);const NF=RF,FF=NF;var $F=(0,L.Z)(FF,OF,LF,!1,null,null,null);const VF=$F.exports;var WF=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-top-nav-mobile",class:{"is-mobile":e.isMobile}},[t("IconButton",{attrs:{size:16,icon:"MobileIcon",active:e.isMobile},on:{click:e.toggleMobileBreakpoint}})],1)},HF=[];const zF="breakpoint_phone_portrait";let UF=class extends s.ZP{get currentBreakpoint(){return c.kD.currentBreakpoint.id}get isMobile(){return c.kD.currentBreakpoint.id===zF}toggleMobileBreakpoint(){const e=this.isMobile?c.PK.breakpoints.find((e=>e.id===we.Wp)):c.PK.breakpoints.find((e=>e.id===zF));e&&c.kD.changeBreakpoint(e)}};UF=(0,r.gn)([(0,l.wA)({components:{IconButton:oo.Z}})],UF);const KF=UF,GF=KF;var qF=(0,L.Z)(GF,WF,HF,!1,null,null,null);const jF=qF.exports;let YF=class extends s.ZP{constructor(){super(...arguments),this.primaryNav=[{panelState:"page_structure",name:"Build"},{panelState:"brand",name:"Brand"},{panelState:"page_manager",name:"Pages"},{panelState:"publish",name:"Publish"}]}get singularityDebugPanelOpen(){return!!c.fz.singularityUiState.singularityDebugPanel}get isPageStructureOrBrandPanelOpen(){return"page_structure"===c.fz.singularityUiState.singularityLeftPanel||"brand"===c.fz.singularityUiState.singularityLeftPanel}toggleSingularityDebugPanel(){c.fz.setSingularityDebugPanel(this.singularityDebugPanelOpen?null:"debug")}get frontendUrl(){return(0,ql.j)()}openFrontend(){const e=this.frontendUrl;e&&window.open(e,"_blank")}openPageStructure(){c.fz.setSingularityLeftPanel("page_structure")}toggleAdvancedMode(){Ll()}};YF=(0,r.gn)([(0,l.wA)({components:{TopNav:_F,TopNavButton:MF,TopNavSave:VF,Dropdown:yo.Z,IconButton:oo.Z,TopNavToggleMobile:jF}})],YF);const XF=YF,QF=XF;var JF=(0,L.Z)(QF,IF,kF,!1,null,null,null);const e$=JF.exports;var t$=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-builder-canvas",class:{"is-mobile":e.isMobile}},[t("div",{staticClass:"singularity-browser-ui"},[e._m(0),t("IframeCanvas",{on:{loaded:function(t){return e.$emit("loaded")}}})],1)])},n$=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"singularity-browser-ui__panel"},[t("div",{staticClass:"singularity-browser-ui__dots"},[t("span"),t("span"),t("span")])])}];let s$=class extends s.ZP{get isMobile(){return c.kD.currentBreakpoint.id===zF}};s$=(0,r.gn)([(0,l.wA)({components:{IframeCanvas:qi}})],s$);const a$=s$,i$=a$;var o$=(0,L.Z)(i$,t$,n$,!1,null,null,null);const r$=o$.exports;let l$=class extends s.ZP{get singularityUiState(){return c.fz.singularityUiState}get isFullWidthState(){return"page_manager"===this.singularityUiState.singularityLeftPanel||"step1"===this.singularityUiState.singularityRightPanel||"publish"===this.singularityUiState.singularityLeftPanel}get classes(){return{"singularity--builder":!this.isFullWidthState,"singularity--full-width":this.isFullWidthState,[this.singularityUiState.singularityLeftPanel?`singularity--${this.singularityUiState.singularityLeftPanel}`:""]:!0}}};l$=(0,r.gn)([(0,l.wA)({components:{Step1:wF,SingularityCanvas:r$,SingularityLeftPanelNew:jN,TopNavBuilder:e$,SingularityDebugPanel:nF,WPPageManagerNew:cL}})],l$);const c$=l$,d$=c$;var u$=(0,L.Z)(d$,sF,aF,!1,null,null,null);const p$=u$.exports;let h$=class extends s.ZP{constructor(){super(...arguments),this.showTemplateDialog=!1}mounted(){c.kD.hasFullAccess&&(0,Ge.c)().register()}beforeDestroy(){(0,Ge.c)().unbind(),(0,Ns.uV)().unbind()}get classList(){return{[`has-permission:${this.permission}`]:!0,["no-top-bar"]:this.isSingularityMode}}get isPreviewMode(){return c.kD.isPreviewMode}get preferencesModalOpen(){return c.kD.panelState.preferencesModalOpen}get elementStudioOpen(){return c.kD.panelState.elementStudioOpen}get singularityUiState(){return c.fz.singularityUiState}get isSingularityMode(){return c.kD.isSingularityMode}updatePreferencesModal(e){c.kD.setPreferencesModalOpen(e)}get keyboardShortcutsHelpModalOpen(){return c.kD.panelState.keyboardShortcutsHelpModalOpen}updateKeyboardShortcutsHelpModal(e){c.kD.setKeyboardShortcutHelpModalOpen(e)}get activeElementId(){return c.kD.activeElementId}get leftSidebarPanelState(){return c.kD.panelState.leftSidebarPanel}get rightSidebarPanelState(){return c.kD.panelState.rightSidebarPanel}get permission(){return c.PK.permission?.slug}onIframeLoaded(){requestIdleCallback((()=>{(0,Ei.gn)()})),this.isRenderedWithTemplate()&&!this.containsTemplateContentArea&&(this.showTemplateDialog=!0),(0,Ns.uV)().register()}get showInvalidPostDialog(){return!!c.PK.invalidPostData}isRenderedWithTemplate(){return null!==window.Breakdance?.canvas?.document?.querySelector("[data-rendered-with-template]")}getTemplateAttribute(e){if(!this.isRenderedWithTemplate())return null;const t=window.Breakdance?.canvas?.document?.querySelector("[data-rendered-with-template]");return t?.getAttribute(e)}get templateName(){return this.getTemplateAttribute("data-template-name")??""}get templateId(){const e=this.getTemplateAttribute("data-template-id");return e?parseInt(e):null}get isTemplateFallback(){return"true"===this.getTemplateAttribute("data-template-is-fallback")}get templatesPageUrl(){return this.getTemplateAttribute("data-template-page-url")}get containsTemplateContentArea(){return null!==window.Breakdance?.canvas?.document?.querySelector(".bde-themeless-template-content-area")}get builderMode(){return c.PK.builderMode}get singularityModeStep1(){return this.isSingularityMode&&"step1"===this.singularityUiState.singularityRightPanel}};h$=(0,r.gn)([(0,l.wA)({components:{ComponentRootTagWarning:LZ,PreviewModeCloseButton:HZ,FirstTimeVisit:EZ,DesignLibraryModal:xS,InvalidPostDialog:SZ,TemplateDialog:mZ,ClosingConfirmations:lZ,IframeCanvasWrapper:Ji,BuilderTopBar:rd,PreferencesModal:yp,ElementStudio:nb,KeyboardShortcutsHelpModal:wp,SidebarPanels:qT,ConfirmDialog:Ed,AppLayout:tZ,SingularityLeftPanel:SM,SingularityDebugPanel:nF,SingularityLeftPanelNew:jN,Singularity:p$}})],h$);const g$=h$,m$=g$;var v$=(0,L.Z)(m$,m,v,!1,null,null,null);const f$=v$.exports;var y$=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("h1",[e._v("Unrecoverable Errors")]),e._l(e.errors,(function(n,s){return t("div",{key:s,staticClass:"unrecoverable-errors"},[e._v(" "+e._s(n)+" ")])}))],2)},b$=[];let _$=class extends s.ZP{get errors(){return c.kD.unrecoverableErrorMessages}};_$=(0,r.gn)([l.wA],_$);const x$=_$,S$=x$;var P$=(0,L.Z)(S$,y$,b$,!1,null,null,null);const C$=P$.exports;var w$=n(90878);let I$=class extends s.ZP{constructor(){super(...arguments),this.broadcastChannel=null}async beforeMount(){if("builder"===window.Breakdance.initialMode){const e=await(0,Ei.Dl)(window.Breakdance.initialDocumentToLoadId);(0,Ei.PX)(e)}this.broadcastChannel=(0,w$.a)()}beforeDestroy(){this.broadcastChannel&&this.broadcastChannel.close()}get interfaceState(){return c.kD.interfaceState}get errorsPresent(){return c.kD.unrecoverableErrorMessages.length}get currentDocumentMetaId(){return c.Hb.document.documentMeta.id}get builderMode(){return c.PK.builderMode}handleCurrentDocumentChange(e){const t=[g()(this.builderMode||"")];if(e!==wP.VY){const e=(0,Oi.aV)(c.Hb.document.documentMeta.titleLabel);t.push(e)}window.document.title=t.join(" | ")}get unsavedChangesPresent(){return c.kD.unsavedChangesPresent}handleUnsavedChangesPresentChange(e){e?this.requestClosingConfirmation():this.removeClosingConfirmation()}requestClosingConfirmation(){c.kD.requestClosingConfirmation({subject:"builder",confirmationDefinition:{title:"You must save your changes first",actionText:"Save and continue",type:"warning",hasCancel:!0,hasDiscard:!1}})}removeClosingConfirmation(){c.kD.noClosingConfirmationIsNeededFor("builder")}get confirmationChosenOption(){return c.kD.closingConfirmations.builder?.chosenOption}async handleConfirmationChosenOptionChange(e){"discard"===e?(this.removeClosingConfirmation(),(0,NS.w7)()):"save"===e&&(c.kD.setClosingConfirmationIsSaving({subject:"builder",isSaving:!0}),(0,Uo.pipe)(await(0,Di.$)(),(0,Ko.fold)((()=>{c.kD.setClosingConfirmationIsSaving({subject:"builder",isSaving:!1})}),(()=>{this.removeClosingConfirmation(),(0,NS.w7)()}))))}};(0,r.gn)([(0,l.RL)("currentDocumentMetaId")],I$.prototype,"handleCurrentDocumentChange",null),(0,r.gn)([(0,l.RL)("unsavedChangesPresent",{immediate:!0})],I$.prototype,"handleUnsavedChangesPresentChange",null),(0,r.gn)([(0,l.RL)("confirmationChosenOption",{immediate:!0})],I$.prototype,"handleConfirmationChosenOptionChange",null),I$=(0,r.gn)([(0,l.wA)({components:{BuilderLayout:f$,Loading:Li.Z,UnrecoverableErrors:C$}})],I$);const k$=I$,D$=k$;var E$=(0,L.Z)(D$,u,p,!1,null,null,null);const T$=E$.exports;var Z$=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",["normal"===e.interfaceState?t("AppLayout",{scopedSlots:e._u([{key:"topbar",fn:function(){return[t("TopBar",[t("TopBarSection",[t("div",{staticClass:"browse-mode-address-bar"},[t("h2",[e._v("Viewing Page")]),t("a",{staticClass:"ellipsis-text breakdance-browse-mode__url-to-display",attrs:{title:e.iframeUrlToDisplay,href:e.iframeUrlToDisplay,target:"_blank"}},[e._v(" "+e._s(e.iframeUrlToDisplay)+" ")])])]),t(eo.Z),t("TopBarSection",{attrs:{"border-left":"true","border-right":"true"}},[t("BreakpointsSelection",{model:{value:e.currentBreakpoint,callback:function(t){e.currentBreakpoint=t},expression:"currentBreakpoint"}})],1),t(eo.Z),t("UndoRedo"),t("TopBarSection",{attrs:{"border-left":"true"}},[t("Dropdown",{staticClass:"open-settings-toolbar-button",attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t("IconButton",e._g({attrs:{active:e.isAnyBrowseModeSupportedPanelOpen,size:"18",icon:"EllipsisStrokeIcon"}},n))]}}],null,!1,2694485179)},[t(ho.Z,[t(go.Z,{attrs:{dense:""},on:{click:e.toggleGlobalSettingsPanel}},[t(mo.V9,[e._v(" Global Settings ")])],1),t(go.Z,{attrs:{dense:""},on:{click:e.toggleSelectorsPanel}},[t(mo.V9,[e._v(" Selectors ")])],1),t(go.Z,{attrs:{dense:""},on:{click:e.togglePresetsPanel}},[t(mo.V9,[e._v(" Design Presets ")])],1),t(go.Z,{attrs:{dense:""},on:{click:e.toggleHistoryAndRevisionsPanel}},[t(mo.V9,[e._v(" History ")])],1)],1)],1)],1),t("TopBarSection",{attrs:{borderLeft:!0}},[t("BrowseModeSave")],1),t("TopBarSection",{attrs:{"border-left":"true"}},[t("IconButton",{attrs:{icon:"ArrowLeftIcon",size:"18"},on:{click:e.exitBrowseMode}})],1)],1)]},proxy:!0},{key:"body",fn:function(){return[t("ClosingConfirmations"),t("BrowseModeSidebarPanels",{attrs:{"panel-state":e.leftSidebarPanelState,position:"left"}}),t("IframeWrapper",{attrs:{"iframe-state":e.iframeState,"iframe-url":e.iframeUrl,"iframe-preview-width":e.iframePreviewWidth,"current-breakpoint":e.currentBreakpoint,"iframe-exited":!1,"iframe-id":e.iframeID,"min-width":e.iframeMinWidth},on:{iframeLoaded:e.handleIframeLoaded,previewWidthChange:e.handlePreviewWidthChange,previewWidthChangeWithAdjustmentBar:e.handlePreviewWidthChangeWithAdjustmentBar,resetPreviewWidth:e.handleResetPreviewWidth}}),t("BrowseModeSidebarPanels",{attrs:{"panel-state":e.rightSidebarPanelState,position:"right"}})]},proxy:!0}],null,!1,4123666753)}):"loading"===e.interfaceState?t("Loading"):e._e()],1)},A$=[],B$=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("AppLayoutBodyPanelArea",{attrs:{"panel-state":e.panelState,position:e.position}},["globalSettings"===e.panelState?t("GlobalSettingsPanel"):e._e(),"selectors"===e.panelState?t("SelectorsPanel"):e._e(),"history"===e.panelState?t("HistoryAndRevisionsPanel",{attrs:{"disable-revisions":!0}}):e._e(),"presets"===e.panelState?t("PresetsPanel"):e._e()],1)},M$=[];let O$=class extends s.ZP{};(0,r.gn)([(0,l.fI)()],O$.prototype,"position",void 0),(0,r.gn)([(0,l.fI)()],O$.prototype,"panelState",void 0),O$=(0,r.gn)([(0,l.wA)({components:{HistoryAndRevisionsPanel:Kw,AppLayoutBodyPanelArea:Jw,GlobalSettingsPanel:UP,SelectorsPanel:$C,PresetsPanel:Yk}})],O$);const L$=O$,R$=L$;var N$=(0,L.Z)(R$,B$,M$,!1,null,null,null);const F$=N$.exports;var $$=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("StandardButton",{staticStyle:{"margin-left":"3px","margin-right":"3px"},attrs:{loading:e.saveInProgress,minWidth:"80"},on:{click:e.save}},[e._v(" Save ")])},V$=[];let W$=class extends s.ZP{constructor(){super(...arguments),this.saveInProgress=!1}get unsavedChangesPresent(){return c.kD.unsavedChangesPresent}async save(){this.saveInProgress=!0,await(0,ZP.T)(),await(0,JP.zF)(),this.saveInProgress=!1}mounted(){Ke.uq.register(Ge.r.CMD_S,this.save)}beforeDestroy(){Ke.uq.unbind(Ge.r.CMD_S)}};W$=(0,r.gn)([(0,l.wA)({components:{StandardButton:Si}})],W$);const H$=W$,z$=H$;var U$=(0,L.Z)(z$,$$,V$,!1,null,null,null);const K$=U$.exports;let G$=class extends s.ZP{constructor(){super(...arguments),this.iframeID="breakdance-browser-iframe",this.iframeDocument=null,this.broadcastChannel=null}async beforeMount(){if("browse"===window.Breakdance.initialMode){const e=await(0,Ei.x2)();(0,Ei.Oc)(e,{returnUrl:window.Breakdance.returnUrl,browseModeOpenUrl:window.Breakdance.browseModeOpenUrl})}this.broadcastChannel=(0,w$.a)()}get interfaceState(){return c.kD.interfaceState}mounted(){this.warnIfUnsavedFunction=(0,io.$)((()=>c.cr.settingsHasUnsavedChangesPresent||c.cr.selectorsHasUnsavedChangesPresent))}beforeDestroy(){(0,io.e)(this.warnIfUnsavedFunction),this.broadcastChannel&&this.broadcastChannel.close()}handleIframeLoaded(e){if(!e)throw this.iframeDocument=null,"Unable to proceed – iframe element is missing";this.iframeDocument=(0,NS.RL)(e)}handlePreviewWidthChange(e){c.kD.changePreviewWidthMutation(e)}handlePreviewWidthChangeWithAdjustmentBar(e){c.kD.changePreviewWidthWithAdjustmentBar(e)}handleResetPreviewWidth(){c.kD.selectBaseBreakpoint()}get iframeUrl(){return c.Sr.iframeUrl}get iframeState(){return c.Sr.iframeState}get iframeDocumentTitleToDisplay(){return c.Sr.iframeDocumentTitleToDisplay}get iframeUrlToDisplay(){return c.Sr.iframeUrlToDisplay}get iframePreviewWidth(){return c.kD.canvasPreviewWidth}get iframeMinWidth(){return(0,we.GV)(c.cr)}get leftSidebarPanelState(){return c.kD.panelState.leftSidebarPanel}get rightSidebarPanelState(){return c.kD.panelState.rightSidebarPanel}get globalProperties(){return c.cr.globalProperties}get selectors(){return c.cr.cssSelectors}get presets(){return c.cr.presets}get oxySelectors(){return c.cr.oxySelectors}get isAnyBrowseModeSupportedPanelOpen(){return(0,Pl.O_)("globalSettings")||(0,Pl.O_)("selectors")||(0,Pl.O_)("history")}get currentBreakpoint(){return c.kD.currentBreakpoint}set currentBreakpoint(e){c.kD.changeBreakpoint(e)}exitBrowseMode(){(0,NS.os)()}toggleGlobalSettingsPanel(){(0,Pl._y)("globalSettings")}toggleSelectorsPanel(){(0,Pl._y)("selectors")}togglePresetsPanel(){(0,Pl._y)("presets")}toggleHistoryAndRevisionsPanel(){(0,Pl.oM)("history")}handleCurrentDocumentChange(){(0,NS.r1)()}onGlobalSettingsChanged(){this.iframeDocument&&(0,Na.TK)(this.iframeDocument)}onSelectorsChanged(){this.iframeDocument&&(0,Na.EO)(this.iframeDocument)}onPresetsChanged(){this.iframeDocument&&(0,Na.aL)(this.iframeDocument)}onOxySelectorsChanged(){this.iframeDocument&&(0,Fa.V)(this.iframeDocument)}};(0,r.gn)([(0,l.RL)("iframeDocumentTitleToDisplay",{immediate:!0})],G$.prototype,"handleCurrentDocumentChange",null),(0,r.gn)([(0,l.RL)("globalProperties",{deep:!0,immediate:!0})],G$.prototype,"onGlobalSettingsChanged",null),(0,r.gn)([(0,l.RL)("selectors",{deep:!0,immediate:!0})],G$.prototype,"onSelectorsChanged",null),(0,r.gn)([(0,l.RL)("presets",{deep:!0,immediate:!0})],G$.prototype,"onPresetsChanged",null),(0,r.gn)([(0,l.RL)("oxySelectors",{deep:!0,immediate:!0})],G$.prototype,"onOxySelectorsChanged",null),G$=(0,r.gn)([(0,l.wA)({components:{UndoRedo:Ro,BrowseModeSave:K$,BrowseModeSidebarPanels:F$,BreakpointsSelection:Po,Icon:ze.Z,StandardButton:Si,IframeWrapper:Hi,TopBarSection:Ao,AppLayoutBodyPanelArea:Jw,TopBar:gc,AppLayout:tZ,IconButton:oo.Z,ClosingConfirmations:lZ,Dropdown:yo.Z,Loading:Li.Z}})],G$);const q$=G$,j$=q$;var Y$=(0,L.Z)(j$,Z$,A$,!1,null,null,null);const X$=Y$.exports;async function Q$(e){if(e.origin!==window.location.origin)return void console.warn("Message received from untrusted origin:",e.origin);const t=e.data,{id:n,type:s,payload:a}=t;if("REQUEST"===s&&n&&a?.action)try{switch(a.action){case"saveDocumentToWordPress":await(0,Di.$)();break;case"updateGlobalSettingsPerPath":Ce.n.ignore((async()=>{c.cr.updateGlobalSettingsPerPath(a.data)}));break;case"updateBreakpoint":Ce.n.ignore((async()=>{c.kD.changeBreakpoint(a.data.breakpoint)}));break;case"importSectionFromOnboarding":(0,Ox.AE)([a.data.sectionTree],"pasting",{},{mode:"replace",targetElementId:c.kD.activeElementId||a.data.targetElementId});break;case"onboardingActivateElement":Ce.n.ignore((async()=>{c.kD.activateElement(a.data.elementId)}));break;case"updateSectionPrompt":c.Hb.unthrottledPropertyChanged({elementId:a.data.elementId,path:"meta.promptInfo.sectionDescription",meta:{snapshotLabel:"Updated prompt info for element"},value:a.data.sectionDescription}),await(0,kt.H2)(a.data.elementId);break;case"shuffleSection":(0,Lt.R4)(a.data.elementId);break;case"toggleSectionColors":(0,yt.x3)(a.data.elementId,a.data.colorGroup);break;default:throw new Error(`Unknown action: ${a.action}`)}const t={activeElementId:c.kD.activeElementId,document:c.Hb.document};window.parent.postMessage({id:n,type:"RESPONSE",payload:{success:!0,payload:t}},e.origin)}catch(i){window.parent.postMessage({id:n,type:"RESPONSE",payload:{success:!1,error:i.message||"Unknown iframe error"}},e.origin)}}let J$=class extends s.ZP{beforeMount(){window.Breakdance.singularity?(Nl(),"step1"===window.Breakdance.singularity?Bl("step1"):"step2"===window.Breakdance.singularity&&Bl("step2")):c.kD.setMode({mode:window.Breakdance.initialMode})}mounted(){(0,Dt.K)("Builder Loaded",{subscriptionMode:window.Breakdance.subscriptionMode,builderMode:window.Breakdance.initialMode,theme:c.kD.settings.theme,url:location.href,title:document.title,viewport:{width:window.innerWidth,height:window.innerHeight}}),window.Breakdance.isOnboarding&&window.addEventListener("message",Q$)}get isBrowseModeEnabled(){return"browse"===c.kD.mode?.mode}get useCustomScrollbar(){if("breakdance"===c.PK.builderMode)return!1;const e=Vs().toLowerCase();return/windows/.test(e)}get useThinScrollbar(){return"breakdance"!==c.PK.builderMode&&!this.useCustomScrollbar}get useDarkMode(){return"oxygen"===c.PK.builderMode||"dark"===c.kD.settings.theme}get isOnboardingMode(){return window.Breakdance.isOnboarding}get classList(){return{"breakdance-dark-mode":this.useDarkMode,"breakdance-preview-mode":this.isPreviewMode,"oxygen-custom-scrollbar":this.useCustomScrollbar,"oxygen-thin-scrollbar":this.useThinScrollbar,"breakdance-onboarding":this.isOnboardingMode}}get isPreviewMode(){return c.kD.isPreviewMode}darkModeWatcher(e){this.$vuetify.theme.dark=e}};(0,r.gn)([(0,l.RL)("useDarkMode",{immediate:!0})],J$.prototype,"darkModeWatcher",null),J$=(0,r.gn)([(0,l.wA)({components:{BrowseMode:X$,Builder:T$,Notifications:d.Z}})],J$);const eV=J$,tV=eV;var nV=(0,L.Z)(tV,i,o,!1,null,null,null);const sV=nV.exports;var aV=n(74604),iV=n(18082);s.ZP.config.productionTip=!1,s.ZP.config.ignoredElements=["lite-vimeo","lite-youtube"],s.ZP.directive("permission",aV.Z),s.ZP.use(iV.k,{getTranslations:iV.F}),new s.ZP({store:c.ZP,vuetify:Pi.Z,render:e=>e(sV)}).$mount("#app")},59810:(e,t,n)=>{n.d(t,{kq:()=>o});var s=n(27361),a=n.n(s),i=n(90889);function o(e,t={}){if(e){if("function"===typeof e)return e();const n=e.some((e=>"string"===typeof e)),s=n?[e]:e;return s.map((e=>l(e,t))).every(Boolean)}return!0}function r(e,t){const n=a()(t,e);if((0,i.Hk)(n)){const e=(0,i.X_)(n);if(e?.value)return e.value}return n}function l(e,t){const[n,s,a]=e,i=r(n,t);return"=="===s&&i===a||("!="===s&&i!==a||(">"===s&&i>a||("<"===s&&i<a||(">="===s&&i>=a||("<="===s&&i<=a||(!("in"!==s||!a.includes(i))||("not in"===s&&!a.includes(i)||(!("contains"!==s||!i.includes(a))||("not contains"===s&&!i.includes(a)||(!("starts with"!==s||!i.startsWith(a))||!("ends with"!==s||!i.endsWith(a))))))))))))}},24111:(e,t,n)=>{function s(e){const t="class"===e.type?`.${e.name}`:e.name;return{...e,children:e.children?.map((e=>{const n=e.name.includes("&")?e.name:`& ${e.name}`;return{...e,name:n.replace(/&/g,t)}}))}}n.d(t,{r:()=>s})},41836:(e,t,n)=>{n.d(t,{$Q:()=>v,Ap:()=>m,Ds:()=>g,u7:()=>f});var s=n(98851),a=n(3735),i=n(48973),o=n(51168),r=n(31044),l=n(65669),c=n(32521),d=n(95690),u=n(69137),p=n(17582);function h(e){u.n.transaction((()=>{const t=r.cr.variables;let n=t.length;for(let a=t.length-1;a>=0;a--)if(t[a].collection===e.collection){n=a+1;break}const s=[...t.slice(0,n),e,...t.slice(n)];r.cr.setVariables(s)}),"Add Variable")}function g(e){h(e),(0,d.O_)("variables")||v()}async function m(){const e=await(0,s.D)({action:"breakdance_load_variables",decoder:p.r6});return(0,a.zG)(e,(0,i.g_)((e=>((0,o.UE)(e.map((e=>({...e,customNotificationToShow:e.customNotificationToShow?"INTERNAL_SERVER_ERROR"===e.customNotificationToShow.type?{...e.customNotificationToShow,keepOpen:!0}:e.customNotificationToShow:void 0})))),!1)),(e=>(u.n.ignore((()=>{r.cr.setVariables(e.variables),r.cr.setVariablesCollections(e.collections),r.cr.markCurrentVariablesAsUntouched()})),!0))))}async function v(){return(0,a.zG)(await(0,s.D)({friendlyName:"Saving variables to WordPress",action:"breakdance_save_variables",dataToPost:{variables:(0,l.J)({variables:r.cr.variables,collections:r.cr.variablesCollections})},decoder:c._4}),(0,i.g_)((e=>((0,o.UE)(e),!1)),(()=>(u.n.ignore((()=>r.cr.markCurrentVariablesAsUntouched())),!0))))}async function f(){return(0,a.zG)(await(0,s.D)({action:"breakdance_retrieve_variables_revisions",decoder:p.SD}),(0,i.Vn)((()=>null)),i.i$)}},67132:(e,t,n)=>{n.d(t,{Qu:()=>o,rf:()=>r});var s=n(98851),a=n(48262),i=(n(9665),n(39664),n(65669));async function o(e){return await(0,s.D)({action:"breakdance_manage_templates_save",dataToPost:{id:e.id,title:e.title,postType:e.postType,settings:(0,i.J)(e.settings)},decoder:a.t0,resultKey:"data",friendlyName:"Save template"})}async function r(e){return await(0,s.D)({action:"breakdance_manage_templates_load_data",dataToPost:{post_type:e},decoder:a.YL,resultKey:"data",friendlyName:"Get templates data"})}},47187:(e,t,n)=>{n.d(t,{aA:()=>i});n(23128);var s=n(18446),a=n.n(s);function i(e,t,n){const s=e.find((e=>a()(e.settings,t)));return!s||confirm(`You already have a ${n} with the same settings called "${s.title}". Continue anyway?`)}},48262:(e,t,n)=>{n.d(t,{YL:()=>f,t0:()=>g});var s=n(99697),a=n(47902),i=n(32521),o=n(88683),r=n(20918);const l=i.jV([i.dt({slug:i.Z_,label:i.Z_}),i.r$({defaultPriority:i.pk})]),c=(i.IX(i.dt({text:i.Z_,value:i.pk})),i.IX(i.dt({label:i.Z_,types:i.IX(l)}))),d=i.r$({parentId:i.pk,type:i.Z_,ruleGroups:i.IX(s.ZQ),triggers:s.Gc,priority:i.pk,disabled:i.O7,fallback:i.O7,onlyShowOnce:i.O7,avoidMultiple:i.O7,limitPageLoad:i.G0([i.pk,i.lB]),limitSession:i.G0([i.pk,i.lB]),limitForever:i.G0([i.pk,i.lB])}),u=i.G0([i.i0(r.AZ),i.i0(r.lM),i.i0(r.kl),i.i0(r.Nn),i.i0(r.WZ),i.i0(r.$v),i.i0(r.hF),i.i0(r.Zr),i.i0("breakdance_popup"),i.i0("breakdance_acf_block")]),p=i.dt({id:i.pk,title:i.Z_,editInBreakdanceLink:i.Z_,postType:u,status:i.G0([i.i0("publish"),i.i0("trash"),i.S1])}),h=i.jV([p,i.dt({settings:i.G0([d,i.lB])})]),g=i.jV([p,i.dt({settings:d})]),m=i.dt({text:i.Z_,value:i.Z_,proOnly:i.G0([i.S1,i.O7])}),v=i.dt({conditions:i.IX(s.dV),dynamicFields:i.IX(a.pG),templateTypeCategories:c,popupTriggers:i.G0([i.lB,i.IX(m)])}),f=i.dt({templates:i.IX(h),templatesManagementData:v,isWooCommerceActive:i.O7,environment:o.Pt})},43981:(e,t,n)=>{n.d(t,{Z:()=>s});const s="form.breakdance-unbrowsable,\nform.breakdance-unbrowsable input,\nform.breakdance-unbrowsable select,\nform.breakdance-unbrowsable button,\na.breakdance-unbrowsable,\narea.breakdance-unbrowsable {\n    cursor: not-allowed !important;\n}"}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,(()=>{var e=[];n.O=(t,s,a,i)=>{if(!s){var o=1/0;for(d=0;d<e.length;d++){for(var[s,a,i]=e[d],r=!0,l=0;l<s.length;l++)(!1&i||o>=i)&&Object.keys(n.O).every((e=>n.O[e](s[l])))?s.splice(l--,1):(r=!1,i<o&&(o=i));if(r){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,a,i]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{n.j=143})(),(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,s)=>{var a,i,[o,r,l]=s,c=0;if(o.some((t=>0!==e[t]))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(l)var d=l(n)}for(t&&t(s);c<o.length;c++)i=o[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},s=globalThis["webpackChunkbuilder"]=globalThis["webpackChunkbuilder"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s=n.O(void 0,[998,64],(()=>n(56658)));s=n.O(s)})();
//# sourceMappingURL=app.d7ba6eed.js.map